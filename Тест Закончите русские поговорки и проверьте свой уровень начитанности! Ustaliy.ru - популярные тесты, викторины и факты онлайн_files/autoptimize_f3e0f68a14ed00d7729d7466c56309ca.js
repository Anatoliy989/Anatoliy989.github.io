/*! jQuery Migrate v3.3.2 | (c) OpenJS Foundation and other contributors | jquery.org/license */
"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),window):t(jQuery,window)}(function(s,n){"use strict";function e(e){return 0<=function(e,t){for(var r=/^(\d+)\.(\d+)\.(\d+)/,n=r.exec(e)||[],o=r.exec(t)||[],i=1;i<=3;i++){if(+o[i]<+n[i])return 1;if(+n[i]<+o[i])return-1}return 0}(s.fn.jquery,e)}s.migrateVersion="3.3.2",n.console&&n.console.log&&(s&&e("3.0.0")||n.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),s.migrateWarnings&&n.console.log("JQMIGRATE: Migrate plugin loaded multiple times"),n.console.log("JQMIGRATE: Migrate is installed"+(s.migrateMute?"":" with logging active")+", version "+s.migrateVersion));var r={};function u(e){var t=n.console;s.migrateDeduplicateWarnings&&r[e]||(r[e]=!0,s.migrateWarnings.push(e),t&&t.warn&&!s.migrateMute&&(t.warn("JQMIGRATE: "+e),s.migrateTrace&&t.trace&&t.trace()))}function t(e,t,r,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return u(n),r},set:function(e){u(n),r=e}})}function o(e,t,r,n){e[t]=function(){return u(n),r.apply(this,arguments)}}s.migrateDeduplicateWarnings=!0,s.migrateWarnings=[],void 0===s.migrateTrace&&(s.migrateTrace=!0),s.migrateReset=function(){r={},s.migrateWarnings.length=0},"BackCompat"===n.document.compatMode&&u("jQuery is not compatible with Quirks Mode");var i,a,c,d={},l=s.fn.init,p=s.find,f=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,y=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,m=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;for(i in s.fn.init=function(e){var t=Array.prototype.slice.call(arguments);return"string"==typeof e&&"#"===e&&(u("jQuery( '#' ) is not a valid selector"),t[0]=[]),l.apply(this,t)},s.fn.init.prototype=s.fn,s.find=function(t){var r=Array.prototype.slice.call(arguments);if("string"==typeof t&&f.test(t))try{n.document.querySelector(t)}catch(e){t=t.replace(y,function(e,t,r,n){return"["+t+r+'"'+n+'"]'});try{n.document.querySelector(t),u("Attribute selector with '#' must be quoted: "+r[0]),r[0]=t}catch(e){u("Attribute selector with '#' was not fixed: "+r[0])}}return p.apply(this,r)},p)Object.prototype.hasOwnProperty.call(p,i)&&(s.find[i]=p[i]);o(s.fn,"size",function(){return this.length},"jQuery.fn.size() is deprecated and removed; use the .length property"),o(s,"parseJSON",function(){return JSON.parse.apply(null,arguments)},"jQuery.parseJSON is deprecated; use JSON.parse"),o(s,"holdReady",s.holdReady,"jQuery.holdReady is deprecated"),o(s,"unique",s.uniqueSort,"jQuery.unique is deprecated; use jQuery.uniqueSort"),t(s.expr,"filters",s.expr.pseudos,"jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),t(s.expr,":",s.expr.pseudos,"jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos"),e("3.1.1")&&o(s,"trim",function(e){return null==e?"":(e+"").replace(m,"")},"jQuery.trim is deprecated; use String.prototype.trim"),e("3.2.0")&&(o(s,"nodeName",function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},"jQuery.nodeName is deprecated"),o(s,"isArray",Array.isArray,"jQuery.isArray is deprecated; use Array.isArray")),e("3.3.0")&&(o(s,"isNumeric",function(e){var t=typeof e;return("number"==t||"string"==t)&&!isNaN(e-parseFloat(e))},"jQuery.isNumeric() is deprecated"),s.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()}),o(s,"type",function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[Object.prototype.toString.call(e)]||"object":typeof e},"jQuery.type is deprecated"),o(s,"isFunction",function(e){return"function"==typeof e},"jQuery.isFunction() is deprecated"),o(s,"isWindow",function(e){return null!=e&&e===e.window},"jQuery.isWindow() is deprecated")),s.ajax&&(a=s.ajax,c=/(=)\?(?=&|$)|\?\?/,s.ajax=function(){var e=a.apply(this,arguments);return e.promise&&(o(e,"success",e.done,"jQXHR.success is deprecated and removed"),o(e,"error",e.fail,"jQXHR.error is deprecated and removed"),o(e,"complete",e.always,"jQXHR.complete is deprecated and removed")),e},e("4.0.0")||s.ajaxPrefilter("+json",function(e){!1!==e.jsonp&&(c.test(e.url)||"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&c.test(e.data))&&u("JSON-to-JSONP auto-promotion is deprecated")}));var g=s.fn.removeAttr,h=s.fn.toggleClass,v=/\S+/g;function j(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}s.fn.removeAttr=function(e){var r=this;return s.each(e.match(v),function(e,t){s.expr.match.bool.test(t)&&(u("jQuery.fn.removeAttr no longer sets boolean properties: "+t),r.prop(t,!1))}),g.apply(this,arguments)};var Q,b=!(s.fn.toggleClass=function(t){return void 0!==t&&"boolean"!=typeof t?h.apply(this,arguments):(u("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var e=this.getAttribute&&this.getAttribute("class")||"";e&&s.data(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==t&&s.data(this,"__className__")||"")}))}),w=/^[a-z]/,x=/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;s.swap&&s.each(["height","width","reliableMarginRight"],function(e,t){var r=s.cssHooks[t]&&s.cssHooks[t].get;r&&(s.cssHooks[t].get=function(){var e;return b=!0,e=r.apply(this,arguments),b=!1,e})}),s.swap=function(e,t,r,n){var o,i,a={};for(i in b||u("jQuery.swap() is undocumented and deprecated"),t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=r.apply(e,n||[]),t)e.style[i]=a[i];return o},e("3.4.0")&&"undefined"!=typeof Proxy&&(s.cssProps=new Proxy(s.cssProps||{},{set:function(){return u("JQMIGRATE: jQuery.cssProps is deprecated"),Reflect.set.apply(this,arguments)}})),s.cssNumber||(s.cssNumber={}),Q=s.fn.css,s.fn.css=function(e,t){var r,n,o=this;return e&&"object"==typeof e&&!Array.isArray(e)?(s.each(e,function(e,t){s.fn.css.call(o,e,t)}),this):("number"==typeof t&&(r=j(e),n=r,w.test(n)&&x.test(n[0].toUpperCase()+n.slice(1))||s.cssNumber[r]||u('Number-typed values are deprecated for jQuery.fn.css( "'+e+'", value )')),Q.apply(this,arguments))};var A,k,S,M,N=s.data;s.data=function(e,t,r){var n,o,i;if(t&&"object"==typeof t&&2===arguments.length){for(i in n=s.hasData(e)&&N.call(this,e),o={},t)i!==j(i)?(u("jQuery.data() always sets/gets camelCased names: "+i),n[i]=t[i]):o[i]=t[i];return N.call(this,e,o),t}return t&&"string"==typeof t&&t!==j(t)&&(n=s.hasData(e)&&N.call(this,e))&&t in n?(u("jQuery.data() always sets/gets camelCased names: "+t),2<arguments.length&&(n[t]=r),n[t]):N.apply(this,arguments)},s.fx&&(S=s.Tween.prototype.run,M=function(e){return e},s.Tween.prototype.run=function(){1<s.easing[this.easing].length&&(u("'jQuery.easing."+this.easing.toString()+"' should use only one argument"),s.easing[this.easing]=M),S.apply(this,arguments)},A=s.fx.interval||13,k="jQuery.fx.interval is deprecated",n.requestAnimationFrame&&Object.defineProperty(s.fx,"interval",{configurable:!0,enumerable:!0,get:function(){return n.document.hidden||u(k),A},set:function(e){u(k),A=e}}));var R=s.fn.load,H=s.event.add,C=s.event.fix;s.event.props=[],s.event.fixHooks={},t(s.event.props,"concat",s.event.props.concat,"jQuery.event.props.concat() is deprecated and removed"),s.event.fix=function(e){var t,r=e.type,n=this.fixHooks[r],o=s.event.props;if(o.length){u("jQuery.event.props are deprecated and removed: "+o.join());while(o.length)s.event.addProp(o.pop())}if(n&&!n._migrated_&&(n._migrated_=!0,u("jQuery.event.fixHooks are deprecated and removed: "+r),(o=n.props)&&o.length))while(o.length)s.event.addProp(o.pop());return t=C.call(this,e),n&&n.filter?n.filter(t,e):t},s.event.add=function(e,t){return e===n&&"load"===t&&"complete"===n.document.readyState&&u("jQuery(window).on('load'...) called after load event occurred"),H.apply(this,arguments)},s.each(["load","unload","error"],function(e,t){s.fn[t]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===t&&"string"==typeof e[0]?R.apply(this,e):(u("jQuery.fn."+t+"() is deprecated"),e.splice(0,0,t),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),s.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,r){s.fn[r]=function(e,t){return u("jQuery.fn."+r+"() event shorthand is deprecated"),0<arguments.length?this.on(r,null,e,t):this.trigger(r)}}),s(function(){s(n.document).triggerHandler("ready")}),s.event.special.ready={setup:function(){this===n.document&&u("'ready' event is deprecated")}},s.fn.extend({bind:function(e,t,r){return u("jQuery.fn.bind() is deprecated"),this.on(e,null,t,r)},unbind:function(e,t){return u("jQuery.fn.unbind() is deprecated"),this.off(e,null,t)},delegate:function(e,t,r,n){return u("jQuery.fn.delegate() is deprecated"),this.on(t,e,r,n)},undelegate:function(e,t,r){return u("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return u("jQuery.fn.hover() is deprecated"),this.on("mouseenter",e).on("mouseleave",t||e)}});function T(e){var t=n.document.implementation.createHTMLDocument("");return t.body.innerHTML=e,t.body&&t.body.innerHTML}function P(e){var t=e.replace(O,"<$1></$2>");t!==e&&T(e)!==T(t)&&u("HTML tags must be properly nested and closed: "+e)}var O=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,q=s.htmlPrefilter;s.UNSAFE_restoreLegacyHtmlPrefilter=function(){s.htmlPrefilter=function(e){return P(e),e.replace(O,"<$1></$2>")}},s.htmlPrefilter=function(e){return P(e),q(e)};var D,_=s.fn.offset;s.fn.offset=function(){var e=this[0];return!e||e.nodeType&&e.getBoundingClientRect?_.apply(this,arguments):(u("jQuery.fn.offset() requires a valid DOM element"),arguments.length?this:void 0)},s.ajax&&(D=s.param,s.param=function(e,t){var r=s.ajaxSettings&&s.ajaxSettings.traditional;return void 0===t&&r&&(u("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),t=r),D.call(this,e,t)});var E,F,J=s.fn.andSelf||s.fn.addBack;return s.fn.andSelf=function(){return u("jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),J.apply(this,arguments)},s.Deferred&&(E=s.Deferred,F=[["resolve","done",s.Callbacks("once memory"),s.Callbacks("once memory"),"resolved"],["reject","fail",s.Callbacks("once memory"),s.Callbacks("once memory"),"rejected"],["notify","progress",s.Callbacks("memory"),s.Callbacks("memory")]],s.Deferred=function(e){var i=E(),a=i.promise();return i.pipe=a.pipe=function(){var o=arguments;return u("deferred.pipe() is deprecated"),s.Deferred(function(n){s.each(F,function(e,t){var r="function"==typeof o[e]&&o[e];i[t[1]](function(){var e=r&&r.apply(this,arguments);e&&"function"==typeof e.promise?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[t[0]+"With"](this===a?n.promise():this,r?[e]:arguments)})}),o=null}).promise()},e&&e.call(i,i),i},s.Deferred.exceptionHook=E.exceptionHook),s});
(function($){'use strict';var createCookie=function(name,value,time){var expires;if(time){var date=new Date();var ms=time;if(typeof time==='object'){ms=time.value;switch(time.type){case'days':ms=ms*24*60*60*1000;break;}}
date.setTime(date.getTime()+ms);expires='; expires='+date.toGMTString();}
else{expires='';}
document.cookie=name+'='+value+expires+'; path=/';};var readCookie=function(name){var nameEQ=name+'=';var ca=document.cookie.split(';');for(var i=0;i<ca.length;i+=1){var c=ca[i];while(c.charAt(0)===' '){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}
return null;};var slideUp=function(){var
$slideUpSlotWrap=$('.adace-slideup-slot-wrap'),$slideUpCloserBtn=$slideUpSlotWrap.find('.adace-slideup-slot-closer'),SlideupCookie=readCookie('adace_slideup_disabled');$slideUpCloserBtn.on('click',function(e){e.preventDefault();$slideUpSlotWrap.addClass('hidden');createCookie('adace_slideup_disabled',1,24*60*60*1000);});if(SlideupCookie){$slideUpSlotWrap.remove();}};$(document).ready(function(){slideUp();});})(jQuery);
(function($){'use strict';$(document).ready(function(){$('.shoppable-image').each(function(){shoppable_image($(this));});$('body').on('shoppableImages',function(e,$content){$content.find('.shoppable-image').each(function(){shoppable_image($(this));});});});var shoppable_image=function(ThisImagemap){if(ThisImagemap.data('aceShoppableImageLoaded')){return;}
var
Map=ThisImagemap.find('.shoppable-image-map'),HideBtn=ThisImagemap.find('.shoppable-image-hideshow-btn');new Waypoint({element:ThisImagemap,handler:function(direction){if(direction==='down'){ThisImagemap.addClass('pins-visible');}else{ThisImagemap.removeClass('pins-visible');}},offset:'80%'});HideBtn.click(function(e){e.preventDefault();Map.toggleClass('hide-pins');});shoppable_image_resize(ThisImagemap);$(window).resize(function(){shoppable_image_resize(ThisImagemap);});ThisImagemap.data('aceShoppableImageLoaded',true);};var shoppable_image_resize=function(ThisImagemap){var
Pins=ThisImagemap.find('.shoppable-image-pin');Pins.each(function(){var
ThisPinBody=$(this).find('.shoppable-image-pin-body');ThisPinBody.css({"margin-left":"auto"});var
BodyRect=ThisPinBody[0].getBoundingClientRect(),OffsetLeft=BodyRect.x,OffsetRight=(BodyRect.x+BodyRect.width)-window.innerWidth;if(OffsetLeft<0){ThisPinBody.css({"margin-left":-OffsetLeft+'px'});}
if(OffsetRight>0){ThisPinBody.css({"margin-left":-OffsetRight+'px'});}});};})(jQuery);
(function($){'use strict';var copyCoupon=function(){var
Coupons=$('.adace-coupon-wrap');Coupons.each(function(){if($(this).hasClass('active')){return;}else{$(this).addClass('active');}
var
CopyBtn=$(this).find('.coupon-copy'),CopyAction=$(this).find('.coupon-action'),CopyActionText=CopyAction.text(),CopyCode=$(this).find('.coupon-code'),CopyCodeText=CopyCode.text();CopyBtn.click(function(e){e.preventDefault();var CopyArea=$('<input class="copy-area" style="visibillity:hidden;" value="'+CopyCodeText+'" />');CopyCode.prepend(CopyArea);CopyArea=$('.copy-area');CopyArea.select();try{document.execCommand('copy');}catch(err){alert('This feature is not supported in your browser, please copy the coupon manually.');$('.adace-coupon-code').select();}
CopyArea.blur().remove();if(CopyBtn.hasClass('copied')){return;}
CopyBtn.addClass('copied blink');setTimeout(function(){CopyAction.html(CopyAction.data('copied'));CopyBtn.removeClass('blink');},375);setTimeout(function(){CopyBtn.addClass('blink');},4625);setTimeout(function(){CopyAction.html(CopyActionText);CopyBtn.removeClass('copied blink');},5000);});});};$(document).ready(function(){copyCoupon();});})(jQuery);
jQuery(document).ready(function(){var attrName='data-a-src';if(jQuery('.wp_automatic_gallery').attr('data-a-src')==undefined)attrName='src';var wp_automatic_main_scr=jQuery('.wp_automatic_gallery:first-child').attr(attrName);jQuery('.wp_automatic_gallery:first-child').before('<div class="wp_automatic_gallery_wrap"><div style="background-image:url(\''+wp_automatic_main_scr+'\')" class="wp_automatic_gallery_main" ></div><div class="clear"></div></div>');jQuery('.wp_automatic_gallery').each(function(){jQuery('.wp_automatic_gallery_wrap').append('<div class="wp_automatic_gallery_btn" style="background-image:url(\''+jQuery(this).attr(attrName)+'\')" ></div>');jQuery(this).remove();});jQuery('.wp_automatic_gallery_btn:last').after('<div style="clear:both"></div><br>');jQuery('.wp_automatic_gallery_btn').click(function(){jQuery('.wp_automatic_gallery_main').css('background-image',jQuery(this).css('background-image'));});});
var wpp_params=null,WordPressPopularPosts=function(){var m=function(){},h=!!HTMLElement.prototype.attachShadow,f=function(b,c,a,g,k){var e=new XMLHttpRequest,d={"X-Requested-With":"XMLHttpRequest"};b=-1!=["GET","POST"].indexOf(b)?b:"GET";"POST"==b&&(d["Content-Type"]="application/x-www-form-urlencoded");"object"==typeof k&&Object.keys(k).length&&(d=Object.assign({},d,k));e.open(b,c+("GET"==b?"?"+a:""),!0);for(var l in d)d.hasOwnProperty(l)&&e.setRequestHeader(l,d[l]);e.onreadystatechange=function(){4===
    e.readyState&&200<=e.status&&300>e.status&&"function"===typeof g&&g.call(void 0,e.response)};e.send("POST"==b?a:null)};return{get:function(b,c,a,g){a="function"===typeof a?a:m;f("GET",b,c,a,g)},post:function(b,c,a,g){a="function"===typeof a?a:m;f("POST",b,c,a,g)},ajax:f,theme:function(b){if(h){var c=document.createElement("style"),a=document.createElement("ul");a.innerHTML='<li><a href="#"></a></li>';b.parentNode.appendChild(a);var g=getComputedStyle(a.querySelector("li")),k=getComputedStyle(a.querySelector("li a"));
    c.innerHTML=".wpp-list li {font-size: "+g.fontSize+"}";c.innerHTML+=".wpp-list li a {color: "+k.color+"}";b.parentNode.removeChild(a);a=b.attachShadow({mode:"open"});for(a.append(c);b.firstElementChild;)a.append(b.firstElementChild)}}}}();
    (function(){try{var m=document.querySelector("script#wpp-json"),h=!0;wpp_params=JSON.parse(m.textContent);wpp_params.ID&&("1"==wpp_params.sampling_active&&(h=1===Math.floor(Math.random()*wpp_params.sampling_rate)+1),h&&WordPressPopularPosts.post(wpp_params.ajax_url,"_wpnonce="+wpp_params.token+"&wpp_id="+wpp_params.ID+"&sampling="+wpp_params.sampling_active+"&sampling_rate="+wpp_params.sampling_rate,function(f){wpp_params.debug&&window.console&&window.console.log&&window.console.log(JSON.parse(f))}))}catch(f){console.error("WPP: Couldn't read JSON data")}})();
    document.addEventListener("DOMContentLoaded",function(){function m(b){var c=b.getAttribute("data-widget-id"),a="GET",g="",k={},e="";if(c)g=wpp_params.ajax_url+"/widget/"+c.split("-")[1],e="is_single="+wpp_params.ID+(wpp_params.lang?"&lang="+wpp_params.lang:"");else if(a="POST",g=wpp_params.api_url+"/v2/widget?is_single="+wpp_params.ID+(wpp_params.lang?"&lang="+wpp_params.lang:""),k={"Content-Type":"application/json"},c=b.parentNode.querySelector('script[type="application/json"]'))e=JSON.parse(c.textContent),
    e=JSON.stringify(e);WordPressPopularPosts.ajax(a,g,e,function(d){b.insertAdjacentHTML("afterend",JSON.parse(d).widget);d=b.parentNode;var l=d.querySelector(".popular-posts-sr"),n=d.querySelector('script[type="application/json"]');n&&d.removeChild(n);d.removeChild(b);d.classList.add("wpp-ajax");l&&WordPressPopularPosts.theme(l);l=new Event("wpp-onload",{bubbles:!0,cancelable:!1});d.dispatchEvent(l)},k)}for(var h=document.querySelectorAll(".wpp-widget-placeholder, .wpp-widget-block-placeholder"),f=
    0;f<h.length;)m(h[f]),f++;h=document.querySelectorAll(".popular-posts-sr");if(h.length)for(f=0;f<h.length;f++)WordPressPopularPosts.theme(h[f])});
/*! modernizr 3.3.0 (Custom Build) | MIT *
 * http://modernizr.com/download/?-cssanimations-flexbox-flexboxtweener-setclasses-shiv !*/
!function(e,t,n){function r(e,t){return typeof e===t}function o(){var e,t,n,o,a,i,s;for(var l in C)if(C.hasOwnProperty(l)){if(e=[],t=C[l],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=r(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)i=e[a],s=i.split("."),1===s.length?Modernizr[s[0]]=o:(!Modernizr[s[0]]||Modernizr[s[0]]instanceof Boolean||(Modernizr[s[0]]=new Boolean(Modernizr[s[0]])),Modernizr[s[0]][s[1]]=o),y.push((o?"":"no-")+s.join("-"))}}function a(e){var t=x.className,n=Modernizr._config.classPrefix||"";if(b&&(t=t.baseVal),Modernizr._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}Modernizr._config.enableClasses&&(t+=" "+n+e.join(" "+n),b?x.className.baseVal=t:x.className=t)}function i(e,t){return!!~(""+e).indexOf(t)}function s(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):b?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function l(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function c(e,t){return function(){return e.apply(t,arguments)}}function f(e,t,n){var o;for(var a in e)if(e[a]in t)return n===!1?e[a]:(o=t[e[a]],r(o,"function")?c(o,n||t):o);return!1}function u(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function d(){var e=t.body;return e||(e=s(b?"svg":"body"),e.fake=!0),e}function p(e,n,r,o){var a,i,l,c,f="modernizr",u=s("div"),p=d();if(parseInt(r,10))for(;r--;)l=s("div"),l.id=o?o[r]:f+(r+1),u.appendChild(l);return a=s("style"),a.type="text/css",a.id="s"+f,(p.fake?p:u).appendChild(a),p.appendChild(u),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),u.id=f,p.fake&&(p.style.background="",p.style.overflow="hidden",c=x.style.overflow,x.style.overflow="hidden",x.appendChild(p)),i=n(u,e),p.fake?(p.parentNode.removeChild(p),x.style.overflow=c,x.offsetHeight):u.parentNode.removeChild(u),!!i}function m(t,r){var o=t.length;if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(u(t[o]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var a=[];o--;)a.push("("+u(t[o])+":"+r+")");return a=a.join(" or "),p("@supports ("+a+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function h(e,t,o,a){function c(){u&&(delete T.style,delete T.modElem)}if(a=r(a,"undefined")?!1:a,!r(o,"undefined")){var f=m(e,o);if(!r(f,"undefined"))return f}for(var u,d,p,h,g,v=["modernizr","tspan"];!T.style;)u=!0,T.modElem=s(v.shift()),T.style=T.modElem.style;for(p=e.length,d=0;p>d;d++)if(h=e[d],g=T.style[h],i(h,"-")&&(h=l(h)),T.style[h]!==n){if(a||r(o,"undefined"))return c(),"pfx"==t?h:!0;try{T.style[h]=o}catch(y){}if(T.style[h]!=g)return c(),"pfx"==t?h:!0}return c(),!1}function g(e,t,n,o,a){var i=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+w.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?h(s,t,o,a):(s=(e+" "+_.join(i+" ")+i).split(" "),f(s,t,n))}function v(e,t,r){return g(e,n,n,t,r)}var y=[],C=[],E={_version:"3.3.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){C.push({name:e,fn:t,options:n})},addAsyncTest:function(e){C.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=E,Modernizr=new Modernizr;var x=t.documentElement,b="svg"===x.nodeName.toLowerCase();b||!function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=C.elements;return"string"==typeof e?e.split(" "):e}function o(e,t){var n=C.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),C.elements=n+" "+e,c(t)}function a(e){var t=y[e[g]];return t||(t={},v++,e[g]=v,y[v]=t),t}function i(e,n,r){if(n||(n=t),u)return n.createElement(e);r||(r=a(n));var o;return o=r.cache[e]?r.cache[e].cloneNode():h.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),!o.canHaveChildren||m.test(e)||o.tagUrn?o:r.frag.appendChild(o)}function s(e,n){if(e||(e=t),u)return e.createDocumentFragment();n=n||a(e);for(var o=n.frag.cloneNode(),i=0,s=r(),l=s.length;l>i;i++)o.createElement(s[i]);return o}function l(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return C.shivMethods?i(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(C,t.frag)}function c(e){e||(e=t);var r=a(e);return!C.shivCSS||f||r.hasCSS||(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||l(e,r),e}var f,u,d="3.7.3",p=e.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",v=0,y={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",f="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){f=!0,u=!0}}();var C={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:d,shivCSS:p.shivCSS!==!1,supportsUnknownElements:u,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:c,createElement:i,createDocumentFragment:s,addElements:o};e.html5=C,c(t),"object"==typeof module&&module.exports&&(module.exports=C)}("undefined"!=typeof e?e:this,t);var S="Moz O ms Webkit",w=E._config.usePrefixes?S.split(" "):[];E._cssomPrefixes=w;var _=E._config.usePrefixes?S.toLowerCase().split(" "):[];E._domPrefixes=_;var N={elem:s("modernizr")};Modernizr._q.push(function(){delete N.elem});var T={style:N.elem.style};Modernizr._q.unshift(function(){delete T.style}),E.testAllProps=g,E.testAllProps=v,Modernizr.addTest("cssanimations",v("animationName","a",!0)),Modernizr.addTest("flexbox",v("flexBasis","1px",!0)),Modernizr.addTest("flexboxtweener",v("flexAlign","end",!0)),o(),a(y),delete E.addTest,delete E.addAsyncTest;for(var j=0;j<Modernizr._q.length;j++)Modernizr._q[j]();e.Modernizr=Modernizr}(window,document);
(function(){var RapidLoad=function(){var fired=false;var fired_inline=false;var load_css=function(uucss){var files=document.querySelectorAll('link[href*="uucss/uucss-"]');if(!files.length||fired){return}for(var i=0;i<files.length;i++){var file=files[i];var original=uucss.find(function(i){return file.href.includes(i.uucss)});if(!original){return}let link=file.cloneNode();link.href=original.original;if(window.rapidload&&window.rapidload.frontend_debug==="1"){link.removeAttribute("uucss");link.setAttribute("uucss-reverted","")}link.prev=file;link.addEventListener("load",function(e){if(this.prev)this.prev.remove()});file.parentNode.insertBefore(link,file.nextSibling);fired=true}};var load_inline_css=function(uucss){var inlined_styles=document.querySelectorAll("style[data-src]");if(!inlined_styles.length||fired_inline){return}for(var i=0;i<inlined_styles.length;i++){var inlines_style=inlined_styles[i];var link=document.createElement("link");link.rel="stylesheet";link.type="text/css";link.href=inlines_style.getAttribute("data-src");link.media=inlines_style.getAttribute("data-media");link.prev=inlines_style;link.addEventListener("load",function(e){if(this.prev)this.prev.remove()});inlines_style.parentNode.insertBefore(link,inlines_style.nextSibling);fired_inline=true}};var removeCriticalCSS=function(){let element=document.getElementById("rapidload-critical-css");if(element){element.remove()}};this.add_events=function(){if(!window.rapidload||!window.rapidload.files||!window.rapidload.files.length){return}["mousemove","touchstart","keydown"].forEach(function(event){var listener=function(){load_css(window.rapidload.files);load_inline_css(window.rapidload.files);if(window.rapidload&&window.rapidload.remove_cpcss_on_ui){setTimeout(removeCriticalCSS,200)}removeEventListener(event,listener)};addEventListener(event,listener)})};this.add_events()};document.addEventListener("DOMContentLoaded",function(event){if(window.rapidload&&window.rapidload.frontend_debug==="1"){console.log("RapidLoad 🔥 1.0")}new RapidLoad})})();
(function($){'use strict';var loadYoutube=function(){$('.mace-youtube').each(function(){var $youtube=$(this);if($youtube.is('.mace-youtube-loaded')){return;}
var videoUrl=$youtube.attr('data-mace-video');var thumbUrl=$youtube.attr('data-mace-video-thumb');var image=$('<img />');image.attr('src',thumbUrl);image.attr({'width':1600,'height':900,'src':'data:image/svg+xml;charset=utf-8,%3Csvg xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\' viewBox%3D\'0 0 1600 900\'%2F%3E','data-src':thumbUrl,'data-expand':600});image.addClass('lazyload');image.on('load',function(){$youtube.append(image);}());$youtube.on('click',function(){$youtube.find('iframe').remove();var $iframe=$('<iframe>');$iframe.on('load',function(){$youtube.trigger('maceIframeLoaded',[$iframe]);$iframe[0].contentWindow.postMessage(JSON.stringify({'event':'command','func':'playVideo','args':''}),'*');});$iframe.attr('frameborder','0');$iframe.attr('allowfullscreen','');$iframe.attr('src',videoUrl);$youtube.empty().append($iframe);});$youtube.addClass('mace-youtube-loaded');});};$(document).ready(function(){loadYoutube();$('body').on('maceLoadYoutube',loadYoutube);});})(jQuery);
!function(a,b){var c=function(a,b,c){"use strict";var d,e;if(function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};e=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in e||(e[b]=c[b])}(),!b||!b.getElementsByClassName)return{init:function(){},cfg:e,noSupport:!0};var f=b.documentElement,g=a.HTMLPictureElement,h=a.addEventListener.bind(a),i=a.setTimeout,j=a.requestAnimationFrame||i,k=a.requestIdleCallback,l=/^picture$/i,m=["load","error","lazyincluded","_lazyloaded"],n={},o=Array.prototype.forEach,p=function(a,b){return n[b]||(n[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),n[b].test(a.getAttribute("class")||"")&&n[b]},q=function(a,b){p(a,b)||a.setAttribute("class",(a.getAttribute("class")||"").trim()+" "+b)},r=function(a,b){var c;(c=p(a,b))&&a.setAttribute("class",(a.getAttribute("class")||"").replace(c," "))},s=function(a,b,c){var d=c?"addEventListener":"removeEventListener";c&&s(a,b),m.forEach(function(c){a[d](c,b)})},t=function(a,c,e,f,g){var h=b.createEvent("Event");return e||(e={}),e.instance=d,h.initEvent(c,!f,!g),h.detail=e,a.dispatchEvent(h),h},u=function(b,c){var d;!g&&(d=a.picturefill||e.pf)?(c&&c.src&&!b.getAttribute("srcset")&&b.setAttribute("srcset",c.src),d({reevaluate:!0,elements:[b]})):c&&c.src&&(b.src=c.src)},v=function(a,b){return(getComputedStyle(a,null)||{})[b]},w=function(a,b,c){for(c=c||a.offsetWidth;c<e.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},x=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?i:j)(g)))};return h._lsFlush=g,h}(),y=function(a,b){return b?function(){x(a)}:function(){var b=this,c=arguments;x(function(){a.apply(b,c)})}},z=function(a){var b,d=0,f=e.throttleDelay,g=e.ricTimeout,h=function(){b=!1,d=c.now(),a()},j=k&&g>49?function(){k(h,{timeout:g}),g!==e.ricTimeout&&(g=e.ricTimeout)}:y(function(){i(h)},!0);return function(a){var e;(a=!0===a)&&(g=33),b||(b=!0,e=f-(c.now()-d),e<0&&(e=0),a||e<9?j():i(j,e))}},A=function(a){var b,d,e=function(){b=null,a()},f=function(){var a=c.now()-d;a<99?i(f,99-a):(k||e)(e)};return function(){d=c.now(),b||(b=i(f,99))}},B=function(){var g,k,m,n,w,B,D,E,F,G,H,I,J=/^img$/i,K=/^iframe$/i,L="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),M=0,N=0,O=-1,P=function(a){N--,(!a||N<0||!a.target)&&(N=0)},Q=function(a){return null==I&&(I="hidden"==v(b.body,"visibility")),I||!("hidden"==v(a.parentNode,"visibility")&&"hidden"==v(a,"visibility"))},R=function(a,c){var d,e=a,g=Q(a);for(E-=c,H+=c,F-=c,G+=c;g&&(e=e.offsetParent)&&e!=b.body&&e!=f;)(g=(v(e,"opacity")||1)>0)&&"visible"!=v(e,"overflow")&&(d=e.getBoundingClientRect(),g=G>d.left&&F<d.right&&H>d.top-1&&E<d.bottom+1);return g},S=function(){var a,c,h,i,j,l,m,o,p,q,r,s,t=d.elements;if((n=e.loadMode)&&N<8&&(a=t.length)){for(c=0,O++;c<a;c++)if(t[c]&&!t[c]._lazyRace)if(!L||d.prematureUnveil&&d.prematureUnveil(t[c]))$(t[c]);else if((o=t[c].getAttribute("data-expand"))&&(l=1*o)||(l=M),q||(q=!e.expand||e.expand<1?f.clientHeight>500&&f.clientWidth>500?500:370:e.expand,d._defEx=q,r=q*e.expFactor,s=e.hFac,I=null,M<r&&N<1&&O>2&&n>2&&!b.hidden?(M=r,O=0):M=n>1&&O>1&&N<6?q:0),p!==l&&(B=innerWidth+l*s,D=innerHeight+l,m=-1*l,p=l),h=t[c].getBoundingClientRect(),(H=h.bottom)>=m&&(E=h.top)<=D&&(G=h.right)>=m*s&&(F=h.left)<=B&&(H||G||F||E)&&(e.loadHidden||Q(t[c]))&&(k&&N<3&&!o&&(n<3||O<4)||R(t[c],l))){if($(t[c]),j=!0,N>9)break}else!j&&k&&!i&&N<4&&O<4&&n>2&&(g[0]||e.preloadAfterLoad)&&(g[0]||!o&&(H||G||F||E||"auto"!=t[c].getAttribute(e.sizesAttr)))&&(i=g[0]||t[c]);i&&!j&&$(i)}},T=z(S),U=function(a){var b=a.target;if(b._lazyCache)return void delete b._lazyCache;P(a),q(b,e.loadedClass),r(b,e.loadingClass),s(b,W),t(b,"lazyloaded")},V=y(U),W=function(a){V({target:a.target})},X=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},Y=function(a){var b,c=a.getAttribute(e.srcsetAttr);(b=e.customMedia[a.getAttribute("data-media")||a.getAttribute("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c)},Z=y(function(a,b,c,d,f){var g,h,j,k,n,p;(n=t(a,"lazybeforeunveil",b)).defaultPrevented||(d&&(c?q(a,e.autosizesClass):a.setAttribute("sizes",d)),h=a.getAttribute(e.srcsetAttr),g=a.getAttribute(e.srcAttr),f&&(j=a.parentNode,k=j&&l.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||k),n={target:a},q(a,e.loadingClass),p&&(clearTimeout(m),m=i(P,2500),s(a,W,!0)),k&&o.call(j.getElementsByTagName("source"),Y),h?a.setAttribute("srcset",h):g&&!k&&(K.test(a.nodeName)?X(a,g):a.src=g),f&&(h||k)&&u(a,{src:g})),a._lazyRace&&delete a._lazyRace,r(a,e.lazyClass),x(function(){var b=a.complete&&a.naturalWidth>1;p&&!b||(b&&q(a,"ls-is-cached"),U(n),a._lazyCache=!0,i(function(){"_lazyCache"in a&&delete a._lazyCache},9)),"lazy"==a.loading&&N--},!0)}),$=function(a){if(!a._lazyRace){var b,c=J.test(a.nodeName),d=c&&(a.getAttribute(e.sizesAttr)||a.getAttribute("sizes")),f="auto"==d;(!f&&k||!c||!a.getAttribute("src")&&!a.srcset||a.complete||p(a,e.errorClass)||!p(a,e.lazyClass))&&(b=t(a,"lazyunveilread").detail,f&&C.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,N++,Z(a,b,f,d,c))}},_=A(function(){e.loadMode=3,T()}),aa=function(){3==e.loadMode&&(e.loadMode=2),_()},ba=function(){if(!k){if(c.now()-w<999)return void i(ba,999);k=!0,e.loadMode=3,T(),h("scroll",aa,!0)}};return{_:function(){w=c.now(),d.elements=b.getElementsByClassName(e.lazyClass),g=b.getElementsByClassName(e.lazyClass+" "+e.preloadClass),h("scroll",T,!0),h("resize",T,!0),h("pageshow",function(a){if(a.persisted){var c=b.querySelectorAll("."+e.loadingClass);c.length&&c.forEach&&j(function(){c.forEach(function(a){a.complete&&$(a)})})}}),a.MutationObserver?new MutationObserver(T).observe(f,{childList:!0,subtree:!0,attributes:!0}):(f.addEventListener("DOMNodeInserted",T,!0),f.addEventListener("DOMAttrModified",T,!0),setInterval(T,999)),h("hashchange",T,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(a){b.addEventListener(a,T,!0)}),/d$|^c/.test(b.readyState)?ba():(h("load",ba),b.addEventListener("DOMContentLoaded",T),i(ba,2e4)),d.elements.length?(S(),x._lsFlush()):T()},checkElems:T,unveil:$,_aLSL:aa}}(),C=function(){var a,c=y(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),l.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||u(a,c.detail)}),d=function(a,b,d){var e,f=a.parentNode;f&&(d=w(a,f,d),e=t(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width)&&d!==a._lazysizesWidth&&c(a,f,e,d))},f=function(){var b,c=a.length;if(c)for(b=0;b<c;b++)d(a[b])},g=A(f);return{_:function(){a=b.getElementsByClassName(e.autosizesClass),h("resize",g)},checkElems:g,updateElem:d}}(),D=function(){!D.i&&b.getElementsByClassName&&(D.i=!0,C._(),B._())};return i(function(){e.init&&D()}),d={cfg:e,autoSizer:C,loader:B,init:D,uP:u,aC:q,rC:r,hC:p,fire:t,gW:w,rAF:x}}(a,a.document,Date);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}("undefined"!=typeof window?window:{});
/*! lazysizes - v5.2.0 */
!function(a,b){var c=function(){b(a.lazySizes),a.removeEventListener("lazyunveilread",c,!0)};b=b.bind(null,a,a.document),"object"==typeof module&&module.exports?b(require("lazysizes")):a.lazySizes?c():a.addEventListener("lazyunveilread",c,!0)}(window,function(a,b,c){"use strict";function d(a,c){if(!g[a]){var d=b.createElement(c?"link":"script"),e=b.getElementsByTagName("script")[0];c?(d.rel="stylesheet",d.href=a):d.src=a,g[a]=!0,g[d.src||d.href]=!0,e.parentNode.insertBefore(d,e)}}var e,f,g={};b.addEventListener&&(f=/\(|\)|\s|'/,e=function(a,c){var d=b.createElement("img");d.onload=function(){d.onload=null,d.onerror=null,d=null,c()},d.onerror=d.onload,d.src=a,d&&d.complete&&d.onload&&d.onload()},addEventListener("lazybeforeunveil",function(a){if(a.detail.instance==c){var b,g,h,i;if(!a.defaultPrevented){var j=a.target;if("none"==j.preload&&(j.preload=j.getAttribute("data-preload")||"auto"),null!=j.getAttribute("data-autoplay"))if(j.getAttribute("data-expand")&&!j.autoplay)try{j.play()}catch(a){}else requestAnimationFrame(function(){j.setAttribute("data-expand","-10"),c.aC(j,c.cfg.lazyClass)});b=j.getAttribute("data-link"),b&&d(b,!0),b=j.getAttribute("data-script"),b&&d(b),b=j.getAttribute("data-require"),b&&(c.cfg.requireJs?c.cfg.requireJs([b]):d(b)),h=j.getAttribute("data-bg"),h&&(a.detail.firesLoad=!0,g=function(){j.style.backgroundImage="url("+(f.test(h)?JSON.stringify(h):h)+")",a.detail.firesLoad=!1,c.fire(j,"_lazyloaded",{},!0,!0)},e(h,g)),i=j.getAttribute("data-poster"),i&&(a.detail.firesLoad=!0,g=function(){j.poster=i,a.detail.firesLoad=!1,c.fire(j,"_lazyloaded",{},!0,!0)},e(i,g))}}},!1))});
(function($){'use strict';var config=macegallery;var template=config.html;var sharesTemplate=config.shares;var Gallery=function($gallery){var data=$gallery.attr('data-g1-gallery');var galleryId=$gallery.attr('id');var items=$.parseJSON(data);var galleryLength=items.length;var imagesLength=0;items.forEach(function(item){if(item.type==='image'){imagesLength++;}});var galleryTitle=$gallery.attr('data-g1-gallery-title');var ShareUrl=$gallery.attr('data-g1-share-shortlink');var currentIndex=0;var currentImageIndex=0;var isGalleryVisible=false;var currentSidebarCollectionOffset=0;var maxSidebarCollectionOffset=Math.ceil((imagesLength-9)/3);var html=template;var init=function(){captureLightbox();bindEvents();var hash=window.location.hash;hash=hash.replace('#','');if(hash===galleryId){$gallery.trigger('click');}};var bindEvents=function(){$gallery.on('click',function(){var $appendedElements=$(html);var $sidebarAd=$appendedElements.find('.g1-gallery-sidebar .g1-gallery-ad');var sidebarAdHTML=$sidebarAd.html();$sidebarAd.html('');$appendedElements.appendTo("body");$appendedElements.append(buildStyle());$('.g1-gallery-thumbnail-1').addClass('g1-gallery-thumbnail-active');bindLightboxEvents($appendedElements);hideThumbnailsIfTooSmall();$('body').addClass('g1-gallery-visible');isGalleryVisible=true;switchToIndex(0,true);if($sidebarAd.is(':visible')){$sidebarAd.html(sidebarAdHTML);}});};var bindLightboxEvents=function($appendedElements){$(window).resize(function(){hideThumbnailsIfTooSmall();});$('.g1-gallery-close-button').on('click',function(){$('body').removeClass('g1-gallery-visible');setTimeout(function(){setSidebarThumbnailsOffset(0);$appendedElements.remove();currentSidebarCollectionOffset=0;isGalleryVisible=false;},375);});$('.g1-gallery-thumbs-button, .g1-gallery-back-to-slideshow').on('click',function(){$appendedElements.toggleClass('g1-gallery-thumbnails-mode');});$('.g1-gallery-thumbnail').on('click',function(){var index=parseInt($(this).attr('data-g1-gallery-index'),10);switchToIndex(index);});$('.g1-gallery-previous-frame').on('click',function(){handlePrevFrame();});$('.g1-gallery-next-frame').on('click',function(){handleNextFrame();});$(document).keydown(function(e){if(isGalleryVisible){if(e.keyCode==37){handlePrevFrame();}
if(e.keyCode==39){handleNextFrame();}}});$('.g1-gallery-thumbnails-up').on('click',function(){if(currentSidebarCollectionOffset>0){setSidebarThumbnailsOffset(currentSidebarCollectionOffset-1);}});$('.g1-gallery-thumbnails-down').on('click',function(){if(currentSidebarCollectionOffset<maxSidebarCollectionOffset){setSidebarThumbnailsOffset(currentSidebarCollectionOffset+1);}});};var hideThumbnailsIfTooSmall=function(){$('.g1-gallery-thumbnails').show();if($('.g1-gallery-thumbnails').height()<200){$('.g1-gallery-thumbnails').hide();}};var handleNextFrame=function(){if(currentIndex===galleryLength-1){return;}
switchToIndex(currentIndex+1);};var handlePrevFrame=function(){if(currentIndex===0){return;}
switchToIndex(currentIndex-1);};var switchToIndex=function(index,delay){var item=items[index];currentIndex=index;updateImageIndex();$('.g1-gallery-frame-visible').removeClass('g1-gallery-frame-visible');$('.g1-gallery-wrapper').removeClass('g1-gallery-ad-mode');if(item.type==='image'){$('.g1-gallery-thumbnail').removeClass('g1-gallery-thumbnail-active');$('.g1-gallery-thumbnail-'+currentIndex).addClass('g1-gallery-thumbnail-active');$('.g1-gallery-frame-'+currentIndex).addClass('g1-gallery-frame-visible');$('.g1-gallery-wrapper').removeClass('g1-gallery-thumbnails-mode');$('.g1-gallery-numerator-current').html(currentImageIndex);var imageUrl=$('.g1-gallery-frame-visible').attr('data-g1-share-image');if(delay){setTimeout(function(){setupShares(imageUrl);},500);}else{setupShares(imageUrl);}
var row=Math.ceil((currentIndex-1)/3);var newOffset=row-1;if(newOffset>maxSidebarCollectionOffset){newOffset=maxSidebarCollectionOffset;}
if(newOffset<0){newOffset=0;}
setSidebarThumbnailsOffset(newOffset);}
if(item.type==='ad'){var $adFrame=$('.g1-gallery-frame-ad-'+index);$('.g1-gallery-frame-'+currentIndex).removeClass('g1-gallery-frame-visible');$('.g1-gallery-thumbnail').removeClass('g1-gallery-thumbnail-active');$adFrame.addClass('g1-gallery-frame-visible');$('.g1-gallery-wrapper').addClass('g1-gallery-ad-mode');if($adFrame.find('.g1-gallery-ad:not(.g1-ad-loaded)').length>0){$adFrame.find('.g1-gallery-ad').append(items[index].html).addClass('g1-ad-loaded');}}};var updateImageIndex=function(){currentImageIndex=0;for(var index in items){if(items[index].type==='image'){currentImageIndex++;}
if(index==currentIndex){break;}}};var setupShares=function(imageUrl){var shareHtml=sharesTemplate;shareHtml=shareHtml.replace(new RegExp(/mace_replace_shortlink/g),encodeURIComponent(ShareUrl));shareHtml=shareHtml.replace(new RegExp(/mace_replace_title/g),encodeURIComponent(galleryTitle));shareHtml=shareHtml.replace(new RegExp(/mace_replace_image_url/g),encodeURIComponent(imageUrl));shareHtml=shareHtml.replace(new RegExp(/mace_replace_noesc_shortlink/g),ShareUrl);shareHtml=shareHtml.replace(new RegExp(/mace_replace_noesc_title/g),galleryTitle);shareHtml=shareHtml.replace(new RegExp(/mace_replace_noesc_image_url/g),imageUrl);shareHtml=shareHtml.replace(new RegExp(/mace_replace_unique/g),Math.random().toString(36).substr(2,16));$('.g1-gallery-shares').html(shareHtml);jQuery('body').trigger('maceGalleryItemChanged');};var setSidebarThumbnailsOffset=function(offset){$('.g1-gallery-sidebar .g1-gallery-thumbnail').css('top',offset*-108);currentSidebarCollectionOffset=offset;};var captureLightbox=function(){var frames=buildFrames();var thumbnails=buildThumbnails('thumbnail');var thumbnails32=buildThumbnails('3-2-thumbnail');var numerator=buildNumerator();var title=galleryTitle;html=html.replace('{frames}',frames);html=html.replace('{thumbnails}',thumbnails);html=html.replace('{thumbnails32}',thumbnails32);html=html.replace('{numerator}',numerator);html=html.replace('{title}',title);};var buildStyle=function(){var out='<style>';items.forEach(function(item){if(item.type==='image'){out+='.g1-gallery-image-'+item.id+'{ background-image:url('+item.full+'); }';}});return out;};var buildFrames=function(){var out='';var index=0;items.forEach(function(item){if(item.type==='image'){out+='<div class="g1-gallery-frame g1-gallery-frame-'+index+'" data-g1-share-image="'+item.full+'">';out+='<div class="g1-gallery-image g1-gallery-image-'+item.id+' ">';out+='<a class="g1-gallery-previous-frame"></a>';out+='<a class="g1-gallery-next-frame"></a>';out+='</div>';out+='<div class="g1-gallery-image-title">'+item.title+'</div></div>'}
if(item.type==='ad'){out+='<div class="g1-gallery-frame g1-gallery-frame-'+index+' g1-gallery-frame-ad g1-gallery-frame-ad-'+index+'">';out+='<div class="g1-gallery-ad">';out+='<a class="g1-gallery-previous-frame"></a>';out+='<a class="g1-gallery-next-frame"></a>';out+='</div></div>';}
index+=1;});return out;};var buildThumbnails=function(size){var out='';for(var index in items){var item=items[index];if(item.type==='image'){out+='<div class="g1-gallery-thumbnail g1-gallery-thumbnail-'+index+'" data-g1-gallery-index="'+index+'">';out+='<img src="'+item[size]+'">';out+='</div>';}}
return out;};var buildNumerator=function(){return'<span class="g1-gallery-numerator-current">1</span> '+config.i18n.of+' <span class="g1-gallery-numerator-max">'+imagesLength+'</span>';};return init();};$(document).ready(function(){setupGalleries($('body'));});$('body').on('g1NewContentLoaded',function(e,$newContent){setupGalleries($newContent);});var setupGalleries=function($scope){$('.mace-gallery-teaser',$scope).each(function(){new Gallery($(this));});};})(jQuery);
"undefined"==typeof window.snax_collections&&(window.snax_collections={}),function(a,b){"use strict";b.AddPopup=function(){var c,d,e={},f={},g={},h={popup:"#snax-popup-add-to-collection",popupInner:".snax-add-to-collection",leading:".snax-collections-leading",searchInput:"input[name=snax-collection-search]",searchSubmit:"input[name=snax-collection-save]",searchForm:"form.snax-form-collection-search",items:".snax-collections-items",item:".snax-collections-item",itemTitle:".snax-collection-title",itemTitleLink:".snax-collection-title > a",publicItemTpl:".snax-collections-item > .snax-collection-public",privateItemTpl:".snax-collections-item > .snax-collection-private"},i={popupLoading:"snax-add-to-collection-loading"};e.open=function(a,b){if(g={postId:a,nonce:b},"function"!=typeof snax.openPopup)throw new Error("openPopup() not defined!");d.find(h.searchInput).val(""),snax.openPopup(d);var c=d.find(h.popupInner),e=d.find(h.leading);c.addClass(i.popupLoading),e.hide(),j(function(a,b){c.removeClass(i.popupLoading),0===b&&e.show()})},e.close=function(){snax.closePopup()};var j=function(b){var e=a.ajax({type:"GET",url:c.ajax_url,dataType:"json",data:{action:"snax_get_user_collections"}});e.done(function(a){var c="success"===a.status;if(c){var e=d.find(h.items);e.empty();for(var g in a.args.list){var i=a.args.list[g],j=f[i.visibility].clone(),k='<a href="#" data-snax-collection="'+i.ID+'">'+i.post_title+"</a>";j.find(h.itemTitle).html(k),e.append(j)}}"function"==typeof b&&b(c,a.args.list.length)})},k=function(b,d){var e=a.ajax({type:"POST",url:c.ajax_url,dataType:"json",data:{action:"snax_save_collection",security:g.nonce,snax_title:b}});e.done(function(a){var b="success"===a.status;d(!!b&&a.args.collection_id)})},l=function(){a(h.searchForm,d).on("submit",function(c){c.preventDefault();var d=a(this).find(h.searchInput).val();e.close(),k(d,function(a){if(!1===a)throw new Error("Collection not saved!");b.addToCollection(a,g.postId,g.nonce)})})},m=function(){d.on("click",h.item,function(c){c.preventDefault();var d=a(this).find("a").data("snax-collection");e.close(),b.addToCollection(d,g.postId,g.nonce)})},n=function(){var b=function(b){var c=d.find(h.itemTitleLink);d.find(h.item).show(),0!==b.length&&(b=b.toLowerCase(),c.each(function(){var c=a(this).text().toLowerCase();-1===c.indexOf(b)&&a(this).parents(h.item).hide()}))};d.find(h.searchInput).on("keyup",function(){var c=a(this).val(),e=d.find(h.searchSubmit);c.length>0?e.removeAttr("disabled"):e.attr("disabled","disabled"),b(c)})},o=function(){l(),m(),n()},p=function(){if(d=a(h.popup),0===d.length)throw new Error("Add collection popup not found!");return c=snax_collections_js_config,f.public=d.find(h.publicItemTpl).parent().detach(),f.private=d.find(h.privateItemTpl).parent().detach(),o(),e};return p()}}(jQuery,snax_collections),function(a,b){"use strict";var c,d,e={postContainer:".snax-post-container",collectionItems:".snax-collection-items",collectionItem:".snax-collection-item",actions:".snax-collection-actions",addAction:".snax-action-add-to-collection",clearAllAction:".snax-collection-action-clear-all",removeCollectionAction:".snax-collection-action-delete",removePostAction:".snax-collection-action-remove-post",itemCount:".snax-collection-item-count",featuredMedia:".snax-collection-essentials .entry-featured-media .g1-frame-inner",meta:".snax-collection-essentials .snax-collection-meta",editForm:"form.snax-edit-collection",cancelAction:".snax-edit-collection-actions > a",mediaForm:".snax-media-upload-form",titleField:"input[name=snax-title]",descriptionField:"textarea[name=snax-description]",visibilityField:"input[name=snax-visibility]",featuredMediaField:"input[name=snax-featured-image]"},f={itemAdded:"snax-collection-item-added",itemAdding:"snax-collection-item-adding",itemRemoved:"snax-collection-item-removed",itemRemoving:"snax-collection-item-removing"};b.addToCollection=function(b,d,e,f){var g=a.ajax({type:"POST",url:c.ajax_url,dataType:"json",data:{action:"snax_add_to_collection",security:e,snax_collection:b,snax_post_id:d}});g.done(function(a){var b="success"===a.status;b&&snax.notifications&&snax.notifications.add(a.args.html),"function"==typeof f&&f(b)})},b.removeCollection=function(b,d,e){var f=a.ajax({type:"POST",url:c.ajax_url,dataType:"json",data:{action:"snax_remove_collection",security:d,snax_collection_id:b}});f.done(function(a){var b="success"===a.status;e(b)})},b.removePost=function(b,d,e,f){var g=a.ajax({type:"POST",url:c.ajax_url,dataType:"json",data:{action:"snax_remove_post_from_collection",security:e,snax_post_id:b,snax_collection_id:d}});g.done(function(a){var b="success"===a.status;f(b)})},b.clearAll=function(b,d){var e=a.ajax({type:"POST",url:c.ajax_url,dataType:"json",data:{action:"snax_remove_all_from_collection",security:d,snax_collection_id:b}});e.done(function(a){var b="success"===a.status;b&&(window.location.href=a.args.redirect_to)})},b.updateCollectionFeaturedImage=function(b){var d=a.ajax({type:"GET",url:c.ajax_url,dataType:"json",data:{action:"snax_get_collection_featured_media",snax_collection_id:b}});d.done(function(b){var c="success"===b.status;if(c){var d=a(e.featuredMedia),f=d.find("img"),g=a(b.args.html);f.attr("src")!==g.attr("src")&&d.html(g)}})},b.updateCollectionMeta=function(b){var d=a.ajax({type:"GET",url:c.ajax_url,dataType:"json",data:{action:"snax_get_collection_meta",snax_collection_id:b}});d.done(function(b){var c="success"===b.status;c&&a(e.meta).replaceWith(b.args.html)})},b.saveCollection=function(b,d,e){var f=a.ajax({type:"POST",url:c.ajax_url,dataType:"json",data:{action:"snax_save_collection",security:c.nonce,snax_collection_id:b,snax_title:d.title||"",snax_description:d.description||"",snax_visibility:d.visibility||"private",snax_featured_media:d.featuredMedia||""}});f.done(function(a){var b="success"===a.status;e&&e(b,a.args.collection_url)})},b.addToCollectionEvent=function(){a("body").on("click",e.addAction,function(){var e=a(this),g=parseInt(c.user_id,10);if(!g)return void(window.location.href=e.data("snax-redirect"));var h=e.data("snax-collection"),i=e.data("snax-post"),j=e.data("snax-nonce");h&&i&&j&&("custom"===h?(d||(d=b.AddPopup()),d.open(i,j)):(e.addClass(f.itemAdding),b.addToCollection(h,i,j,function(a){a&&(e.addClass(f.itemAdded),e.prop("disabled",!0))})))})},b.removeCollectionEvent=function(){a("body").on("click",e.removeCollectionAction,function(){if(confirm(c.i18n.are_you_sure_remove)){var d=a(this),f=parseInt(c.user_id,10);if(0!==f){var g=d.parents(e.actions),h=g.data("snax-collection"),i=g.data("snax-nonce");h&&i&&(snax.notifications&&snax.notifications.add(c.i18n.removed),b.removeCollection(h,i,function(a){a&&(window.location.href=c.home_url)}))}}})},b.removeFromCollectionEvent=function(){a("body").on("click",e.removePostAction,function(){var d=a(this),g=parseInt(c.user_id,10);if(0!==g){var h=d.data("snax-post"),i=d.parents(e.collectionItems).data("snax-collection"),j=d.data("snax-nonce");if(h&&i&&j){var k=d.parents(e.collectionItem);k.addClass(f.itemRemoving),b.removePost(h,i,j,function(a){a&&(k.addClass(f.itemRemoved),k.slideToggle(375),setTimeout(function(){var a=d.parents(e.postContainer).find(e.itemCount);a.text(parseInt(a.text(),10)-1)},375),b.updateCollectionFeaturedImage(i),b.updateCollectionMeta(i))})}}})},b.clearAllEvent=function(){a("body").on("click",e.clearAllAction,function(){if(confirm(c.i18n.are_you_sure_clear_all)){var d=parseInt(c.user_id,10);if(0!==d){var f=a(this).parents(e.actions),g=f.data("snax-collection"),h=f.data("snax-nonce");g&&h&&(snax.notifications&&snax.notifications.add(c.i18n.removing_items),b.clearAll(g,h))}}})},b.clearPreviewEvent=function(){var b=a(e.editForm);b.find("a.snax-media-action-delete-featured").parents(".snax-object-actions").remove();var c=b.find("a.snax-delete-collection-image").parents(".snax-object-actions").hide(),d=b.find("#snax-featured-image");if(d.length>0){var f=c.clone();f.insertAfter(d.find(".snax-object-container")).show(),f.on("click","a.snax-delete-collection-image",function(c){c.preventDefault(),b.find(e.featuredMediaField).val(""),a("#snax-featured-image").empty(),b.find(".snax-tab-content-featured-image").addClass("snax-tab-content-visible").removeClass("snax-tab-content-hidden"),a("body").trigger("snaxContentActive",[b])})}},b.editFormEvents=function(){var c=a(e.editForm),d=c.find(e.mediaForm);d.on("snaxFileUploaded",function(a,b){c.find(e.featuredMediaField).val(b)}),b.clearPreviewEvent(),d.on("snaxPreviewLoaded",function(a,c){b.clearPreviewEvent()}),c.on("submit",function(a){a.preventDefault();var d=c.data("snax-collection"),f=c.find(e.titleField).val();if(0===f.length)return void alert("Please fill in the title");var g=c.find(e.descriptionField).val(),h=c.find(e.visibilityField+":checked").val(),i=c.find(e.featuredMediaField).val(),j={title:f,description:g,visibility:h,featuredMedia:i},k=c.find("input[type=submit]");k.attr("disabled","disabled"),b.saveCollection(d,j,function(a,b){a?window.location.href=b:k.removeAttr("disabled")})}),c.on("click",e.cancelAction,function(){a(this).css("pointerEvents","none")})},b.bindEvents=function(){b.addToCollectionEvent(),b.removeCollectionEvent(),b.removeFromCollectionEvent(),b.clearAllEvent(),b.editFormEvents()},b.storeInHistory=function(b){c.user_id<=0||a.ajax({type:"POST",url:c.ajax_url,dataType:"json",data:{action:"snax_add_to_collection",security:c.nonce,snax_post_id:b,snax_collection:"history"}})},b.init=function(){c=snax_collections_js_config,b.bindEvents(),"on"===c.history&&c.post_id>0&&b.storeInHistory(c.post_id)},a(document).ready(function(){b.init()})}(jQuery,snax_collections);
/*! Magnific Popup - v1.1.0 - 2016-02-20
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2016 Dmitry Semenov; */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(a){var b,c,d,e,f,g,h="Close",i="BeforeClose",j="AfterClose",k="BeforeAppend",l="MarkupParse",m="Open",n="Change",o="mfp",p="."+o,q="mfp-ready",r="mfp-removing",s="mfp-prevent-close",t=function(){},u=!!window.jQuery,v=a(window),w=function(a,c){b.ev.on(o+a+p,c)},x=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},y=function(c,d){b.ev.triggerHandler(o+c,d),b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(d)?d:[d]))},z=function(c){return c===g&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=a(b.st.closeMarkup.replace("%title%",b.st.tClose)),g=c),b.currTemplate.closeBtn},A=function(){a.magnificPopup.instance||(b=new t,b.init(),a.magnificPopup.instance=b)},B=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1};t.prototype={constructor:t,init:function(){var c=navigator.appVersion;b.isLowIE=b.isIE8=document.all&&!document.addEventListener,b.isAndroid=/android/gi.test(c),b.isIOS=/iphone|ipad|ipod/gi.test(c),b.supportsTransition=B(),b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),d=a(document),b.popupsCache={}},open:function(c){var e;if(c.isObj===!1){b.items=c.items.toArray(),b.index=0;var g,h=c.items;for(e=0;e<h.length;e++)if(g=h[e],g.parsed&&(g=g.el[0]),g===c.el[0]){b.index=e;break}}else b.items=a.isArray(c.items)?c.items:[c.items],b.index=c.index||0;if(b.isOpen)return void b.updateItemHTML();b.types=[],f="",c.mainEl&&c.mainEl.length?b.ev=c.mainEl.eq(0):b.ev=d,c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={},b.st=a.extend(!0,{},a.magnificPopup.defaults,c),b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos,b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1),b.bgOverlay||(b.bgOverlay=x("bg").on("click"+p,function(){b.close()}),b.wrap=x("wrap").attr("tabindex",-1).on("click"+p,function(a){b._checkIfClose(a.target)&&b.close()}),b.container=x("container",b.wrap)),b.contentContainer=x("content"),b.st.preloader&&(b.preloader=x("preloader",b.container,b.st.tLoading));var i=a.magnificPopup.modules;for(e=0;e<i.length;e++){var j=i[e];j=j.charAt(0).toUpperCase()+j.slice(1),b["init"+j].call(b)}y("BeforeOpen"),b.st.showCloseBtn&&(b.st.closeBtnInside?(w(l,function(a,b,c,d){c.close_replaceWith=z(d.type)}),f+=" mfp-close-btn-in"):b.wrap.append(z())),b.st.alignTop&&(f+=" mfp-align-top"),b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}):b.wrap.css({top:v.scrollTop(),position:"absolute"}),(b.st.fixedBgPos===!1||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:d.height(),position:"absolute"}),b.st.enableEscapeKey&&d.on("keyup"+p,function(a){27===a.keyCode&&b.close()}),v.on("resize"+p,function(){b.updateSize()}),b.st.closeOnContentClick||(f+=" mfp-auto-cursor"),f&&b.wrap.addClass(f);var k=b.wH=v.height(),n={};if(b.fixedContentPos&&b._hasScrollBar(k)){var o=b._getScrollbarSize();o&&(n.marginRight=o)}b.fixedContentPos&&(b.isIE7?a("body, html").css("overflow","hidden"):n.overflow="hidden");var r=b.st.mainClass;return b.isIE7&&(r+=" mfp-ie7"),r&&b._addClassToMFP(r),b.updateItemHTML(),y("BuildControls"),a("html").css(n),b.bgOverlay.add(b.wrap).prependTo(b.st.prependTo||a(document.body)),b._lastFocusedEl=document.activeElement,setTimeout(function(){b.content?(b._addClassToMFP(q),b._setFocus()):b.bgOverlay.addClass(q),d.on("focusin"+p,b._onFocusIn)},16),b.isOpen=!0,b.updateSize(k),y(m),c},close:function(){b.isOpen&&(y(i),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP(r),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){y(h);var c=r+" "+q+" ";if(b.bgOverlay.detach(),b.wrap.detach(),b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+" "),b._removeClassFromMFP(c),b.fixedContentPos){var e={marginRight:""};b.isIE7?a("body, html").css("overflow",""):e.overflow="",a("html").css(e)}d.off("keyup"+p+" focusin"+p),b.ev.off(p),b.wrap.attr("class","mfp-wrap").removeAttr("style"),b.bgOverlay.attr("class","mfp-bg"),b.container.attr("class","mfp-container"),!b.st.showCloseBtn||b.st.closeBtnInside&&b.currTemplate[b.currItem.type]!==!0||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach(),b.st.autoFocusLast&&b._lastFocusedEl&&a(b._lastFocusedEl).focus(),b.currItem=null,b.content=null,b.currTemplate=null,b.prevHeight=0,y(j)},updateSize:function(a){if(b.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,d=window.innerHeight*c;b.wrap.css("height",d),b.wH=d}else b.wH=a||v.height();b.fixedContentPos||b.wrap.css("height",b.wH),y("Resize")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach(),b.content&&b.content.detach(),c.parsed||(c=b.parseEl(b.index));var d=c.type;if(y("BeforeChange",[b.currItem?b.currItem.type:"",d]),b.currItem=c,!b.currTemplate[d]){var f=b.st[d]?b.st[d].markup:!1;y("FirstMarkupParse",f),f?b.currTemplate[d]=a(f):b.currTemplate[d]=!0}e&&e!==c.type&&b.container.removeClass("mfp-"+e+"-holder");var g=b["get"+d.charAt(0).toUpperCase()+d.slice(1)](c,b.currTemplate[d]);b.appendContent(g,d),c.preloaded=!0,y(n,c),e=c.type,b.container.prepend(b.contentContainer),y("AfterChange")},appendContent:function(a,c){b.content=a,a?b.st.showCloseBtn&&b.st.closeBtnInside&&b.currTemplate[c]===!0?b.content.find(".mfp-close").length||b.content.append(z()):b.content=a:b.content="",y(k),b.container.addClass("mfp-"+c+"-holder"),b.contentContainer.append(b.content)},parseEl:function(c){var d,e=b.items[c];if(e.tagName?e={el:a(e)}:(d=e.type,e={data:e,src:e.src}),e.el){for(var f=b.types,g=0;g<f.length;g++)if(e.el.hasClass("mfp-"+f[g])){d=f[g];break}e.src=e.el.attr("data-mfp-src"),e.src||(e.src=e.el.attr("href"))}return e.type=d||b.st.type||"inline",e.index=c,e.parsed=!0,b.items[c]=e,y("ElementParse",e),b.items[c]},addGroup:function(a,c){var d=function(d){d.mfpEl=this,b._openClick(d,a,c)};c||(c={});var e="click.magnificPopup";c.mainEl=a,c.items?(c.isObj=!0,a.off(e).on(e,d)):(c.isObj=!1,c.delegate?a.off(e).on(e,c.delegate,d):(c.items=a,a.off(e).on(e,d)))},_openClick:function(c,d,e){var f=void 0!==e.midClick?e.midClick:a.magnificPopup.defaults.midClick;if(f||!(2===c.which||c.ctrlKey||c.metaKey||c.altKey||c.shiftKey)){var g=void 0!==e.disableOn?e.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(b))return!0}else if(v.width()<g)return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation()),e.el=a(c.mfpEl),e.delegate&&(e.items=d.find(e.delegate)),b.open(e)}},updateStatus:function(a,d){if(b.preloader){c!==a&&b.container.removeClass("mfp-s-"+c),d||"loading"!==a||(d=b.st.tLoading);var e={status:a,text:d};y("UpdateStatus",e),a=e.status,d=e.text,b.preloader.html(d),b.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),b.container.addClass("mfp-s-"+a),c=a}},_checkIfClose:function(c){if(!a(c).hasClass(s)){var d=b.st.closeOnContentClick,e=b.st.closeOnBgClick;if(d&&e)return!0;if(!b.content||a(c).hasClass("mfp-close")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(d)return!0}else if(e&&a.contains(document,c))return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a),b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?d.height():document.body.scrollHeight)>(a||v.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(c){return c.target===b.wrap[0]||a.contains(b.wrap[0],c.target)?void 0:(b._setFocus(),!1)},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),y(l,[b,c,d]),a.each(c,function(c,d){if(void 0===d||d===!1)return!0;if(e=c.split("_"),e.length>1){var f=b.find(p+"-"+e[0]);if(f.length>0){var g=e[1];"replaceWith"===g?f[0]!==d[0]&&f.replaceWith(d):"img"===g?f.is("img")?f.attr("src",d):f.replaceWith(a("<img>").attr("src",d).attr("class",f.attr("class"))):f.attr(e[1],d)}}else b.find(p+"-"+c).html(d)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),b.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return b.scrollbarSize}},a.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(b,c){return A(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},a.fn.magnificPopup=function(c){A();var d=a(this);if("string"==typeof c)if("open"===c){var e,f=u?d.data("magnificPopup"):d[0].magnificPopup,g=parseInt(arguments[1],10)||0;f.items?e=f.items[g]:(e=d,f.delegate&&(e=e.find(f.delegate)),e=e.eq(g)),b._openClick({mfpEl:e},d,f)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=a.extend(!0,{},c),u?d.data("magnificPopup",c):d[0].magnificPopup=c,b.addGroup(d,c);return d};var C,D,E,F="inline",G=function(){E&&(D.after(E.addClass(C)).detach(),E=null)};a.magnificPopup.registerModule(F,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push(F),w(h+"."+F,function(){G()})},getInline:function(c,d){if(G(),c.src){var e=b.st.inline,f=a(c.src);if(f.length){var g=f[0].parentNode;g&&g.tagName&&(D||(C=e.hiddenClass,D=x(C),C="mfp-"+C),E=f.after(D).detach().removeClass(C)),b.updateStatus("ready")}else b.updateStatus("error",e.tNotFound),f=a("<div>");return c.inlineElement=f,f}return b.updateStatus("ready"),b._parseMarkup(d,{},c),d}}});var H,I="ajax",J=function(){H&&a(document.body).removeClass(H)},K=function(){J(),b.req&&b.req.abort()};a.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push(I),H=b.st.ajax.cursor,w(h+"."+I,K),w("BeforeChange."+I,K)},getAjax:function(c){H&&a(document.body).addClass(H),b.updateStatus("loading");var d=a.extend({url:c.src,success:function(d,e,f){var g={data:d,xhr:f};y("ParseAjax",g),b.appendContent(a(g.data),I),c.finished=!0,J(),b._setFocus(),setTimeout(function(){b.wrap.addClass(q)},16),b.updateStatus("ready"),y("AjaxContentAdded")},error:function(){J(),c.finished=c.loadError=!0,b.updateStatus("error",b.st.ajax.tError.replace("%url%",c.src))}},b.st.ajax.settings);return b.req=a.ajax(d),""}}});var L,M=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var d=b.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(b,c);if(c.el)return c.el.attr(d)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var c=b.st.image,d=".image";b.types.push("image"),w(m+d,function(){"image"===b.currItem.type&&c.cursor&&a(document.body).addClass(c.cursor)}),w(h+d,function(){c.cursor&&a(document.body).removeClass(c.cursor),v.off("resize"+p)}),w("Resize"+d,b.resizeImage),b.isLowIE&&w("AfterChange",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,L&&clearInterval(L),a.isCheckingImgSize=!1,y("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],e=function(f){L&&clearInterval(L),L=setInterval(function(){return d.naturalWidth>0?void b._onImageHasSize(a):(c>200&&clearInterval(L),c++,void(3===c?e(10):40===c?e(50):100===c&&e(500)))},f)};e(1)},getImage:function(c,d){var e=0,f=function(){c&&(c.img[0].complete?(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("ready")),c.hasSize=!0,c.loaded=!0,y("ImageLoadComplete")):(e++,200>e?setTimeout(f,100):g()))},g=function(){c&&(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("error",h.tError.replace("%url%",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},h=b.st.image,i=d.find(".mfp-img");if(i.length){var j=document.createElement("img");j.className="mfp-img",c.el&&c.el.find("img").length&&(j.alt=c.el.find("img").attr("alt")),c.img=a(j).on("load.mfploader",f).on("error.mfploader",g),j.src=c.src,i.is("img")&&(c.img=c.img.clone()),j=c.img[0],j.naturalWidth>0?c.hasSize=!0:j.width||(c.hasSize=!1)}return b._parseMarkup(d,{title:M(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(L&&clearInterval(L),c.loadError?(d.addClass("mfp-loading"),b.updateStatus("error",h.tError.replace("%url%",c.src))):(d.removeClass("mfp-loading"),b.updateStatus("ready")),d):(b.updateStatus("loading"),c.loading=!0,c.hasSize||(c.imgHidden=!0,d.addClass("mfp-loading"),b.findImageSize(c)),d)}}});var N,O=function(){return void 0===N&&(N=void 0!==document.createElement("p").style.MozTransform),N};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a,c=b.st.zoom,d=".zoom";if(c.enabled&&b.supportsTransition){var e,f,g=c.duration,j=function(a){var b=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+c.duration/1e3+"s "+c.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,b.css(e),b},k=function(){b.content.css("visibility","visible")};w("BuildControls"+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.content.css("visibility","hidden"),a=b._getItemToZoom(),!a)return void k();f=j(a),f.css(b._getOffset()),b.wrap.append(f),e=setTimeout(function(){f.css(b._getOffset(!0)),e=setTimeout(function(){k(),setTimeout(function(){f.remove(),a=f=null,y("ZoomAnimationEnded")},16)},g)},16)}}),w(i+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.st.removalDelay=g,!a){if(a=b._getItemToZoom(),!a)return;f=j(a)}f.css(b._getOffset(!0)),b.wrap.append(f),b.content.css("visibility","hidden"),setTimeout(function(){f.css(b._getOffset())},16)}}),w(h+d,function(){b._allowZoom()&&(k(),f&&f.remove(),a=null)})}},_allowZoom:function(){return"image"===b.currItem.type},_getItemToZoom:function(){return b.currItem.hasSize?b.currItem.img:!1},_getOffset:function(c){var d;d=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);var e=d.offset(),f=parseInt(d.css("padding-top"),10),g=parseInt(d.css("padding-bottom"),10);e.top-=a(window).scrollTop()-f;var h={width:d.width(),height:(u?d.innerHeight():d[0].offsetHeight)-g-f};return O()?h["-moz-transform"]=h.transform="translate("+e.left+"px,"+e.top+"px)":(h.left=e.left,h.top=e.top),h}}});var P="iframe",Q="//about:blank",R=function(a){if(b.currTemplate[P]){var c=b.currTemplate[P].find("iframe");c.length&&(a||(c[0].src=Q),b.isIE8&&c.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(P,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){b.types.push(P),w("BeforeChange",function(a,b,c){b!==c&&(b===P?R():c===P&&R(!0))}),w(h+"."+P,function(){R()})},getIframe:function(c,d){var e=c.src,f=b.st.iframe;a.each(f.patterns,function(){return e.indexOf(this.index)>-1?(this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1):void 0});var g={};return f.srcAction&&(g[f.srcAction]=e),b._parseMarkup(d,g,c),b.updateStatus("ready"),d}}});var S=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a},T=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=b.st.gallery,e=".mfp-gallery";return b.direction=!0,c&&c.enabled?(f+=" mfp-gallery",w(m+e,function(){c.navigateByImgClick&&b.wrap.on("click"+e,".mfp-img",function(){return b.items.length>1?(b.next(),!1):void 0}),d.on("keydown"+e,function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),w("UpdateStatus"+e,function(a,c){c.text&&(c.text=T(c.text,b.currItem.index,b.items.length))}),w(l+e,function(a,d,e,f){var g=b.items.length;e.counter=g>1?T(c.tCounter,f.index,g):""}),w("BuildControls"+e,function(){if(b.items.length>1&&c.arrows&&!b.arrowLeft){var d=c.arrowMarkup,e=b.arrowLeft=a(d.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(s),f=b.arrowRight=a(d.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(s);e.click(function(){b.prev()}),f.click(function(){b.next()}),b.container.append(e.add(f))}}),w(n+e,function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout),b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages(),b._preloadTimeout=null},16)}),void w(h+e,function(){d.off(e),b.wrap.off("click"+e),b.arrowRight=b.arrowLeft=null})):!1},next:function(){b.direction=!0,b.index=S(b.index+1),b.updateItemHTML()},prev:function(){b.direction=!1,b.index=S(b.index-1),b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index,b.index=a,b.updateItemHTML()},preloadNearbyImages:function(){var a,c=b.st.gallery.preload,d=Math.min(c[0],b.items.length),e=Math.min(c[1],b.items.length);for(a=1;a<=(b.direction?e:d);a++)b._preloadItem(b.index+a);for(a=1;a<=(b.direction?d:e);a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=S(c),!b.items[c].preloaded){var d=b.items[c];d.parsed||(d=b.parseEl(c)),y("LazyLoad",d),"image"===d.type&&(d.img=a('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0,d.loadError=!0,y("LazyLoadError",d)}).attr("src",d.src)),d.preloaded=!0}}}});var U="retina";a.magnificPopup.registerModule(U,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=b.st.retina,c=a.ratio;c=isNaN(c)?c():c,c>1&&(w("ImageHasSize."+U,function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),w("ElementParse."+U,function(b,d){d.src=a.replaceSrc(d,c)}))}}}}),A()});
(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof module==='object'&&typeof module.exports==='object'){factory(require('jquery'));}else{factory(jQuery);}}(function($){$.timeago=function(timestamp){if(timestamp instanceof Date){return inWords(timestamp);}else if(typeof timestamp==="string"){return inWords($.timeago.parse(timestamp));}else if(typeof timestamp==="number"){return inWords(new Date(timestamp));}else{return inWords($.timeago.datetime(timestamp));}};var $t=$.timeago;$.extend($.timeago,{settings:{refreshMillis:60000,allowPast:true,allowFuture:false,localeTitle:false,cutoff:0,autoDispose:true,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:'any moment now',seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(distanceMillis){if(!this.settings.allowPast&&!this.settings.allowFuture){throw'timeago allowPast and allowFuture settings can not both be set to false.';}
var $l=this.settings.strings;var prefix=$l.prefixAgo;var suffix=$l.suffixAgo;if(this.settings.allowFuture){if(distanceMillis<0){prefix=$l.prefixFromNow;suffix=$l.suffixFromNow;}}
if(!this.settings.allowPast&&distanceMillis>=0){return this.settings.strings.inPast;}
var seconds=Math.abs(distanceMillis)/1000;var minutes=seconds/60;var hours=minutes/60;var days=hours/24;var years=days/365;function substitute(stringOrFunction,number){var string=$.isFunction(stringOrFunction)?stringOrFunction(number,distanceMillis):stringOrFunction;var value=($l.numbers&&$l.numbers[number])||number;return string.replace(/%d/i,value);}
var words=seconds<45&&substitute($l.seconds,Math.round(seconds))||seconds<90&&substitute($l.minute,1)||minutes<45&&substitute($l.minutes,Math.round(minutes))||minutes<90&&substitute($l.hour,1)||hours<24&&substitute($l.hours,Math.round(hours))||hours<42&&substitute($l.day,1)||days<30&&substitute($l.days,Math.round(days))||days<45&&substitute($l.month,1)||days<365&&substitute($l.months,Math.round(days/30))||years<1.5&&substitute($l.year,1)||substitute($l.years,Math.round(years));var separator=$l.wordSeparator||"";if($l.wordSeparator===undefined){separator=" ";}
return $.trim([prefix,words,suffix].join(separator));},parse:function(iso8601){var s=$.trim(iso8601);s=s.replace(/\.\d+/,"");s=s.replace(/-/,"/").replace(/-/,"/");s=s.replace(/T/," ").replace(/Z/," UTC");s=s.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");s=s.replace(/([\+\-]\d\d)$/," $100");return new Date(s);},datetime:function(elem){var iso8601=$t.isTime(elem)?$(elem).attr("datetime"):$(elem).attr("title");return $t.parse(iso8601);},isTime:function(elem){return $(elem).get(0).tagName.toLowerCase()==="time";}});var functions={init:function(){var refresh_el=$.proxy(refresh,this);refresh_el();var $s=$t.settings;if($s.refreshMillis>0){this._timeagoInterval=setInterval(refresh_el,$s.refreshMillis);}},update:function(timestamp){var date=(timestamp instanceof Date)?timestamp:$t.parse(timestamp);$(this).data('timeago',{datetime:date});if($t.settings.localeTitle)$(this).attr("title",date.toLocaleString());refresh.apply(this);},updateFromDOM:function(){$(this).data('timeago',{datetime:$t.parse($t.isTime(this)?$(this).attr("datetime"):$(this).attr("title"))});refresh.apply(this);},dispose:function(){if(this._timeagoInterval){window.clearInterval(this._timeagoInterval);this._timeagoInterval=null;}}};$.fn.timeago=function(action,options){var fn=action?functions[action]:functions.init;if(!fn){throw new Error("Unknown function name '"+action+"' for timeago");}
this.each(function(){fn.call(this,options);});return this;};function refresh(){var $s=$t.settings;if($s.autoDispose&&!$.contains(document.documentElement,this)){$(this).timeago("dispose");return this;}
var data=prepareData(this);if(!isNaN(data.datetime)){if($s.cutoff==0||Math.abs(distance(data.datetime))<$s.cutoff){$(this).text(inWords(data.datetime));}}
return this;}
function prepareData(element){element=$(element);if(!element.data("timeago")){element.data("timeago",{datetime:$t.datetime(element)});var text=$.trim(element.text());if($t.settings.localeTitle){element.attr("title",element.data('timeago').datetime.toLocaleString());}else if(text.length>0&&!($t.isTime(element)&&element.attr("title"))){element.attr("title",text);}}
return element.data("timeago");}
function inWords(date){return $t.inWords(distance(date));}
function distance(date){return(new Date().getTime()-date.getTime());}
document.createElement("abbr");document.createElement("time");}));
(function(){function numpf(n,f,s,t){var n10=n%10;if((n10==1)&&((n==1)||(n>20))){return f;}else if((n10>1)&&(n10<5)&&((n>20)||(n<10))){return s;}else{return t;}}
jQuery.timeago.settings.strings={prefixAgo:null,prefixFromNow:"через",suffixAgo:"назад",suffixFromNow:null,seconds:"меньше минуты",minute:"минуту",minutes:function(value){return numpf(value,"%d минута","%d минуты","%d минут");},hour:"час",hours:function(value){return numpf(value,"%d час","%d часа","%d часов");},day:"день",days:function(value){return numpf(value,"%d день","%d дня","%d дней");},month:"месяц",months:function(value){return numpf(value,"%d месяц","%d месяца","%d месяцев");},year:"год",years:function(value){return numpf(value,"%d год","%d года","%d лет");}};})();
if(typeof window.snax==='undefined'){window.snax={};}
(function($,ctx){'use strict';ctx.config=window.snax_front_config;if(!ctx.config){throw'Snax Error: Global config is not defined!';}
ctx.log=function(msg){if(typeof console!=='undefined'){console.log(msg);}};ctx.inDebugMode=function(){return(typeof ctx.config.debug_mode!=='undefined'&&ctx.config.debug_mode);};ctx.isTouchDevice=function(){return('ontouchstart'in window)||navigator.msMaxTouchPoints;};ctx.createCookie=function(name,value,hours){var expires;if(hours){var date=new Date();date.setTime(date.getTime()+(hours*60*60*1000));expires='; expires='+date.toUTCString();}
else{expires='';}
document.cookie=name.concat('=',value,expires,'; path=/');};ctx.readCookie=function(name){var nameEQ=name+'=';var ca=document.cookie.split(';');for(var i=0;i<ca.length;i+=1){var c=ca[i];while(c.charAt(0)===' '){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}
return null;};ctx.deleteCookie=function(name){ctx.createCookie(name,'',-1);};ctx.getUrlParameter=function(param){var sPageURL=decodeURIComponent(window.location.search.substring(1)),sURLVariables=sPageURL.split('&'),sParameterName,i;for(i=0;i<sURLVariables.length;i++){sParameterName=sURLVariables[i].split('=');if(sParameterName[0]===param){return sParameterName[1]===undefined?true:sParameterName[1];}}};})(jQuery,snax);(function($,ctx){ctx.MediaItem=function(data){var instance={};function init(){data=data||{};data=$.extend({'type':'image','title':'','source':'','refLink':'','description':'','mediaId':'','postId':0,'authorId':'','status':'','parentFormat':'list','origin':'post','legal':false,'memeTemplate':''},data);return instance;}
instance.save=function(callback){callback=callback||function(){};var ajaxData={'action':'snax_add_media_item','security':$('input[name=snax-add-media-item-nonce]').val(),'snax_title':data.title,'snax_source':data.source,'snax_ref_link':data.refLink,'snax_description':data.description,'snax_media_id':data.mediaId,'snax_post_id':data.postId,'snax_author_id':data.authorId,'snax_status':data.status,'snax_parent_format':data.parentFormat,'snax_origin':data.origin,'snax_legal':data.legal?'accepted':'','snax_type':data.type,'snax_meme_template':data.memeTemplate};if(typeof ctx.saveItemImageDataFilter==='function'){ajaxData=ctx.saveItemImageDataFilter(ajaxData,data);}
var xhr=$.ajax({'type':'POST','url':ctx.config.ajax_url,'dataType':'json','data':ajaxData});xhr.done(function(res){callback(res);});};return init();};ctx.EmbedItem=function(data){var instance={};function init(){data=data||{};data=$.extend({'type':'embed','title':'','source':'','refLink':'','description':'','embedCode':'','postId':0,'authorId':'','status':'','parentFormat':'list','origin':'post','legal':false},data);return instance;}
instance.save=function(callback){callback=callback||function(){};var ajaxData={'action':'snax_add_embed_item','security':$('input[name=snax-add-embed-item-nonce]').val(),'snax_title':data.title,'snax_source':data.source,'snax_ref_link':data.refLink,'snax_embed_code':data.embedCode,'snax_description':data.description,'snax_post_id':data.postId,'snax_author_id':data.authorId,'snax_status':data.status,'snax_parent_format':data.parentFormat,'snax_origin':data.origin,'snax_legal':data.legal?'accepted':''};if(typeof ctx.saveItemEmbedDataFilter==='function'){ajaxData=ctx.saveItemEmbedDataFilter(ajaxData,data);}
var xhr=$.ajax({'type':'POST','url':ctx.config.ajax_url,'dataType':'json','data':ajaxData});xhr.done(function(res){callback(res);});};return init();};ctx.TextItem=function(data){var instance={};function init(){data=data||{};data=$.extend({'type':'text','title':'','refLink':'','description':'','postId':0,'authorId':'','status':'','parentFormat':'list','origin':'post','legal':false},data);return instance;}
instance.save=function(callback){callback=callback||function(){};var ajaxData={'action':'snax_add_text_item','security':$('input[name=snax-add-text-item-nonce]').val(),'snax_title':data.title,'snax_ref_link':data.refLink,'snax_description':data.description,'snax_post_id':data.postId,'snax_author_id':data.authorId,'snax_status':data.status,'snax_parent_format':data.parentFormat,'snax_origin':data.origin,'snax_legal':data.legal?'accepted':''};if(typeof ctx.saveItemTextDataFilter==='function'){ajaxData=ctx.saveItemTextDataFilter(ajaxData,data);}
var xhr=$.ajax({'type':'POST','url':ctx.config.ajax_url,'dataType':'json','data':ajaxData});xhr.done(function(res){callback(res);});};return init();};ctx.deleteItem=function($link,callback){callback=callback||function(){};var nonce=$.trim($link.attr('data-snax-nonce'));var itemId=parseInt($link.attr('data-snax-item-id'),10);var userId=snax.currentUserId;if($link.is('.snax-code-embed-action-delete')){return callback({status:'success'});}
var xhr=$.ajax({'type':'POST','url':ctx.config.ajax_url,'dataType':'json','data':{'action':'snax_delete_item','security':nonce,'snax_item_id':itemId,'snax_user_id':userId}});xhr.done(function(res){callback(res);});};ctx.setItemAsFeatured=function($link,callback){callback=callback||function(){};var nonce=$.trim($link.attr('data-snax-nonce'));var itemId=parseInt($link.attr('data-snax-item-id'),10);var userId=snax.currentUserId;var xhr=$.ajax({'type':'POST','url':ctx.config.ajax_url,'dataType':'json','data':{'action':'snax_set_item_as_featured','security':nonce,'snax_item_id':itemId,'snax_user_id':userId}});xhr.done(function(res){callback(res);});};ctx.updateItems=function(items,callback){callback=callback||function(){};var xhr=$.ajax({'type':'POST','url':ctx.config.ajax_url,'dataType':'json','data':{'action':'snax_update_items','security':$('input[name=snax-frontend-submission-nonce]').val(),'snax_items':items}});xhr.done(function(res){callback(res);});};ctx.deletePost=function($link,callback){callback=callback||function(){};var nonce=$.trim($link.attr('data-snax-nonce'));var postId=parseInt($link.attr('data-snax-post-id'),10);var xhr=$.ajax({'type':'POST','url':ctx.config.ajax_url,'dataType':'json','data':{'action':'snax_delete_post','security':nonce,'snax_post_id':postId}});xhr.done(function(res){callback(res);});};ctx.loginRequired=function(blocked){$('body').trigger('snaxLoginRequired',[blocked]);};ctx.getMediaHtmlTag=function(data,callback){var xhr=$.ajax({'type':'GET','url':ctx.config.ajax_url,'dataType':'json','data':{'action':'snax_load_media_tpl','snax_media_id':data.mediaId,'snax_post_id':data.postId,'snax_type':data.type}});xhr.done(function(res){callback(res);});};ctx.deleteMedia=function(data,callback){callback=callback||function(){};var xhr=$.ajax({'type':'POST','url':ctx.config.ajax_url,'dataType':'json','data':{'action':'snax_delete_media','security':$('input[name=snax-delete-media-nonce]').val(),'snax_media_id':data.mediaId,'snax_author_id':data.authorId}});xhr.done(function(res){callback(res);});};ctx.updateMediaMetadata=function(data,callback){callback=callback||function(){};var xhr=$.ajax({'type':'POST','url':ctx.config.ajax_url,'dataType':'json','data':{'action':'snax_update_media_meta','security':$('input[name=snax-delete-media-nonce]').val(),'snax_media_id':data.mediaId,'snax_parent_format':data.parentFormat}});xhr.done(function(res){callback(res);});};ctx.getEmbedPreview=function(embed_code,callback){var xhr=$.ajax({'type':'POST','url':ctx.config.ajax_url,'dataType':'json','data':{'action':'snax_load_embed_tpl','snax_embed_code':embed_code}});xhr.done(function(res){callback(res);});};ctx.displayFeedback=function(type){var feedbackTypeClass='snax-feedback-'+type;var $feedback=$('.'+feedbackTypeClass);if($feedback.length===0){return;}
ctx.hideFeedback();$feedback.toggleClass('snax-feedback-off snax-feedback-on');$('body').addClass('snax-show-feedback');};ctx.hideFeedback=function(){$('.snax-feedback-on').toggleClass('snax-feedback-on snax-feedback-off');$('body').removeClass('snax-show-feedback');};ctx.isValidUrl=function(url){return url.match(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/);};})(jQuery,snax);(function($,ctx){'use strict';var selectors={'feedbackCloseButton':'.snax-close-button'};$(document).ready(function(){$(selectors.feedbackCloseButton).on('click',function(e){e.preventDefault();snax.hideFeedback();});});})(jQuery,snax);(function($,ctx){'use strict';ctx.resetFacebookSDK=function(){$('script#facebook-jssdk').remove();$('#fb-root').remove();if(window.FB){delete window.FB;}};$('body').on('snaxBeforeNewContentReady',function(e,$newContent){if($newContent.find('.fb-video')){ctx.resetFacebookSDK();}});})(jQuery,snax);(function($,ctx){'use strict';var selectors={'form':'.snax-media-upload-form','pluploadForm':'.snax-plupload-upload-ui','loadFormButton':'.snax-load-form-button'};ctx.mediaUploadForm=function(){if(typeof snaxPlupload==='undefined'){return;}
$(selectors.form).each(function(){var $form=$(this);var force=false;if($form.parents('.snax-quiz-upload').length>0||$form.parents('.snax-poll-upload').length>0){force=true;}
snaxPlupload.initUploader($form,force);});$('body').on('snaxContentActive',function(e,$content){$content.find(selectors.form).each(function(){var $uploadForm=$(this);var uploader=snaxPlupload.initUploader($uploadForm);if(uploader){$(this).trigger('snaxUploaderReady',[uploader]);}});});$(selectors.loadFormButton).on('click',function(){var $link=$(this);var $form=$link.parents(selectors.form);var formClass=$link.attr('data-snax-rel-class');$form.find('.'+formClass).toggle();var $pluploadForm=$form.find(selectors.pluploadForm);$pluploadForm.toggle();if($pluploadForm.is(':visible')){$form.removeClass('snax-custom-form');}else{$form.addClass('snax-custom-form');}});};$(document).ready(function(){ctx.mediaUploadForm();});})(jQuery,snax);(function($,ctx){'use strict';var selectors={'wrapper':'.snax-time-left','dateWrapper':'> .snax-date-wrapper','date':'> .snax-date','timeWrapper':'> .snax-time-wrapper','time':'> .snax-time'};ctx.timeagoSelectors=selectors;ctx.dateConstans={'day_ms':1000*60*60*24,'month_ms':1000*60*60*24*30,'year_ms':1000*60*60*24*356};ctx.dateToTimeago=function(){if(!$.fn.timeago){return;}
var origSettings=$.extend(true,{},$.timeago.settings);$.extend($.timeago.settings,{cutoff:ctx.dateConstans.year_ms,allowFuture:true});$.extend($.timeago.settings.strings,{suffixFromNow:''});$(selectors.wrapper).each(function(){var $wrapper=$(this);var $dateWrapper=$wrapper.find(selectors.dateWrapper);var $date=$dateWrapper.find(selectors.date);var $timeWrapper=$wrapper.find(selectors.timeWrapper);var $time=$timeWrapper.find(selectors.time);var timeLeftText=$.timeago($date.text());$time.text(timeLeftText);$dateWrapper.removeClass('.snax-date-wrapper-unfriendly');$timeWrapper.removeClass('snax-time-wrapper-unfriendly');});$.timeago.settings=origSettings;};$(document).ready(function(){ctx.dateToTimeago();});})(jQuery,snax);(function($,ctx){'use strict';var locked=false;var selectors={'wrapper':'.snax-voting','upvoteLink':'.snax-voting-upvote','downvoteLink':'.snax-voting-downvote','guestVoting':'.snax-guest-voting','voted':'.snax-user-voted','scoreWrapper':'.snax-voting-score','scoreValue':'.snax-voting-score strong'};var classes={'voted':'snax-user-voted'};ctx.votesSelectors=selectors;ctx.votesClasses=classes;ctx.votes=function(){$('body').on('click',selectors.upvoteLink+', '+selectors.downvoteLink,function(e){e.preventDefault();if(locked){return;}
locked=true;var $link=$(this);var voteType=$link.is(selectors.upvoteLink)?'upvote':'downvote';var $wrapper=$link.parents(selectors.wrapper);var nonce=$.trim($link.attr('data-snax-nonce'));var itemId=parseInt($link.attr('data-snax-item-id'),10);var authorId=parseInt($link.attr('data-snax-author-id'),10);ctx.vote({'itemId':itemId,'authorId':authorId,'type':voteType},nonce,$wrapper);});$(selectors.wrapper).each(function(){var $this=$(this);var id=parseInt($this.attr('data-snax-item-id'),10);if(id<=0){return;}
var typeCookie='snax_vote_type_'+id;var scoreCookie='snax_vote_score_'+id;var type=ctx.readCookie(typeCookie);var score=ctx.readCookie(scoreCookie);if(!type&&!score){return;}
if(score){ctx.updateVoteScore($this.find(selectors.scoreWrapper),score);}
if(type){var $upVoteLink=$this.find(selectors.upvoteLink);var $downVoteLink=$this.find(selectors.downvoteLink);if('upvote'===type){$upVoteLink.addClass(classes.voted);$downVoteLink.removeClass(classes.voted);}else{$downVoteLink.addClass(classes.voted);$upVoteLink.removeClass(classes.voted);}}});};ctx.vote=function(data,nonce,$box){var config=window.snax_front_config;if($box.find('.snax-login-required').length>0){return;}
if(!config){ctx.log('Item voting failed. Global config is not defined!');return;}
var $userVoted=$box.find('.snax-user-voted');var userUpvoted=$userVoted.length>0&&$userVoted.is('.snax-voting-upvote');var userDownvoted=$userVoted.length>0&&$userVoted.is('.snax-voting-downvote');var score=parseInt($box.find('.snax-voting-score').data('snax-voting-score'),10);var diff='upvote'===data.type?1:-1;$box.find('.snax-voting-bubble').remove();if(userUpvoted&&'upvote'===data.type||userDownvoted&&'downvote'===data.type){diff*=-1;$box.find('.snax-user-voted').removeClass('snax-user-voted');if('upvote'===data.type){$box.find('.snax-voting-upvote').append('<span class="snax-voting-bubble snax-voting-bubble-minus-back">-1</span>');}else{$box.find('.snax-voting-downvote').append('<span class="snax-voting-bubble snax-voting-bubble-plus-back">+1</span>');}}else if(userUpvoted&&'downvote'===data.type||userDownvoted&&'upvote'===data.type){diff*=2;$box.find('.snax-user-voted').removeClass('snax-user-voted');$box.find('.snax-voting-'+data.type).addClass('snax-user-voted');if('upvote'===data.type){$box.find('.snax-voting-upvote').append('<span class="snax-voting-bubble snax-voting-bubble-plus">+2</span>');}else{$box.find('.snax-voting-downvote').append('<span class="snax-voting-bubble snax-voting-bubble-minus">-2</span>');}}else{if('upvote'===data.type){$box.find('.snax-voting-upvote').addClass('snax-user-voted').append('<span class="snax-voting-bubble snax-voting-bubble-plus">+1</span>');}else{$box.find('.snax-voting-downvote').addClass('snax-user-voted').append('<span class="snax-voting-bubble snax-voting-bubble-minus">-1</span>');}}
ctx.updateVoteScore($box.find(selectors.scoreWrapper),score+diff);var xhr=$.ajax({'type':'POST','url':config.ajax_url,'dataType':'json','data':{'action':'snax_vote_item','security':nonce,'snax_item_id':data.itemId,'snax_author_id':data.authorId,'snax_vote_type':data.type,'snax_user_voted':ctx.readCookie('snax_vote_type_'+data.itemId)}});ctx.updateVoteState(data.itemId,data.type,$box);xhr.done(function(res){locked=false;});};ctx.updateVoteState=function(itemId,type,$box){var typeCookie='snax_vote_type_'+itemId;var scoreCookie='snax_vote_score_'+itemId;var currentValue=ctx.readCookie(typeCookie);$box.find(selectors.voted).removeClass(classes.voted);if(currentValue===type){ctx.deleteCookie(typeCookie);}else{ctx.createCookie(typeCookie,type,1);$box.find('.snax-voting-'+type).addClass(classes.voted);}
var score=parseInt($box.find(selectors.scoreWrapper).data('snax-voting-score'),10);ctx.createCookie(scoreCookie,score,1);};ctx.updateVoteScore=function($wrapper,score){var $container=$wrapper.parents('.snax-voting');score=parseInt(score,10);var scoreShort=score;var units=['','k','M'];var i;for(i=0;scoreShort>=1000;i++){scoreShort/=1000;}
var scoreHtml=+scoreShort.toFixed(1)+units[i];if(1===Math.abs(score)){scoreHtml=ctx.config.i18n.points_singular_short_tpl.replace('%s',scoreHtml);}else{scoreHtml=ctx.config.i18n.points_plural_short_tpl.replace('%s',scoreHtml);}
$container.removeClass('snax-voting-0 snax-voting-negative snax-voting-positive');if(0<score){$container.addClass('snax-voting-positive');}else if(0>score){$container.addClass('snax-voting-negative');}else{$container.addClass('snax-voting-0');}
$wrapper.data('snax-voting-score',score);$wrapper.html(scoreHtml);};$(document).ready(function(){ctx.votes();});})(jQuery,snax);(function($,ctx){'use strict';var selectors={'loginTab':'.snax-login-tab','loginFormWrapper':'.snax-login-form','loginForm':'.snax-login-form #loginform-in-popup','forgotTab':'.snax-forgot-pass-tab','forgotFormWrapper':'.snax-forgot-pass-form','forgotForm':'.snax-forgot-pass-form #lostpasswordform','gdprTab':'.snax-gdpr-tab','backToLoginTab':'.snax-back-to-login-tab','loginErrorMessage':'.snax-login-form .snax-login-error-message','forgotErrorMessage':'.snax-forgot-pass-form .snax-forgot-pass-error-message','forgotSuccessMessage':'.snax-forgot-pass-form .snax-forgot-pass-success-message','user':{'loginInput':'#user_login','emailInput':'#user_email','passwordInput':'#user_pass'},'forgotPasswordLink':'#snax-popup-content .snax-link-forgot-pass','passwordWrapper':'#snax-popup-content .login-password','connectWithLabel':'#snax-popup-content .wp-social-login-connect-with','resetTab':'.snax-reset-tab'};ctx.loginFormSelectors=selectors;var useReCaptcha;var reCaptchaToken;var urlAction=ctx.getUrlParameter(ctx.config.login_popup_url_var);ctx.loginForm=function(){useReCaptcha=ctx.config.use_login_recaptcha;$.each(selectors.user,function(id,selector){var $input=$(selector);var $label=$input.prev('label');if($label.length>0){$input.attr('placeholder',$label.text());}});$(selectors.passwordWrapper+' input').after($(selectors.forgotPasswordLink));$(selectors.connectWithLabel).wrapInner('<h4>');$('.wp-social-login-provider').on('click',function(e){var $that=$(this);if($('.snax-wpsl-gdpr-consent input').length>0){if(!$('.snax-wpsl-gdpr-consent input').is(':checked')){e.stopPropagation();e.stopImmediatePropagation();e.preventDefault();handleLoginGDPR($that);}}});handleLoginAction();handleForgotPassAction();handleResendActivationEmailAction();handleTabsSwitch();if(urlAction==='reset_password'){$(selectors.loginTab).removeClass('snax-tab-active').addClass('snax-tab-inactive');$(selectors.resetTab).removeClass('snax-tab-inactive').addClass('snax-tab-active');}
if(urlAction==='forgot_password'){$(selectors.loginTab).removeClass('snax-tab-active').addClass('snax-tab-inactive');$(selectors.forgotTab).removeClass('snax-tab-inactive').addClass('snax-tab-active');}
$('body').on('snaxPopupOpened',function(e,action){if(useReCaptcha&&'login'===action){loadReCaptcha();}});};var handleLoginGDPR=function($clickedProvider){$(selectors.loginTab).removeClass('snax-tab-active').addClass('snax-tab-inactive');$(selectors.gdprTab).removeClass('snax-tab-inactive').addClass('snax-tab-active');$('.snax-login-gdpr-accept').on('click',function(){$('.snax-wpsl-gdpr-consent input').prop('checked',true);$(selectors.gdprTab).removeClass('snax-tab-active').addClass('snax-tab-inactive');$(selectors.loginTab).removeClass('snax-tab-inactive').addClass('snax-tab-active');var redirectTo=$clickedProvider.attr('href');window.location.href=redirectTo;});};var handleLoginAction=function(){$(selectors.loginForm).on('submit',function(e){e.preventDefault();var $form=$(this);var $errorMessage=$(selectors.loginErrorMessage);var requestData={'action':'snax_login'};$.each($form.serializeArray(),function(i,field){requestData[field.name]=field.value;});if(ctx.config.use_login_recaptcha){if(!reCaptchaToken){$errorMessage.html('<p class="snax-validation-tip">'+ctx.config.i18n.recaptcha_invalid+'</p>');return;}}
$errorMessage.html('<p>'+ctx.config.i18n.user_is_logging+'</p>');var xhr=$.ajax({'type':'POST','url':ctx.config.ajax_url,'dataType':'json','data':requestData});xhr.done(function(res){if('success'===res.status){var redirectTo=res.args.redirect_url;if(!redirectTo){redirectTo=window.location.href;}
if(redirectTo.indexOf('?')>0){redirectTo+='&'+ctx.config.login_success_var+'=true';}else{redirectTo+='?'+ctx.config.login_success_var+'=true';}
window.location.href=redirectTo;}else{if(res.message){$errorMessage.html('<p class="snax-validation-tip">'+res.message+'</p>');}
if(useReCaptcha){grecaptcha.reset();}}});xhr.fail(function(){var reloadUrl=window.location.href;if(reloadUrl.indexOf('?')>0){reloadUrl+='&'+ctx.config.login_success_var+'=false';}else{reloadUrl+='?'+ctx.config.login_success_var+'=false';}
window.location.href=reloadUrl;});});};var handleForgotPassAction=function(){$(selectors.forgotForm).on('submit',function(e){e.preventDefault();var $form=$(this);var $errorMessage=$(selectors.forgotErrorMessage);var $successMessage=$(selectors.forgotSuccessMessage);var requestData={'action':'snax_forgot_pass'};$.each($form.serializeArray(),function(i,field){requestData[field.name]=field.value;});$errorMessage.text('');$successMessage.text('');var xhr=$.ajax({'type':'POST','url':ctx.config.ajax_url,'dataType':'json','data':requestData});xhr.done(function(res){if('success'===res.status){if(res.message){$successMessage.html('<p class="snax-validation-tip">'+res.message+'</p>');}}else{if(res.message){$errorMessage.html('<p class="snax-validation-tip">'+res.message+'</p>');}}});});};var handleResendActivationEmailAction=function(){$(selectors.loginForm).on('click','a',function(e){if($(this).attr('href').indexOf('bp-resend-activation')!==-1){e.preventDefault();$.get($(this).attr('href'),function(data){var message=$(data).find('#login_error').text();$(selectors.loginErrorMessage).html('<p class="snax-validation-tip">'+message+'</p>');});}});};var handleTabsSwitch=function(){$(selectors.loginForm).on('click','a',function(e){if($(this).attr('href').indexOf('forgot_password')!==-1){e.preventDefault();$(selectors.loginTab).removeClass('snax-tab-active').addClass('snax-tab-inactive');$(selectors.forgotTab).removeClass('snax-tab-inactive').addClass('snax-tab-active');}});$(selectors.forgotPasswordLink).on('click',function(e){e.preventDefault();$(selectors.loginTab).removeClass('snax-tab-active').addClass('snax-tab-inactive');$(selectors.forgotTab).removeClass('snax-tab-inactive').addClass('snax-tab-active');});$(selectors.backToLoginTab).on('click',function(e){e.preventDefault();$(selectors.resetTab).removeClass('snax-tab-active').addClass('snax-tab-inactive');$(selectors.forgotTab).removeClass('snax-tab-active').addClass('snax-tab-inactive');$(selectors.loginTab).removeClass('snax-tab-inactive').addClass('snax-tab-active');});};var loadReCaptcha=function(){var apiUrl=ctx.config.recaptcha_api_url;var ver=ctx.config.recaptcha_version;var siteKey=ctx.config.recaptcha_site_key;if(!siteKey||!apiUrl){return;}
var renderLoginReCaptcha=function(){try{if('30'===ver){grecaptcha.execute(siteKey,{action:'login'}).then(function(token){$('#snax-login-recaptcha').html('<input type="hidden" name="g-recaptcha-response" value="'+token+'">');reCaptchaEnteredCorrectly(token);});}else{grecaptcha.render('snax-login-recaptcha',{'sitekey':siteKey,'callback':reCaptchaEnteredCorrectly});}}catch(error){}};if(typeof grecaptcha!=='undefined'){renderLoginReCaptcha();}else{window.snaxReCaptchaOnloadCallback=function(){renderLoginReCaptcha();};if('30'===ver){$('head').append('<script src="'+apiUrl+'?onload=snaxReCaptchaOnloadCallback&render='+siteKey+'" async defer>');}else{$('head').append('<script src="'+apiUrl+'?onload=snaxReCaptchaOnloadCallback&render=explicit" async defer>');}}};var reCaptchaEnteredCorrectly=function(response){reCaptchaToken=response;};$(document).ready(function(){ctx.loginForm();});})(jQuery,snax);(function($,ctx){'use strict';ctx.openPopup=function($content,args,action){if(!$.fn.magnificPopup){return;}
args=args||{};if(!args.tClose){args.tClose=ctx.config.i18n.popup_close_label;}
args.items={src:$content,type:'inline'};args.callbacks={'open':function(){$('body').trigger('snaxPopupOpened',[action]);}};$.magnificPopup.open(args);if(typeof args.onClose==='function'){$.magnificPopup.instance.close=args.onClose;}};ctx.closePopup=function(){if(!$.fn.magnificPopup){return;}
$.magnificPopup.close();};})(jQuery,snax);(function($,ctx){'use strict';var selectors={'popupContent':'#snax-popup-content','usernameField':'#user_login'};ctx.openLoginPopup=function(onClose){var $content=$(selectors.popupContent);var args={};if(typeof onClose==='function'){args.onClose=onClose;}
ctx.openPopup($content,args,'login');setTimeout(function(){$content.find(selectors.usernameField).focus();},100);};ctx.redirectToLoginPage=function(){window.location.href=ctx.config.login_url;};$(document).ready(function(){$('body').on('snaxLoginRequired',function(e,blocked){var onClose=false;if(blocked){onClose=function(){window.location.href=ctx.config.site_url;};}
if(ctx.config.enable_login_popup){ctx.openLoginPopup(onClose);}else if(typeof snaxLoginRequiredHandler==='function'){snaxLoginRequiredHandler(onClose);}else{ctx.redirectToLoginPage();}});});})(jQuery,snax);(function($,ctx){'use strict';$(document).ready(function(){var $body=$('body');$body.on('click','a',function(e){var $link=$(e.currentTarget);var url=$link.attr('href');if(!url||url.length===0){return;}
if(-1===url.indexOf(ctx.config.login_popup_url_var)){return;}
if($link.hasClass('snax-login-required')){return;}
e.stopImmediatePropagation();e.preventDefault();ctx.loginRequired();return false;});$body.on('click','.snax-login-required',function(e){e.preventDefault();ctx.loginRequired();return false;});if(ctx.getUrlParameter(ctx.config.login_popup_url_var)&&!ctx.config.logged_in){ctx.loginRequired();}
if(ctx.forceLoginPopup){ctx.loginRequired(ctx.forceLoginPopup.blocked);}});})(jQuery,snax);(function($,ctx){'use strict';var selectors={'actions':'.snax-actions','actionsToggle':'.snax-actions-toggle','actionsExpanded':'.snax-actions-expanded'};var classes={'expanded':'snax-actions-expanded'};ctx.actionsMenuSelectors=selectors;ctx.actionsMenuClasses=classes;ctx.actionsMenu=function(){var $body=$('body');$('body').on('click',selectors.actionsToggle,function(e){e.preventDefault();var $toggle=$(e.target);$toggle.parents(selectors.actions).toggleClass(classes.expanded);});$body.on('click touchstart',function(e){var $activeMenu=$(e.target).parents(selectors.actions);$(selectors.actionsExpanded).not($activeMenu).removeClass(classes.expanded);});};$(document).ready(function(){ctx.actionsMenu();});})(jQuery,snax);(function($,ctx){'use strict';var selectors={'wrapper':'.snax-item-share','toggle':'.snax-item-share-toggle','expandedState':'.snax-item-share-expanded'};var classes={'expanded':'snax-item-share-expanded'};ctx.itemShareSelectors=selectors;ctx.itemShareClasses=classes;ctx.itemShare=function(){$(selectors.toggle).on('click  touchstart',function(e){e.preventDefault();$(this).parents(selectors.wrapper).addClass(classes.expanded);});$('body').on('click touchstart',function(e){var $activeElem=$(e.target).parents(selectors.expandedState);$(selectors.expandedState).not($activeElem).removeClass(classes.expanded);});};$(document).ready(function(){if(ctx.isTouchDevice()){$('body').removeClass('snax-hoverable');}
ctx.itemShare();});})(jQuery,snax);(function($,ctx){'use strict';ctx.deleteItemModule={};var c=ctx.deleteItemModule;var selectors={'deleteLink':'.snax-delete-item'};var i18n={'confirm':'Are you sure?'};c.selectors=selectors;c.i18n=i18n;c.init=function(){c.attachEventHandlers();};c.attachEventHandlers=function(){$(selectors.deleteLink).on('click',function(e){e.preventDefault();if(!confirm(i18n.confirm)){return;}
ctx.deleteItem($(this),function(res){if(res.status==='success'){location.href=res.args.redirect_url;}else{alert(res.message);}});});};$(document).ready(function(){c.init();});})(jQuery,snax);(function($,ctx){'use strict';ctx.setItemAsFeaturedModule={};var c=ctx.setItemAsFeaturedModule;var selectors={'link':'.snax-set-item-as-featured'};c.selectors=selectors;c.init=function(){c.attachEventHandlers();};c.attachEventHandlers=function(){$(selectors.link).on('click',function(e){e.preventDefault();ctx.setItemAsFeatured($(this),function(res){if(res.status==='success'){location.reload();}else{alert(res.message);}});});};$(document).ready(function(){c.init();});})(jQuery,snax);(function($,ctx){'use strict';ctx.froalaSimple={};var c=ctx.froalaSimple;var selectors={'froalaEditor':'.froala-editor-simple'};c.selectors=selectors;c.init=function(){c.attachEventHandlers();c.applyFroala();};c.attachEventHandlers=function(){$('body').on('snaxNewCardAdded',function($card){c.applyFroala();});};c.renderFroala=function(){var $textarea=$(this);var config={'key':'CMFIZJNKLDXIREJI==','language':c.getFroalaEditorConfig('language'),'heightMin':200,'toolbarSticky':true,'toolbarStickyOffset':$('body').hasClass('admin-bar')?32:0,'toolbarButtons':['bold','italic','insertLink','|','undo','redo'],toolbarButtonsMD:['bold','italic','insertLink','|','undo','redo'],toolbarButtonsSM:['bold','italic','insertLink','|','undo','redo'],toolbarButtonsXS:['bold','italic','insertLink','|','undo','redo'],charCounterMax:c.getFroalaEditorMaxCharacters($textarea)};if(typeof c.froalaEditorConfig==='function'){config=c.froalaEditorConfig(config);}
if(snax.inDebugMode()){snax.log(config);}
$textarea.froalaEditor(config);};c.getFroalaEditorConfig=function(id){var config=c.config.froala;if(typeof config[id]!=='undefined'){return config[id];}
return null;};c.getFroalaEditorMaxCharacters=function($editor){var maxCharacters=parseInt($editor.attr('maxlength'),10);return maxCharacters>0?maxCharacters:-1;};c.applyFroala=function(){if(!$.fn.froalaEditor){return;}
$(selectors.froalaEditor).each(c.renderFroala);};$(document).ready(function(){if(snax.frontendSubmission){c.config=snax.frontendSubmission.config;}
if(snax.post){c.config=snax.post.config;}
if(typeof c.config==='undefined'){return;}
c.init();});})(jQuery,snax);(function($,ctx){'use strict';ctx.singleItemComments={};var c=ctx.singleItemComments;var seeMoreHtml='<a class="snax-see-all-replies">'+ctx.config.i18n.see_all_replies+'</a>';var selectors={'section':'.snax-item-comments','topLevelComment':'.snax-item-comments .depth-1','moreCommentsLink':'.snax-item-comments-more-link','allRepliesLink':'.snax-see-all-replies','list':'.comment-list','commentForm':'.snax-item-comments .comment-form','textarea':'.snax-item-comments .comment-form textarea','submitButton':'.submit','cancelReply':'#cancel-comment-reply-link','respondSection':'#respond','replyLogin':'.comment-reply-login','respondLogin':'.snax-comment-login','authorFields':'.snax-item-comment-autor',};var $spinner=$('<div class="snax-upload-icon"></div>');c.selectors=selectors;c.init=function(){$(selectors.submitButton,selectors.commentForm).attr('disabled',true);c.renderSeeMore();c.attachEventHandlers();};c.renderSeeMore=function(){$(selectors.topLevelComment).each(function(index){if($('.children li',this).length>1&&$(this).attr('appendedSeeMoreLink')!=='true'){$(this).append(seeMoreHtml);$(this).attr('appendedSeeMoreLink','true');}});$(selectors.allRepliesLink).on('click',function(e){var $parent=$(this).closest(selectors.topLevelComment);$('.children',$parent).addClass('children-visible');$(this).remove();});};c.overrideDefaultHandler=function(){if(typeof addComment==='undefined'){return;}
var origMoveForm=addComment.moveForm;addComment.moveForm=function(commId,parentId,respondId,postId){var $snaxItem=$('.snax-item.post-'+postId);if($snaxItem.length<1){origMoveForm(commId,parentId,respondId,postId);return false;}
var div,element,style,cssHidden,t=this,comm=t.I(commId),respond=$snaxItem.find('.comment-respond').get(0),cancel=respond.querySelector('#cancel-comment-reply-link'),parent=respond.querySelector('#comment_parent'),post=respond.querySelector('#comment_post_ID'),commentForm=respond.getElementsByTagName('form')[0];if(!comm||!respond||!cancel||!parent||!commentForm){return;}
t.respondId=respondId;postId=postId||false;if(!t.I('wp-temp-form-div')){div=document.createElement('div');div.id='wp-temp-form-div';div.style.display='none';respond.parentNode.insertBefore(div,respond);}
comm.parentNode.insertBefore(respond,comm.nextSibling);if(post&&postId){post.value=postId;}
parent.value=parentId;cancel.style.display='';cancel.onclick=function(){var t=addComment,temp=t.I('wp-temp-form-div');if(!temp){return;}
parent.value='0';temp.parentNode.insertBefore(respond,temp);temp.parentNode.removeChild(temp);this.style.display='none';this.onclick=null;$(respond).find('.comment-form').trigger('snaxFormInactive');return false;};try{for(var i=0;i<commentForm.elements.length;i++){element=commentForm.elements[i];cssHidden=false;if('getComputedStyle'in window){style=window.getComputedStyle(element);}else if(document.documentElement.currentStyle){style=element.currentStyle;}
if((element.offsetWidth<=0&&element.offsetHeight<=0)||style.visibility==='hidden'){cssHidden=true;}
if('hidden'===element.type||element.disabled||cssHidden){continue;}
element.focus();break;}}catch(er){}
return false;};addComment.I=function(id){return document.getElementById(id);};};c.attachEventHandlers=function(){var loadMoreComments=function($section){let $commentList=$section.find(selectors.list);let $nextCommentsLink=$section.find('.g1-comment-pagination .next');if($nextCommentsLink.length===0){return;}
$spinner.appendTo($commentList);$.get($nextCommentsLink.attr('href'),function(data){$spinner.remove();let $page=$(data);let $newComments=$page.find('#comments-wp .comment-list .comment');$section.find('.comment-list').append($newComments);let $newPagination=$page.find('#comments-wp .g1-comment-pagination');$section.find('.g1-comment-pagination').html($newPagination);if($newPagination.find('.next').length===0){$section.find(selectors.moreCommentsLink).hide();}
addComment.init();});};$(selectors.moreCommentsLink).on('click',function(e){e.preventDefault();var $section=$(this).closest(selectors.section);loadMoreComments($section);});$(selectors.commentForm).on('submit',function(e){e.preventDefault();e.stopImmediatePropagation();var $form=$(this);var url=$form.attr('action');var commentParent='0';var $textarea=$('textarea',$form);var $section=$form.closest(selectors.section);var $list=$(selectors.list,$section);var $respondSection=$form.closest(selectors.respondSection);var $cancelButton=$(selectors.cancelReply,$respondSection);var $submitButton=$(selectors.submitButton,$form);var requestData={};$.each($form.serializeArray(),function(i,field){requestData[field.name]=field.value;});requestData['is_ajax_item_comment_form']=true;commentParent=requestData['comment_parent'];if(commentParent==='0'){$spinner.prependTo($list);}else{var $commentParent=$('#comment-'+commentParent);var $commentParentChildren=$('#comment-'+commentParent+'> .children');if(!$commentParentChildren.length){$commentParent.append('<ul class="children"></ul>');$commentParentChildren=$('#comment-'+commentParent+'> .children');}
$spinner.prependTo($commentParentChildren);}
var xhr=$.ajax({'type':'POST','url':url,'data':requestData});xhr.done(function(res){$textarea.val('');$cancelButton.trigger('click');$submitButton.attr('disabled',true);if(res.indexOf('<body id="error-page">')!=-1){res=$(res).filter('p')[1];}
$spinner.replaceWith(res);if(commentParent!=='0'){var $parent=$commentParentChildren.closest(selectors.topLevelComment);$('.children',$parent).addClass('children-visible');}
$form.trigger('snaxFormInactive');});xhr.fail(function(jqXHR,textStatus){if(jqXHR.status===409){alert(ctx.config.i18n.duplicate_comment);}else{alert(ctx.config.i18n.comment_fail);}
$spinner.remove();});});var validateForm=function($form){var $submitButton=$(selectors.submitButton,$form);var $author=$(selectors.authorFields,$form);var $input=$('textarea',$form);var disable=false;if($author.length>0){var $authorName=$('#author',$author);var $authorMail=$('#email',$author);if($authorName.val()===''||$authorMail.val()===''){disable=true;}}
if($input.val()===''){disable=true;}
$submitButton.attr('disabled',disable);};$(selectors.textarea).keyup(function(){var $parent=$(this).closest(selectors.commentForm);var $author=$(selectors.authorFields,$parent);while($(this).outerHeight()<this.scrollHeight+parseFloat($(this).css('borderTopWidth'))+parseFloat($(this).css('borderBottomWidth'))){$(this).height($(this).height()+1);}
if($(this).val()){$author.show();$parent.removeClass('snax-comment-form-collapsed').addClass('snax-comment-form-extended');}else{$author.hide();$parent.removeClass('snax-comment-form-extended').addClass('snax-comment-form-collapsed');}
validateForm($parent);});$(selectors.authorFields).keyup(function(){var $parent=$(this).closest(selectors.commentForm);validateForm($parent);});$(selectors.replyLogin).click(function(e){e.preventDefault();ctx.loginRequired();});$(selectors.respondLogin).click(function(e){e.preventDefault();ctx.loginRequired();});};$(document).ready(function(){if(ctx.config.item_comments_js_enabled){c.init();}
c.overrideDefaultHandler();});})(jQuery,snax);(function($,ctx){'use strict';ctx.deletePostModule={};var c=ctx.deletePostModule;var selectors={'deleteLink':'.snax-delete-post'};c.selectors=selectors;c.init=function(){c.attachEventHandlers();};c.attachEventHandlers=function(){$(selectors.deleteLink).on('click',function(e){e.preventDefault();var $link=$(this);if(!confirm(ctx.config.i18n.are_you_sure)){return;}
var $item=$link.parents('.g1-collection-item');if($item.length===0){var $item=$link.parents('article.post');}
$item.addClass('snax-post-removing');ctx.deletePost($link,function(res){if(res.status==='success'){var redirectUrl=$link.attr('href');if(redirectUrl.length>0){var queryVarDelimiter=redirectUrl.indexOf('?')===-1?'?':'&';window.location.href=redirectUrl+queryVarDelimiter+ctx.config.delete_status_var+'=success';}else{$item.addClass('snax-post-removed');$item.slideToggle(750);setTimeout(function(){snax.notifications.add(res.message);},1500);}}else{ctx.notifications.add(res.message);}});});};$(document).ready(function(){c.init();});})(jQuery,snax);(function($,ctx){'use strict';ctx.passwordReset={};var c=ctx.passwordReset;var selectors={'resetPasswordForm':'#snax_reset_password_form','newPassword':'#snax_reset_password_form #new_password','repeatPassword':'#snax_reset_password_form #repeat_password','cookieName':'#snax_reset_password_form .rp-cookie-name','cookieValue':'#snax_reset_password_form .rp-cookie_value','resetErrorMessage':'#snax_reset_password_form  .snax-reset-pass-error-message','resetSuccessMessage':'#snax_reset_password_form  .snax-reset-pass-success-message',};c.selectors=selectors;c.init=function(){c.attachEventHandlers();};c.attachEventHandlers=function(){c.matchPasswords();c.handleForm();};c.matchPasswords=function(){var $newPassword=$(selectors.newPassword),$repeatPassword=$(selectors.repeatPassword);$repeatPassword.on('change',function(e){if($newPassword.val()!==$repeatPassword.val()){$repeatPassword.get(0).setCustomValidity(ctx.config.i18n.passwords_dont_match);}else{$repeatPassword.get(0).setCustomValidity('');}});}
c.handleForm=function(){var $form=$(selectors.resetPasswordForm),$cookieName=$(selectors.cookieName),$cookieValue=$(selectors.cookieValue),$newPassword=$(selectors.newPassword),$errorMessage=$(selectors.resetErrorMessage),$successMessage=$(selectors.resetSuccessMessage);$form.on('submit',function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();$errorMessage.text('');$successMessage.text('');ctx.createCookie($cookieName.val(),$cookieValue.val(),24);var xhr=$.ajax({'type':'POST','url':$form.attr('action')+'?action=resetpass','data':$form.serialize(),});xhr.done(function(res){if($('.reset-pass',res).length){$successMessage.html('<p class="snax-validation-tip">'+ctx.config.i18n.password_set+'</p>');}
if($('#login_error',res).length){$errorMessage.html('<p class="snax-validation-tip">'+ctx.config.i18n.link_invalid+'</p>');}});return false;});};$(document).ready(function(){if($(selectors.resetPasswordForm).length){c.init();}});})(jQuery,snax);(function($,ctx){'use strict';var useReCaptcha;var reCaptchaToken;ctx.registerForm=function(){useReCaptcha=ctx.config.use_login_recaptcha;if(useReCaptcha&&$('#buddypress #register-page').length>0){loadReCaptcha();$('#signup_submit').attr('disabled',true);}};var loadReCaptcha=function(){var apiUrl=ctx.config.recaptcha_api_url;var ver=ctx.config.recaptcha_version;var siteKey=ctx.config.recaptcha_site_key;if(!siteKey||!apiUrl){return;}
var renderLoginReCaptcha=function(){if('30'===ver){grecaptcha.execute(siteKey,{action:'login'}).then(function(token){$('#snax-register-recaptcha').html('<input type="hidden" name="g-recaptcha-response" value="'+token+'">');reCaptchaEnteredCorrectly(token);});}else{grecaptcha.render('snax-register-recaptcha',{'sitekey':siteKey,'callback':reCaptchaEnteredCorrectly});}};if(typeof grecaptcha!=='undefined'){renderLoginReCaptcha();}else{window.snaxReCaptchaOnloadCallback=function(){renderLoginReCaptcha();};if('30'===ver){$('head').append('<script src="'+apiUrl+'?onload=snaxReCaptchaOnloadCallback&render='+siteKey+'" async defer>');}else{$('head').append('<script src="'+apiUrl+'?onload=snaxReCaptchaOnloadCallback&render=explicit" async defer>');}}};var reCaptchaEnteredCorrectly=function(response){reCaptchaToken=response;$('#signup_submit').attr('disabled',false);};$(document).ready(function(){ctx.registerForm();});})(jQuery,snax);(function($,ctx){'use strict';var api={};var timeout=5000;var $notifications=false;var $notificationTpl=false;var selectors={'notifications':'.snax-notifications','notification':'.snax-notification','notificationText':'.snax-notification-text','notificationClose':'.snax-notification-close'};var classes={'on':'snax-notifications-on','off':'snax-notifications-off',};api.add=function(html){var $notification=$notificationTpl.clone(true);$notification.find(selectors.notificationText).html(html);$notification.on('click',selectors.notificationClose,function(){api.remove($notification);});setTimeout(function(){api.remove($notification);},timeout);$notifications.prepend($notification);$notifications.removeClass(classes.off).addClass(classes.on);};api.remove=function($notification){$notification.addClass('snax-notification-removed');setTimeout(function(){$notification.remove();if(api.isQueueEmpty()){$notifications.removeClass(classes.on).addClass(classes.off);}},5000);};api.isQueueEmpty=function(){return $notifications.find(selectors.notification).length===0;};var initNotifications=function(){$notifications=$(selectors.notifications);if($notifications.length===0){return;}
$notificationTpl=$notifications.find(selectors.notification).detach();ctx.notifications=api;};$(document).ready(function(){initNotifications();});})(jQuery,snax);(function($,ctx){'use strict';var storeCurrentURL=function(){var url=window.location.href;ctx.createCookie('snax_social_login_redirect_url',url,1);};$(document).ready(function(){var $gdpr=$('.snax-gdpr-consent-form');if($gdpr.length>0){$gdpr.each(function(){var $form=$(this);var $links=$form.parent().find('.snax-social-login-links');var $link;var toggleVisiblity=function(){$form.toggleClass('snax-gdpr-consent-form-hidden snax-gdpr-consent-form-visible');$links.toggleClass('snax-social-login-links-visible snax-social-login-links-hidden');};$links.on('click','a.snax-social-login',function(e){e.preventDefault();$link=$(this);toggleVisiblity();});$form.on('click','.snax-slog-gdpr-accept',function(e){e.preventDefault();storeCurrentURL();window.location.href=$link.attr('href');});$form.on('click','.snax-slog-gdpr-cancel',function(e){e.preventDefault();toggleVisiblity();});});}else{$('.snax-social-login-links').on('click','a.snax-social-login',function(e){storeCurrentURL();});}});})(jQuery,snax);
jQuery(function(e){new DLM_XHR_Download});class DLM_XHR_Download{constructor(){(dlmXHRinstance=this).init()}init(){dlmXHRinstance.attachButtonEvent()}attachButtonEvent(){jQuery("html, body").on("click",".dlm-no-access-modal-overlay, .dlm-no-access-modal-close",function(e){jQuery("#dlm-no-access-modal").remove()}),jQuery("html, body").on("click","a",function(e){const d=jQuery(this).attr("href");if(jQuery(this).hasClass("dlm-no-xhr-download"))return!0;void 0!==d&&0<=d.indexOf(dlmXHRGlobalLinks)&&dlmXHRinstance.handleDownloadClick(this,e)})}handleDownloadClick(e,d){d.stopPropagation();var o=e.getAttribute("href");let t={button:e,href:o,buttonObj:jQuery(e)};-1===t.href.indexOf("blob:http")&&"#"!==t.href&&(d.preventDefault(),dlmXHRinstance.retrieveBlob(t))}retrieveBlob(e){let{button:l,href:n,buttonObj:a}=e,s;const i=new XMLHttpRequest,m=dlmXHR.prevent_duplicates,c=a.attr("target");let p=a.attr("class");p=void 0!==p&&""!==p?p.replace("dlm-download-started","").replace("dlm-download-completed",""):"",a.addClass("dlm-download-started"),l.setAttribute("href","#"),l.removeAttribute("download"),l.setAttribute("disabled","disabled");e='<img src="'+dlmXHRgif+'" class="dlm-xhr-loading-gif" style="display:inline-block; vertical-align: middle; margin-left:15px;">',l.innerHTML+=e,e=0<n.indexOf("?")?n+"&nonce="+dlmXHR.nonce:n+"?nonce="+dlmXHR.nonce;jQuery(document).trigger("dlm_download_triggered",[this,l,a,s]),i.responseType="blob",i.onreadystatechange=function(){var{status:e,readyState:d,statusText:o}=i;let t=i.getAllResponseHeaders().split("\r\n").reduce((e,d)=>{var[d,o]=d.split(": ");return e[d]=o,e},{});if(2===i.readyState){if(void 0!==t["dlm-no-waypoints"]&&(i.abort(),window.location.href=n),void 0!==t["dlm-external-download"]){i.abort();let e="";return void 0!==t["dlm-file-name"]?(e=t["dlm-file-name"].replace(/\"/g,"").replace(";",""),e=decodeURI(e)):void 0!==t["content-disposition"]&&(e=(e=t["content-disposition"].split("filename=")[1]).replace(/\"/g,"").replace(";",""),e=decodeURI(e)),void dlmXHRinstance.dlmExternalDownload(t,l,a,e,n)}var r=Object.keys(t).filter(e=>-1!==e.indexOf("dlm-")).length;if(0===r&&(i.abort(),window.location.href=n),void 0!==t["dlm-no-access"]&&"true"===t["dlm-no-access"]&&void 0!==t["dlm-no-access-modal"]&&0!=t["dlm-no-access-modal"])return dlmXHRinstance.dlmNoAccessModal(t),l.removeAttribute("download"),l.setAttribute("href",n),a.removeClass().addClass(p).find("span.dlm-xhr-progress").remove(),a.find(".dlm-xhr-loading-gif").remove(),void i.abort();if(void 0!==t["dlm-error"]&&""!==t["dlm-error"]&&null!==t["dlm-error"])return dlmXHRinstance.dlmLogDownload(t,"failed",!1),l.removeAttribute("download"),l.setAttribute("href",n),a.removeClass().addClass(p).find("span.dlm-xhr-progress").remove(),a.find(".dlm-xhr-loading-gif").remove(),i.abort(),void(void 0!==t["dlm-no-access-modal"]&&0!=t["dlm-no-access-modal"]?dlmXHRinstance.dlmNoAccessModal(t["dlm-download-id"],t["dlm-version-id"],t["dlm-no-access-modal-text"]):a.append('<span class="dlm-xhr-error">'+t["dlm-error"]+"</span>"));if(void 0!==t["dlm-redirect"]&&""!==t["dlm-redirect"]&&null!==t["dlm-redirect"])return dlmXHRinstance.dlmLogDownload(t,"redirected",!1,t["dlm-redirect"],t["dlm-no-access"],c),l.removeAttribute("download"),l.setAttribute("href",n),a.removeClass().addClass(p).find("span.dlm-xhr-progress").remove(),a.find(".dlm-xhr-loading-gif").remove(),void i.abort()}if(404==e&&2==d){let e=document.createElement("p");e.innerHTML=o,l.parentNode.appendChild(e)}if(401==e&&2==d&&(window.location.href=o),403==e&&2==d){let e=document.createElement("p");e.innerHTML=o,l.parentNode.appendChild(e)}if(200==e&&4==d){r=i.response;let e=t["content-disposition"].split("filename=")[1];e=e.replace(/\"/g,"").replace(";",""),e=decodeURI(e),s=URL.createObjectURL(r),l.removeEventListener("click",dlmXHRinstance.handleDownloadClick),l.setAttribute("download",""+e),l.setAttribute("href",s),l.click(),a.removeClass().addClass(p+" dlm-download-complete"),dlmXHRinstance.attachButtonEvent(),jQuery(document).trigger("dlm_download_complete",[this,l,a,s]),dlmXHRinstance.dlmLogDownload(t,"completed",m),window.URL.revokeObjectURL(s),l.removeAttribute("download"),l.setAttribute("href",n),a.find(".dlm-xhr-loading-gif").remove(),setTimeout(function(){a.removeClass().addClass(p).find("span.dlm-xhr-progress").remove()},4e3)}},i.addEventListener("progress",function(e){let d=e.loaded/e.total*100;d=d.toFixed();var o;a.find("span.dlm-xhr-progress").remove(),o="dlm-download-started download-"+10*Math.ceil(d/10),1/0!=d&&a.append('<span class="dlm-xhr-progress">&nbsp;'+d+"%</span>"),a.removeClass().addClass(p+" "+o),jQuery(document).trigger("dlm_download_progress",[this,l,a,s,e,d])}),i.onerror=function(){l.removeAttribute("download"),l.setAttribute("href",n),a.removeClass().addClass(p+" dlm-no-xhr-download").find("span.dlm-xhr-progress").remove(),a.append('<span class="dlm-xhr-error">'+dlmXHRtranslations.error+"</span>"),console.log("** An error occurred during the transaction")},i.open("GET",e,!0),i.setRequestHeader("dlm-xhr-request","dlm_XMLHttpRequest"),i.send()}dlmLogDownload(e,d,o,t=null,r=null,l="_self"){null!==r?window.location.href=t:(r=window.location.href,d={download_id:e["dlm-download-id"],version_id:e["dlm-version-id"],status:d,cookie:o,currentURL:r,action:"log_dlm_xhr_download",responseHeaders:e,nonce:dlmXHR.nonce},jQuery.post(dlmXHR.ajaxUrl,d,function(e){null!==t&&(null==l&&(l="_self"),window.open(t,l))}))}dlmNoAccessModal(e){let d="empty-download",o="empty-version",t="empty-restriction",r="";void 0!==e["dlm-download-id"]&&(d=e["dlm-download-id"]),void 0!==e["dlm-version-id"]&&(o=e["dlm-version-id"]),void 0!==e["dlm-no-access-modal-text"]&&(r=e["dlm-no-access-modal-text"]),void 0!==e["dlm-no-access-restriction"]&&(t=e["dlm-no-access-restriction"]);const l={download_id:d,version_id:o,modal_text:r,restriction:t,action:"no_access_dlm_xhr_download",nonce:dlmXHR.nonce};jQuery.post(dlmXHR.ajaxUrl,l,function(e){jQuery("#dlm-no-access-modal").remove(),jQuery("body").append(e),jQuery(document).trigger("dlm_no_access_modal_response",[e,l])})}dlmExternalDownload(e,t,r,l,n){const a=new XMLHttpRequest,d=e["dlm-external-download"];r.attr("target");let s=r.attr("class"),i;s=void 0!==s&&""!==s?s.replace("dlm-download-started","").replace("dlm-download-completed",""):"",r.addClass("dlm-download-started"),t.setAttribute("href","#"),t.removeAttribute("download"),t.setAttribute("disabled","disabled"),jQuery(document).trigger("dlm_download_triggered",[this,t,r,i]),a.responseType="blob",a.onreadystatechange=function(){var{status:e,readyState:d}=a,o=a.getAllResponseHeaders().split("\r\n").reduce((e,d)=>{var[d,o]=d.split(": ");return e[d]=o,e},{});if(403===e)return dlmXHRinstance.dlmLogDownload(o,"failed",!1),a.abort(),void r.append('<span class="dlm-xhr-error">Acces Denied to file.</span>');200==e&&4==d&&(e=a.response,i=URL.createObjectURL(e),t.removeEventListener("click",dlmXHRinstance.handleDownloadClick),t.setAttribute("download",""+l),t.setAttribute("href",i),t.click(),r.removeClass().addClass(s+" dlm-download-complete"),dlmXHRinstance.attachButtonEvent(),jQuery(document).trigger("dlm_download_complete",[this,t,r,i]),dlmXHRinstance.dlmLogDownload(o,"completed",!1),window.URL.revokeObjectURL(i),t.removeAttribute("download"),t.setAttribute("href",n),r.find(".dlm-xhr-loading-gif").remove(),setTimeout(function(){r.removeClass().addClass(s).find("span.dlm-xhr-progress").remove()},1e3))},a.addEventListener("progress",function(e){let d=e.loaded/e.total*100;d=d.toFixed();var o;r.find("span.dlm-xhr-progress").remove(),o="dlm-download-started download-"+10*Math.ceil(d/10),1/0!=d&&r.append('<span class="dlm-xhr-progress">&nbsp;'+d+"%</span>"),r.removeClass().addClass(s+" "+o),jQuery(document).trigger("dlm_download_progress",[this,t,r,i,e,d])}),a.onerror=function(){t.removeAttribute("download"),t.setAttribute("href",n),r.removeClass().addClass(s+" .dlm-no-xhr-download").find("span.dlm-xhr-progress").remove(),r.append('<span class="dlm-xhr-error">'+dlmXHRtranslations.error+"</span>"),console.log("** An error occurred during the transaction")},a.open("GET",d,!0),a.setRequestHeader("dlm-xhr-request","dlm_XMLHttpRequest"),a.send()}};
/*! This file is auto-generated */
window.addComment=function(v){var I,C,h,E=v.document,b={commentReplyClass:"comment-reply-link",commentReplyTitleId:"reply-title",cancelReplyId:"cancel-comment-reply-link",commentFormId:"commentform",temporaryFormId:"wp-temp-form-div",parentIdFieldId:"comment_parent",postIdFieldId:"comment_post_ID"},e=v.MutationObserver||v.WebKitMutationObserver||v.MozMutationObserver,r="querySelector"in E&&"addEventListener"in v,n=!!E.documentElement.dataset;function t(){d(),e&&new e(o).observe(E.body,{childList:!0,subtree:!0})}function d(e){if(r&&(I=g(b.cancelReplyId),C=g(b.commentFormId),I)){I.addEventListener("touchstart",l),I.addEventListener("click",l);function t(e){if((e.metaKey||e.ctrlKey)&&13===e.keyCode)return C.removeEventListener("keydown",t),e.preventDefault(),C.submit.click(),!1}C&&C.addEventListener("keydown",t);for(var n,d=function(e){var t=b.commentReplyClass;e&&e.childNodes||(e=E);e=E.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t);return e}(e),o=0,i=d.length;o<i;o++)(n=d[o]).addEventListener("touchstart",a),n.addEventListener("click",a)}}function l(e){var t,n,d=g(b.temporaryFormId);d&&h&&(g(b.parentIdFieldId).value="0",t=d.textContent,d.parentNode.replaceChild(h,d),this.style.display="none",n=(d=(d=g(b.commentReplyTitleId))&&d.firstChild)&&d.nextSibling,d&&d.nodeType===Node.TEXT_NODE&&t&&(n&&"A"===n.nodeName&&n.id!==b.cancelReplyId&&(n.style.display=""),d.textContent=t),e.preventDefault())}function a(e){var t=g(b.commentReplyTitleId),t=t&&t.firstChild.textContent,n=this,d=m(n,"belowelement"),o=m(n,"commentid"),i=m(n,"respondelement"),r=m(n,"postid"),n=m(n,"replyto")||t;d&&o&&i&&r&&!1===v.addComment.moveForm(d,o,i,r,n)&&e.preventDefault()}function o(e){for(var t=e.length;t--;)if(e[t].addedNodes.length)return void d()}function m(e,t){return n?e.dataset[t]:e.getAttribute("data-"+t)}function g(e){return E.getElementById(e)}return r&&"loading"!==E.readyState?t():r&&v.addEventListener("DOMContentLoaded",t,!1),{init:d,moveForm:function(e,t,n,d,o){var i,r,l,a,m,c,s,e=g(e),n=(h=g(n),g(b.parentIdFieldId)),y=g(b.postIdFieldId),p=g(b.commentReplyTitleId),u=(p=p&&p.firstChild)&&p.nextSibling;if(e&&h&&n){void 0===o&&(o=p&&p.textContent),a=h,m=b.temporaryFormId,c=g(m),s=(s=g(b.commentReplyTitleId))?s.firstChild.textContent:"",c||((c=E.createElement("div")).id=m,c.style.display="none",c.textContent=s,a.parentNode.insertBefore(c,a)),d&&y&&(y.value=d),n.value=t,I.style.display="",e.parentNode.insertBefore(h,e.nextSibling),p&&p.nodeType===Node.TEXT_NODE&&(u&&"A"===u.nodeName&&u.id!==b.cancelReplyId&&(u.style.display="none"),p.textContent=o),I.onclick=function(){return!1};try{for(var f=0;f<C.elements.length;f++)if(i=C.elements[f],r=!1,"getComputedStyle"in v?l=v.getComputedStyle(i):E.documentElement.currentStyle&&(l=i.currentStyle),(i.offsetWidth<=0&&i.offsetHeight<=0||"hidden"===l.visibility)&&(r=!0),"hidden"!==i.type&&!i.disabled&&!r){i.focus();break}}catch(e){}return!1}}}}(window);
/*!
  * Stickyfill – `position: sticky` polyfill
  * v. 2.0.3 | https://github.com/wilddeer/stickyfill
  * MIT License
  */
!function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function e(a){return parseFloat(a)||0}function f(a){for(var b=0;a;)b+=a.offsetTop,a=a.offsetParent;return b}function g(){function c(){a.pageXOffset!=k.left?(k.top=a.pageYOffset,k.left=a.pageXOffset,n.refreshAll()):a.pageYOffset!=k.top&&(k.top=a.pageYOffset,k.left=a.pageXOffset,l.forEach(function(a){return a._recalcPosition()}))}function d(){f=setInterval(function(){l.forEach(function(a){return a._fastCheck()})},500)}function e(){clearInterval(f)}c(),a.addEventListener("scroll",c),a.addEventListener("resize",n.refreshAll),a.addEventListener("orientationchange",n.refreshAll);var f=void 0,g=void 0,h=void 0;"hidden"in b?(g="hidden",h="visibilitychange"):"webkitHidden"in b&&(g="webkitHidden",h="webkitvisibilitychange"),h?(b[g]||d(),b.addEventListener(h,function(){b[g]?e():d()})):d()}var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=!1;a.getComputedStyle?!function(){var a=b.createElement("div");["","-webkit-","-moz-","-ms-"].some(function(b){try{a.style.position=b+"sticky"}catch(a){}return""!=a.style.position})&&(i=!0)}():i=!0;var j="undefined"!=typeof ShadowRoot,k={top:null,left:null},l=[],m=function(){function g(a){if(c(this,g),!(a instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(l.some(function(b){return b._node===a}))throw new Error("Stickyfill is already applied to this node");this._node=a,this._stickyMode=null,this._active=!1,l.push(this),this.refresh()}return h(g,[{key:"refresh",value:function(){if(!i&&!this._removed){this._active&&this._deactivate();var c=this._node,g=getComputedStyle(c),h={top:g.top,display:g.display,marginTop:g.marginTop,marginBottom:g.marginBottom,marginLeft:g.marginLeft,marginRight:g.marginRight,cssFloat:g.cssFloat};if(!isNaN(parseFloat(h.top))&&"table-cell"!=h.display&&"none"!=h.display){this._active=!0;var k=c.parentNode,l=j&&k instanceof ShadowRoot?k.host:k,m=c.getBoundingClientRect(),n=l.getBoundingClientRect(),o=getComputedStyle(l);this._parent={node:l,styles:{position:l.style.position},offsetHeight:l.offsetHeight},this._offsetToWindow={left:m.left,right:b.documentElement.clientWidth-m.right},this._offsetToParent={top:m.top-n.top-e(o.borderTopWidth),left:m.left-n.left-e(o.borderLeftWidth),right:-m.right+n.right-e(o.borderRightWidth)},this._styles={position:c.style.position,top:c.style.top,bottom:c.style.bottom,left:c.style.left,right:c.style.right,width:c.style.width,marginTop:c.style.marginTop,marginLeft:c.style.marginLeft,marginRight:c.style.marginRight};var p=e(h.top);this._limits={start:m.top+a.pageYOffset-p,end:n.top+a.pageYOffset+l.offsetHeight-e(o.borderBottomWidth)-c.offsetHeight-p-e(h.marginBottom)};var q=o.position;"absolute"!=q&&"relative"!=q&&(l.style.position="relative"),this._recalcPosition();var r=this._clone={};r.node=b.createElement("div"),d(r.node.style,{width:m.right-m.left+"px",height:m.bottom-m.top+"px",marginTop:h.marginTop,marginBottom:h.marginBottom,marginLeft:h.marginLeft,marginRight:h.marginRight,cssFloat:h.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),k.insertBefore(r.node,c),r.docOffsetTop=f(r.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var a=k.top<=this._limits.start?"start":k.top>=this._limits.end?"end":"middle";if(this._stickyMode!=a){switch(a){case"start":d(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":d(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":d(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=a}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(Math.abs(f(this._clone.node)-this._clone.docOffsetTop)>1||Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight)>1)&&this.refresh()}},{key:"_deactivate",value:function(){var a=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,d(this._node.style,this._styles),delete this._styles,l.some(function(b){return b!==a&&b._parent&&b._parent.node===a._parent.node})||d(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var a=this;this._deactivate(),l.some(function(b,c){if(b._node===a._node)return l.splice(c,1),!0}),this._removed=!0}}]),g}(),n={stickies:l,Sticky:m,addOne:function(a){if(!(a instanceof HTMLElement)){if(!a.length||!a[0])return;a=a[0]}for(var b=0;b<l.length;b++)if(l[b]._node===a)return l[b];return new m(a)},add:function(a){if(a instanceof HTMLElement&&(a=[a]),a.length){for(var b=[],c=function(c){var d=a[c];return d instanceof HTMLElement?l.some(function(a){if(a._node===d)return b.push(a),!0})?"continue":void b.push(new m(d)):(b.push(void 0),"continue")},d=0;d<a.length;d++){c(d)}return b}},refreshAll:function(){l.forEach(function(a){return a.refresh()})},removeOne:function(a){if(!(a instanceof HTMLElement)){if(!a.length||!a[0])return;a=a[0]}l.some(function(b){if(b._node===a)return b.remove(),!0})},remove:function(a){if(a instanceof HTMLElement&&(a=[a]),a.length)for(var b=function(b){var c=a[b];l.some(function(a){if(a._node===c)return a.remove(),!0})},c=0;c<a.length;c++)b(c)},removeAll:function(){for(;l.length;)l[0].remove()}};i||g(),"undefined"!=typeof module&&module.exports?module.exports=n:a.Stickyfill=n}(window,document);

/*!
 * The MIT License
 *
 * Copyright (c) 2012 James Allardice
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 */
!function(a){"use strict";function b(){}function c(){try{return document.activeElement}catch(a){}}function d(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1}function e(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):void 0}function f(a,b){var c;a.createTextRange?(c=a.createTextRange(),c.move("character",b),c.select()):a.selectionStart&&(a.focus(),a.setSelectionRange(b,b))}function g(a,b){try{return a.type=b,!0}catch(c){return!1}}function h(a,b){if(a&&a.getAttribute(B))b(a);else for(var c,d=a?a.getElementsByTagName("input"):N,e=a?a.getElementsByTagName("textarea"):O,f=d?d.length:0,g=e?e.length:0,h=f+g,i=0;h>i;i++)c=f>i?d[i]:e[i-f],b(c)}function i(a){h(a,k)}function j(a){h(a,l)}function k(a,b){var c=!!b&&a.value!==b,d=a.value===a.getAttribute(B);if((c||d)&&"true"===a.getAttribute(C)){a.removeAttribute(C),a.value=a.value.replace(a.getAttribute(B),""),a.className=a.className.replace(A,"");var e=a.getAttribute(I);parseInt(e,10)>=0&&(a.setAttribute("maxLength",e),a.removeAttribute(I));var f=a.getAttribute(D);return f&&(a.type=f),!0}return!1}function l(a){var b=a.getAttribute(B);if(""===a.value&&b){a.setAttribute(C,"true"),a.value=b,a.className+=" "+z;var c=a.getAttribute(I);c||(a.setAttribute(I,a.maxLength),a.removeAttribute("maxLength"));var d=a.getAttribute(D);return d?a.type="text":"password"===a.type&&g(a,"text")&&a.setAttribute(D,"password"),!0}return!1}function m(a){return function(){P&&a.value===a.getAttribute(B)&&"true"===a.getAttribute(C)?f(a,0):k(a)}}function n(a){return function(){l(a)}}function o(a){return function(){i(a)}}function p(a){return function(b){return v=a.value,"true"===a.getAttribute(C)&&v===a.getAttribute(B)&&d(x,b.keyCode)?(b.preventDefault&&b.preventDefault(),!1):void 0}}function q(a){return function(){k(a,v),""===a.value&&(a.blur(),f(a,0))}}function r(a){return function(){a===c()&&a.value===a.getAttribute(B)&&"true"===a.getAttribute(C)&&f(a,0)}}function s(a){var b=a.form;b&&"string"==typeof b&&(b=document.getElementById(b),b.getAttribute(E)||(e(b,"submit",o(b)),b.setAttribute(E,"true"))),e(a,"focus",m(a)),e(a,"blur",n(a)),P&&(e(a,"keydown",p(a)),e(a,"keyup",q(a)),e(a,"click",r(a))),a.setAttribute(F,"true"),a.setAttribute(B,T),(P||a!==c())&&l(a)}var t=document.createElement("input"),u=void 0!==t.placeholder;if(a.Placeholders={nativeSupport:u,disable:u?b:i,enable:u?b:j},!u){var v,w=["text","search","url","tel","email","password","number","textarea"],x=[27,33,34,35,36,37,38,39,40,8,46],y="#ccc",z="placeholdersjs",A=new RegExp("(?:^|\\s)"+z+"(?!\\S)"),B="data-placeholder-value",C="data-placeholder-active",D="data-placeholder-type",E="data-placeholder-submit",F="data-placeholder-bound",G="data-placeholder-focus",H="data-placeholder-live",I="data-placeholder-maxlength",J=100,K=document.getElementsByTagName("head")[0],L=document.documentElement,M=a.Placeholders,N=document.getElementsByTagName("input"),O=document.getElementsByTagName("textarea"),P="false"===L.getAttribute(G),Q="false"!==L.getAttribute(H),R=document.createElement("style");R.type="text/css";var S=document.createTextNode("."+z+" {color:"+y+";}");R.styleSheet?R.styleSheet.cssText=S.nodeValue:R.appendChild(S),K.insertBefore(R,K.firstChild);for(var T,U,V=0,W=N.length+O.length;W>V;V++)U=V<N.length?N[V]:O[V-N.length],T=U.attributes.placeholder,T&&(T=T.nodeValue,T&&d(w,U.type)&&s(U));var X=setInterval(function(){for(var a=0,b=N.length+O.length;b>a;a++)U=a<N.length?N[a]:O[a-N.length],T=U.attributes.placeholder,T?(T=T.nodeValue,T&&d(w,U.type)&&(U.getAttribute(F)||s(U),(T!==U.getAttribute(B)||"password"===U.type&&!U.getAttribute(D))&&("password"===U.type&&!U.getAttribute(D)&&g(U,"text")&&U.setAttribute(D,"password"),U.value===U.getAttribute(B)&&(U.value=T),U.setAttribute(B,T)))):U.getAttribute(C)&&(k(U),U.removeAttribute(B));Q||clearInterval(X)},J);e(a,"beforeunload",function(){M.disable()})}}(this),function(a,b){"use strict";var c=a.fn.val,d=a.fn.prop;b.Placeholders.nativeSupport||(a.fn.val=function(a){var b=c.apply(this,arguments),d=this.eq(0).data("placeholder-value");return void 0===a&&this.eq(0).data("placeholder-active")&&b===d?"":b},a.fn.prop=function(a,b){return void 0===b&&this.eq(0).data("placeholder-active")&&"value"===a?"":d.apply(this,arguments)})}(jQuery,this);
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){"use strict";var styleMedia=(window.styleMedia||window.media);if(!styleMedia){var style=document.createElement('style'),script=document.getElementsByTagName('script')[0],info=null;style.type='text/css';style.id='matchmediajs-test';script.parentNode.insertBefore(style,script);info=('getComputedStyle'in window)&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text='@media '+media+'{ #matchmediajs-test { width: 1px; } }';if(style.styleSheet){style.styleSheet.cssText=text;}else{style.textContent=text;}
return info.width==='1px';}};}
return function(media){return{matches:styleMedia.matchMedium(media||'all'),media:media||'all'};};}());
/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */
(function(){if(window.matchMedia&&window.matchMedia('all').addListener){return false;}
var localMatchMedia=window.matchMedia,hasMediaQueries=localMatchMedia('only all').matches,isListening=false,timeoutID=0,queries=[],handleChange=function(evt){clearTimeout(timeoutID);timeoutID=setTimeout(function(){for(var i=0,il=queries.length;i<il;i++){var mql=queries[i].mql,listeners=queries[i].listeners||[],matches=localMatchMedia(mql.media).matches;if(matches!==mql.matches){mql.matches=matches;for(var j=0,jl=listeners.length;j<jl;j++){listeners[j].call(window,mql);}}}},30);};window.matchMedia=function(media){var mql=localMatchMedia(media),listeners=[],index=0;mql.addListener=function(listener){if(!hasMediaQueries){return;}
if(!isListening){isListening=true;window.addEventListener('resize',handleChange,true);}
if(index===0){index=queries.push({mql:mql,listeners:listeners});}
listeners.push(listener);};mql.removeListener=function(listener){for(var i=0,il=listeners.length;i<il;i++){if(listeners[i]===listener){listeners.splice(i,1);}}};return mql;};}());
/*! Picturefill - v2.3.1 - 2015-04-09
* http://scottjehl.github.io/picturefill
* Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b,c){"use strict";function d(b){"object"==typeof module&&"object"==typeof module.exports?module.exports=b:"function"==typeof define&&define.amd&&define("picturefill",function(){return b}),"object"==typeof a&&(a.picturefill=b)}function e(a){var b,c,d,e,f,i=a||{};b=i.elements||g.getAllElements();for(var j=0,k=b.length;k>j;j++)if(c=b[j],d=c.parentNode,e=void 0,f=void 0,"IMG"===c.nodeName.toUpperCase()&&(c[g.ns]||(c[g.ns]={}),i.reevaluate||!c[g.ns].evaluated)){if(d&&"PICTURE"===d.nodeName.toUpperCase()){if(g.removeVideoShim(d),e=g.getMatch(c,d),e===!1)continue}else e=void 0;(d&&"PICTURE"===d.nodeName.toUpperCase()||!g.sizesSupported&&c.srcset&&h.test(c.srcset))&&g.dodgeSrcset(c),e?(f=g.processSourceSet(e),g.applyBestCandidate(f,c)):(f=g.processSourceSet(c),(void 0===c.srcset||c[g.ns].srcset)&&g.applyBestCandidate(f,c)),c[g.ns].evaluated=!0}}function f(){function c(){clearTimeout(d),d=setTimeout(h,60)}g.initTypeDetects(),e();var d,f=setInterval(function(){return e(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(f):void 0},250),h=function(){e({reevaluate:!0})};a.addEventListener?a.addEventListener("resize",c,!1):a.attachEvent&&a.attachEvent("onresize",c)}if(a.HTMLPictureElement)return void d(function(){});b.createElement("picture");var g=a.picturefill||{},h=/\s+\+?\d+(e\d+)?w/;g.ns="picturefill",function(){g.srcsetSupported="srcset"in c,g.sizesSupported="sizes"in c,g.curSrcSupported="currentSrc"in c}(),g.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},g.makeUrl=function(){var a=b.createElement("a");return function(b){return a.href=b,a.href}}(),g.restrictsMixedContent=function(){return"https:"===a.location.protocol},g.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},g.getDpr=function(){return a.devicePixelRatio||1},g.getWidthFromLength=function(a){var c;if(!a||a.indexOf("%")>-1!=!1||!(parseFloat(a)>0||a.indexOf("calc(")>-1))return!1;a=a.replace("vw","%"),g.lengthEl||(g.lengthEl=b.createElement("div"),g.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden",g.lengthEl.className="helper-from-picturefill-js"),g.lengthEl.style.width="0px";try{g.lengthEl.style.width=a}catch(d){}return b.body.appendChild(g.lengthEl),c=g.lengthEl.offsetWidth,0>=c&&(c=!1),b.body.removeChild(g.lengthEl),c},g.detectTypeSupport=function(b,c){var d=new a.Image;return d.onerror=function(){g.types[b]=!1,e()},d.onload=function(){g.types[b]=1===d.width,e()},d.src=c,"pending"},g.types=g.types||{},g.initTypeDetects=function(){g.types["image/jpeg"]=!0,g.types["image/gif"]=!0,g.types["image/png"]=!0,g.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),g.types["image/webp"]=g.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")},g.verifyTypeSupport=function(a){var b=a.getAttribute("type");if(null===b||""===b)return!0;var c=g.types[b];return"string"==typeof c&&"pending"!==c?(g.types[b]=g.detectTypeSupport(b,c),"pending"):"function"==typeof c?(c(),"pending"):c},g.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},g.findWidthFromSourceSize=function(c){for(var d,e=g.trim(c).split(/\s*,\s*/),f=0,h=e.length;h>f;f++){var i=e[f],j=g.parseSize(i),k=j.length,l=j.media;if(k&&(!l||g.matchesMedia(l))&&(d=g.getWidthFromLength(k)))break}return d||Math.max(a.innerWidth||0,b.documentElement.clientWidth)},g.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c,d=a.search(/\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c.slice(-1);if((","===f||""===c)&&(c=c.replace(/,+$/,""),e=""),a=a.slice(d+1),null===e){var g=a.indexOf(",");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a="")}}else c=a,a="";(c||e)&&b.push({url:c,descriptor:e})}return b},g.parseDescriptor=function(a,b){var c,d=b||"100vw",e=a&&a.replace(/(^\s+|\s+$)/g,""),f=g.findWidthFromSourceSize(d);if(e)for(var h=e.split(" "),i=h.length-1;i>=0;i--){var j=h[i],k=j&&j.slice(j.length-1);if("h"!==k&&"w"!==k||g.sizesSupported){if("x"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else c=parseFloat(parseInt(j,10)/f)}return c||1},g.getCandidatesFromSourceSet=function(a,b){for(var c=g.parseSrcset(a),d=[],e=0,f=c.length;f>e;e++){var h=c[e];d.push({url:h.url,resolution:g.parseDescriptor(h.descriptor,b)})}return d},g.dodgeSrcset=function(a){a.srcset&&(a[g.ns].srcset=a.srcset,a.srcset="",a.setAttribute("data-pfsrcset",a[g.ns].srcset))},g.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[g.ns]&&a[g.ns].srcset&&(b=a[g.ns].srcset),b&&(d=g.getCandidatesFromSourceSet(b,c)),d},g.backfaceVisibilityFix=function(a){var b=a.style||{},c="webkitBackfaceVisibility"in b,d=b.zoom;c&&(b.zoom=".999",c=a.offsetWidth,b.zoom=d)},g.setIntrinsicSize=function(){var c={},d=function(a,b,c){b&&a.setAttribute("width",parseInt(b/c,10))};return function(e,f){var h;e[g.ns]&&!a.pfStopIntrinsicSize&&(void 0===e[g.ns].dims&&(e[g.ns].dims=e.getAttribute("width")||e.getAttribute("height")),e[g.ns].dims||(f.url in c?d(e,c[f.url],f.resolution):(h=b.createElement("img"),h.onload=function(){if(c[f.url]=h.width,!c[f.url])try{b.body.appendChild(h),c[f.url]=h.width||h.offsetWidth,b.body.removeChild(h)}catch(a){}e.src===f.url&&d(e,c[f.url],f.resolution),e=null,h.onload=null,h=null},h.src=f.url)))}}(),g.applyBestCandidate=function(a,b){var c,d,e;a.sort(g.ascendingSort),d=a.length,e=a[d-1];for(var f=0;d>f;f++)if(c=a[f],c.resolution>=g.getDpr()){e=c;break}e&&(e.url=g.makeUrl(e.url),b.src!==e.url&&(g.restrictsMixedContent()&&"http:"===e.url.substr(0,"http:".length).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+e.url):(b.src=e.url,g.curSrcSupported||(b.currentSrc=b.src),g.backfaceVisibilityFix(b))),g.setIntrinsicSize(b,e))},g.ascendingSort=function(a,b){return a.resolution-b.resolution},g.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){for(var c=b[0],d=c.getElementsByTagName("source");d.length;)a.insertBefore(d[0],c);c.parentNode.removeChild(c)}},g.getAllElements=function(){for(var a=[],c=b.getElementsByTagName("img"),d=0,e=c.length;e>d;d++){var f=c[d];("PICTURE"===f.parentNode.nodeName.toUpperCase()||null!==f.getAttribute("srcset")||f[g.ns]&&null!==f[g.ns].srcset)&&a.push(f)}return a},g.getMatch=function(a,b){for(var c,d=b.childNodes,e=0,f=d.length;f>e;e++){var h=d[e];if(1===h.nodeType){if(h===a)return c;if("SOURCE"===h.nodeName.toUpperCase()){null!==h.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var i=h.getAttribute("media");if(h.getAttribute("srcset")&&(!i||g.matchesMedia(i))){var j=g.verifyTypeSupport(h);if(j===!0){c=h;break}if("pending"===j)return!1}}}}return c},f(),e._=g,d(e)}(window,window.document,new window.Image);
/*!
Waypoints - 4.0.0
Copyright © 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/
!function(){"use strict";function t(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s],l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var l,h,p,u,c,d=this.waypoints[r][a],f=d.options.offset,w=d.triggerPoint,y=0,g=null==w;d.element!==d.element.window&&(y=d.adapter.offset()[s.offsetProp]),"function"==typeof f?f=f.apply(d):"string"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf("%")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,d.triggerPoint=y+l-f,h=w<s.oldScroll,p=d.triggerPoint>=s.oldScroll,u=h&&p,c=!h&&!p,!g&&u?(d.queueTrigger(s.backward),o[d.group.id]=d.group):!g&&c?(d.queueTrigger(s.forward),o[d.group.id]=d.group):g&&s.oldScroll>=d.triggerPoint&&(d.queueTrigger(s.forward),o[d.group.id]=d.group)}}return n.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n="up"===i||"left"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,o){t[o]=e[o]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});"string"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();
/*!
 * enquire.js v2.1.2 - Awesome Media Queries in JavaScript
 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/enquire.js
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
!function(a,b,c){var d=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=c(d):"function"==typeof define&&define.amd?define(function(){return b[a]=c(d)}):b[a]=c(d)}("enquire",this,function(a){"use strict";function b(a,b){var c,d=0,e=a.length;for(d;e>d&&(c=b(a[d],d),c!==!1);d++);}function c(a){return"[object Array]"===Object.prototype.toString.apply(a)}function d(a){return"function"==typeof a}function e(a){this.options=a,!a.deferSetup&&this.setup()}function f(b,c){this.query=b,this.isUnconditional=c,this.handlers=[],this.mql=a(b);var d=this;this.listener=function(a){d.mql=a,d.assess()},this.mql.addListener(this.listener)}function g(){if(!a)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!a("only all").matches}return e.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(a){return this.options===a||this.options.match===a}},f.prototype={addHandler:function(a){var b=new e(a);this.handlers.push(b),this.matches()&&b.on()},removeHandler:function(a){var c=this.handlers;b(c,function(b,d){return b.equals(a)?(b.destroy(),!c.splice(d,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){b(this.handlers,function(a){a.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";b(this.handlers,function(b){b[a]()})}},g.prototype={register:function(a,e,g){var h=this.queries,i=g&&this.browserIsIncapable;return h[a]||(h[a]=new f(a,i)),d(e)&&(e={match:e}),c(e)||(e=[e]),b(e,function(b){d(b)&&(b={match:b}),h[a].addHandler(b)}),this},unregister:function(a,b){var c=this.queries[a];return c&&(b?c.removeHandler(b):(c.clear(),delete this.queries[a])),this}},new g});
(function($){'use strict';var config=bimber_front_config;var g1={'config':config};g1.getWindowWidth=function(){if(typeof window.innerWidth!=='undefined'){return window.innerWidth;}
return $(window).width();};g1.isDesktopDevice=function(){return g1.getWindowWidth()>g1.getDesktopBreakpoint();};g1.getDesktopBreakpoint=function(){var desktopBreakPoint=$('#g1-breakpoint-desktop').css('min-width');if(!desktopBreakPoint){return 9999;}
desktopBreakPoint=parseInt(desktopBreakPoint,10);if(desktopBreakPoint===0){return 9999;}
return desktopBreakPoint;};g1.isTouchDevice=function(){return('ontouchstart'in window)||navigator.msMaxTouchPoints;};g1.isStickySupported=function(){var prefixes=['','-webkit-','-moz-','-ms-'];var block=document.createElement('div');var supported=false;var i;for(i=prefixes.length-1;i>=0;i--){try{block.style.position=prefixes[i]+'sticky';}
catch(e){}
if(block.style.position!==''){supported=true;}}
return supported;};g1.isRTL=function(){return $('body').is('.rtl');};g1.log=function(data){if((g1.config.debug_mode||window.bimberDebugMode)&&typeof console!=='undefined'){if($.isArray(data)){for(var i in data){console.log(data[i]);}}else{console.log(data);}}};g1.createCookie=function(name,value,time){var expires;if(time){var date=new Date();var ms=time;if(typeof time==='object'){ms=time.value;switch(time.type){case'days':ms=ms*24*60*60*1000;break;}}
date.setTime(date.getTime()+ms);expires='; expires='+date.toGMTString();}
else{expires='';}
document.cookie=name+'='+value+expires+'; path=/';};g1.readCookie=function(name){var nameEQ=name+'=';var ca=document.cookie.split(';');for(var i=0;i<ca.length;i+=1){var c=ca[i];while(c.charAt(0)===' '){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}
return null;};g1.removeCookie=function(name){g1.createCookie(name,'',-1);};window.g1=g1;})(jQuery);(function($){'use strict';g1.uiHelpers=function(){if(g1.isTouchDevice()){$('body').removeClass('g1-hoverable');}
var mc4wpClasses=['g1-box','g1-box-tpl-frame','g1-newsletter'];var mc4wpBackgroundClasses=['g1-box-background'];if('original-2018'===g1.config.stack||'food'===g1.config.stack){mc4wpBackgroundClasses.push('g1-current-background');}
if('miami'===g1.config.stack||'music'===g1.config.stack){mc4wpClasses.push('g1-dark');}
$('.widget_mc4wp_form_widget').addClass(mc4wpClasses.join(' ')).wrapInner('<div class="g1-box-inner"></div>').prepend('<div class="g1-box-icon"></div>').append('<div class="'+mc4wpBackgroundClasses.join(' ')+'"></div>');var bbPressBackgroundClasses=['g1-box-background'];if('original-2018'===g1.config.stack||'food'===g1.config.stack){bbPressBackgroundClasses.push('g1-current-background');}
$('.bbp_widget_login').addClass('g1-box g1-box-tpl-frame').wrapInner('<div class="g1-box-inner"></div>').append('<div class="'+bbPressBackgroundClasses.join(' ')+'"></div>');$('.g1-drop-the-search').on('click','.g1-drop-toggle',function(e){e.preventDefault();$('.g1-drop-the-search input.search-field').focus();});$('.search-submit').on('click',function(e){var $form=$(this).closest('form');var $input=$('input.search-field',$form);if(!$input.val()){e.preventDefault();}});$('#buddypress .load-more').click(function(){var i=0;var intervalID=setInterval(function(){$('body').trigger('g1PageHeightChanged');i++;if(i===5){window.clearInterval(intervalID);}},1000);});};})(jQuery);(function($){'use strict';g1.resetFacebookSDK=function(){$('script#facebook-jssdk').remove();$('#fb-root').remove();if(window.FB){delete window.FB;}};$('body').on('g1BeforeNewContentReady',function(e,$newContent){if($newContent.find('.fb-video').length>0){g1.resetFacebookSDK();}});})(jQuery);(function($){'use strict';$('body').on('g1NewContentLoaded',function(e,$newContent){if($newContent.find('.instagram-media').length>0){if(typeof instgrm!=='undefined'&&typeof instgrm.Embeds!=='undefined'){instgrm.Embeds.process();}}});})(jQuery);(function($){'use strict';var loading=false;var startingUrl=window.location.href;var setTargetBlank=g1.config.setTargetBlank;var useWaypoints=g1.config.useWaypoints;g1.loadMoreButton=function(){$('.g1-load-more').on('click',function(e){if(loading){return;}
loading=true;e.preventDefault();var $button=$(this);var $collectionMore=$button.parents('.g1-collection-more');var url=$button.attr('data-g1-next-page-url');var $endMessage=$('.g1-pagination-end');$collectionMore.addClass('g1-collection-more-loading');var xhr=$.get(url);xhr.done(function(data){var collectionSelector='#primary > .g1-collection .g1-collection-items';var $resCollectionItems=$(data).find(collectionSelector).find('.g1-collection-item');var $resButton=$(data).find('.g1-load-more');var $collection=$(collectionSelector);$resCollectionItems.addClass('g1-collection-item-added');var $insta=$('script[src="//platform.instagram.com/en_US/embeds.js"]');if(window.wp&&typeof window.wp.mediaelement==='undefined'){var matches=data.match(/<script(.|\n)*?<\/script>/g);var mejsCode='';matches.forEach(function(match){if(match.indexOf('mejs')>0||match.indexOf('mediaelement')>0){match=match.replace('<script','<script async');mejsCode+=match;}});matches=data.match(/<link(.|\n)*?\/>/g);matches.forEach(function(match){if(match.indexOf('mejs')>0||match.indexOf('mediaelement')>0){mejsCode+=match;}});$collection.after(mejsCode);}
if(setTargetBlank){$('a',$resCollectionItems).attr('target','_blank');}
var $collection_waypoint='<span class="bimber-collection-waypoint" data-bimber-archive-url="'+url+'"></span>';$collection.append($collection_waypoint);$collection.append($resCollectionItems);if(typeof ga!=='undefined'&&typeof ga.getAll!=='undefined'){ga('create',ga.getAll()[0].get('trackingId'),'auto');ga('set',{location:url});ga('send','pageview');}
if($insta.length>0){window.instgrm.Embeds.process();}
if(window.wp&&typeof window.wp.mediaelement!=='undefined'){window.wp.mediaelement.initialize();}
$('body').trigger('g1PageHeightChanged');$('body').trigger('g1NewContentLoaded',[$resCollectionItems]);if($resButton.length>0){$button.attr('data-g1-next-page-url',$resButton.attr('data-g1-next-page-url'));}else{$collectionMore.remove();}
if(typeof g1.autoPlayVideo==='function'){g1.autoPlayVideo();}
if(useWaypoints){$('.bimber-collection-waypoint').waypoint(function(direction){var $waypoint=$(this.element);if('up'===direction){var $waypointUp=$waypoint.prevAll('.bimber-collection-waypoint');if($waypointUp.length>0){$waypoint=$($waypointUp[0]);}else{window.history.replaceState({},'',startingUrl);return;}}
var waypointUrl=$waypoint.attr('data-bimber-archive-url');var currentUrl=window.location.href;if(waypointUrl!==currentUrl){window.history.replaceState({},'',waypointUrl);}},{offset:'-5%'});}});xhr.fail(function(){$button.addClass('g1-info-error');$button.remove();$endMessage.show();});xhr.always(function(){$collectionMore.removeClass('g1-collection-more-loading');loading=false;});});};})(jQuery);(function($){'use strict';g1.infiniteScrollConfig={'offset':'150%'};var triggeredByClick=false;g1.infiniteScroll=function(){$('.g1-collection-more.infinite-scroll').each(function(){var $this=$(this);if($this.is('.on-demand')&&!triggeredByClick){return false;}
$this.waypoint(function(direction){if('down'===direction){$this.find('.g1-load-more').trigger('click');}},{offset:g1.infiniteScrollConfig.offset});});};$('body').on('g1NewContentLoaded',function(){triggeredByClick=true;g1.infiniteScroll();});})(jQuery);(function($){'use strict';g1.dateToTimeago=function(){if(!$.fn.timeago){return;}
var $body=$('body');$('time.entry-date, span.entry-date > time, .comment-metadata time, time.snax-item-date').timeago();$body.on('g1NewContentLoaded',function(e,$newContent){if($newContent){$newContent.find('time.entry-date, .comment-metadata time, time.snax-item-date').timeago();}});$body.on('caceWpCommentInitialized',function(e){$(e.detail).find('time.entry-date, .comment-metadata time, time.snax-item-date').timeago();});};})(jQuery);(function($){'use strict';var selectors={'toggle':'.g1-hamburger'};g1.globalCanvasSelectors=selectors;var canvas;g1.canvas=function(){canvas=Canvas();g1.canvasInstance=canvas;$(selectors.toggle).on('click',function(e){e.preventDefault();canvas.toggle();});};function Canvas(){var that={};var listeners={'open':[],'close':[]};var currentContent='';var currentScroll=0;var _clientY;var init=function(){var $overlay=$('.g1-canvas-overlay');$overlay.on('click',that.toggle);$('.g1-canvas').on('toggle-canvas',function(){that.toggle();});$('.g1-canvas .g1-canvas-toggle').on('click',that.toggle);if($('html.g1-off-outside').length){enquire.register('screen and ( min-width: 700px )',{match:function(){that.close();}});}
if($('html.g1-off-inside').length){enquire.register('screen and ( max-width: 1024px )',{match:function(){that.close();}});enquire.register('screen and ( min-width: 1025px )',{match:function(){that.lazyload();}});}
return that;};that.getContent=function(){return $('.g1-canvas-global .g1-canvas-content');};that.captureClientY=function(event){_clientY=event.targetTouches[0].clientY;};that.disableCanvasScroll=function(e){var _element=$('.g1-canvas');var clientY=e.targetTouches[0].clientY-_clientY;if(_element.scrollTop===0&&clientY>0){alert('top scroll');e.preventDefault();e.stopPropagation();return false;}
if((_element.scrollHeight-_element.scrollTop<=_element.clientHeight)&&clientY<0){alert('bottom scroll');e.preventDefault();e.stopPropagation();return false;}};that.disableBodyScroll=function(e){};that.lazyload=function(){$('.g1-canvas-background[data-bg]:not(.lazyloaded)').addClass('lazyload');};that.open=function(content){that.lazyload();window.requestAnimationFrame(function(){var breakpoint=$(document).width();var cssClass=breakpoint>=1025?'g1-off-global-desktop':'g1-off-global';$('html').addClass(cssClass);currentContent=content;var $canvas=$('.g1-canvas-global');if(content){if(typeof content==='string'){$canvas.find('.g1-canvas-content').html(content);}else{$canvas.find('.g1-canvas-content').empty().append(content);}
$canvas.find('.g1-canvas-content').trigger('g1-new-content');}
that.notify('open');});};that.close=function(){window.requestAnimationFrame(function(){$('html').removeClass('g1-off-global g1-off-global-desktop');that.notify('close');});};that.toggle=function(e){if(e){e.preventDefault();}
if($('html').is('.g1-off-global, .g1-off-global-desktop')){that.close();}else{that.open(null);}};that.notify=function(eventType){var callbacks=listeners[eventType];for(var i=0;i<callbacks.length;i++){callbacks[i](that.getContent());}};that.on=function(eventType,listener,priority){listeners[eventType][priority]=listener;};return init();}})(jQuery);(function($){'use strict';var $waypointElem=false;var selectors={'stickyWidgetWrapper':'.g1-sticky-widget-wrapper','stickyWidget':'.g1-sticky-widget','widget':'.widget','content':'#primary .entry-content'};var sidebarSelectors=['#secondary','#tertiary'];g1.stickyTopOffsetSelectors=['#wpadminbar','.g1-iframe-bar','.g1-sharebar-loaded','.g1-sticky-top-wrapper'];g1.resetStickyElements=function(){$(selectors.stickyWidgetWrapper).css('height','');$(selectors.stickyWidget).css('position','block');};g1.stickySidebar=function(){if(!g1.isDesktopDevice()){g1.resetStickyElements();return;}
var $widgets=$(selectors.stickyWidget);if($widgets.length===0){return;}
var topOffset=0;$(g1.stickyTopOffsetSelectors).each(function(){var $element=$(this);if($element.length>0&&$element.is(':visible')){topOffset+=parseInt($element.outerHeight(),10);}});$widgets.each(function(){var $widget=$(this);var top=parseInt($widget.css('top'),10);if(topOffset>0){top+=topOffset;$widget.css('top',top+'px');}});if(typeof Stickyfill!=='undefined'){Stickyfill.add($widgets);}
var adjustLastWidgetHeight=function(isVariableContent){$(sidebarSelectors).each(function(){var $sidebar=$(this);var $widgets=$sidebar.children(selectors.widget+','+selectors.stickyWidgetWrapper);var $lastWidget=$widgets.last();if($lastWidget.is(selectors.stickyWidgetWrapper)){$lastWidget.css('height','');var sidebarHeight;if(isVariableContent){sidebarHeight=parseInt($(selectors.content).outerHeight(),10);}else{sidebarHeight=parseInt($sidebar.outerHeight(),10);}
var widgetsHeight=0;$widgets.each(function(){widgetsHeight+=parseInt($(this).outerHeight(true),10);});if(widgetsHeight<sidebarHeight){var diffHeight=sidebarHeight-widgetsHeight;var lastWidgetHeight=parseInt($lastWidget.css('height'),10);lastWidgetHeight+=diffHeight;$lastWidget.css('height',lastWidgetHeight+'px');}
$waypointElem=$lastWidget;}});};var $body=$('body');var isVariableContent=$body.is('.single');adjustLastWidgetHeight(isVariableContent);$body.on('g1NewContentLoaded g1PageHeightChanged',function(e){adjustLastWidgetHeight();});if(false!==$waypointElem){$waypointElem.waypoint(function(direction){if('down'===direction){adjustLastWidgetHeight();}},{offset:'bottom-in-view'});}};})(jQuery);(function($){'use strict';var selectors=['#wpadminbar','.g1-iframe-bar','.g1-sharebar-loaded','.g1-sticky-top-wrapper'];g1.stickyElementsTopOffsetSelectors=selectors;g1.stickyPosition=function($context){$context=$context||$('body');var $stickyTop=$('.g1-sticky-top-wrapper');if($stickyTop.length>0&&!$stickyTop.is('.g1-loaded')){var disableStickyHeader=false;var isDesktop=g1.getWindowWidth()>800;var sharebarLoaded=$('.g1-sharebar-loaded').length>0||$('.essb_topbar').length>0;if(sharebarLoaded&&isDesktop){disableStickyHeader=true;}
if(disableStickyHeader){$stickyTop.removeClass('g1-sticky-top-wrapper');}else{if(!g1.isStickySupported()){Stickyfill.add($stickyTop);}
$stickyTop.addClass('g1-loaded');}}
var topOffset=0;for(var i=0;i<selectors.length;i++){var $elem=$(selectors[i]);if($elem.length>0&&$elem.is(':visible')){topOffset+=$elem.outerHeight();}}
$context.find('.g1-wrapper-with-stickies > .entry-actions').each(function(){var $this=$(this);$this.css('top',topOffset);Stickyfill.add($this);});Stickyfill.add($('.snax-form-frontend .snax-form-side'));$context.find('.entry-tpl-index-stickies > .entry-actions, .entry-tpl-feat-stickies .entry-actions').each(function(){var $this=$(this);$this.css('top',topOffset+10);Stickyfill.add($this);});};$('body').on('g1NewContentLoaded',function(e,$newContent){if($newContent){g1.stickyPosition($newContent);}});})(jQuery);(function($){'use strict';var selectors={'drop':'.g1-drop','dropExpanded':'.g1-drop-expanded','dropToggle':'.g1-drop-toggle'};var classes={'dropExpanded':'g1-drop-expanded'};g1.droppableElements=function(){$('body').on('click touchstart',function(e){var $activeDrop=$(e.target).parents('.g1-drop-expanded');$(selectors.dropExpanded).not($activeDrop).removeClass(classes.dropExpanded);});if(g1.isTouchDevice()){$('body').on('click',selectors.drop,function(e){var $drop=$(this);if($drop.find('.g1-drop-content').length===0){return;}
if($drop.is(selectors.dropExpanded)){var $clickedElement=$(e.target);var toggleClicked=$clickedElement.parents(selectors.dropToggle).length>0;if(toggleClicked){$drop.removeClass(classes.dropExpanded);e.preventDefault();}}else{$drop.addClass(classes.dropExpanded);e.preventDefault();}});}else{$(selectors.dropToggle).on('click',function(){});}};})(jQuery);(function($){'use strict';$('body').on('submit','.mc4wp-form',function(e){var submissionType='ajax';if(typeof bimberMc4wpFormSubmissionType==='function'){submissionType=bimberMc4wpFormSubmissionType(submissionType);}
if(submissionType!=='ajax'){return;}
e.preventDefault();var $form=$(this);$.ajax({'type':'POST','url':window.location.href,'data':$form.serialize()}).done(function(res){var $response=$(res).find('#'+$form.attr('id')+' .mc4wp-response');$response.prependTo($form);});});})(jQuery);(function($){'use strict';g1.snax=function(){var $body=$('body');$body.on('snaxFullFormLoaded',function(e,$post){$post.find('.g1-button-m.g1-button-solid').removeClass('g1-button-m  g1-button-solid').addClass('g1-button-s  g1-button-simple');$post.find('.g1-beta.g1-beta-1st').removeClass('g1-beta g1-beta-1st').addClass('g1-gamma g1-gamma-1st');});};window.caceWpCommentListPropsFilter=function(props,comments){if($(comments).parents('.snax-item').length>0){props.loadMoreType='load_more';}
return props;}})(jQuery);(function($){'use strict';g1.mediaAce=function(){$('body').on('g1NewContentLoaded',function(){$('body').trigger('maceLoadYoutube');});$(document).on('lazybeforeunveil',function(e){var $target=$(e.target);var targetSrc=$target.attr('data-src');if(targetSrc&&targetSrc.endsWith('.gif')){$target.on('load',function(){$target.addClass('g1-enable-gif-player');setTimeout(function(){if(typeof g1.gifPlayer==='function'){g1.gifPlayer($target.parent());}},100);});}});$(document).on('bimberGifPlayerLoaded',function(e,$canvasWrapper){if($canvasWrapper.hasClass('lazyloading')){$canvasWrapper.removeClass('lazyloading');$canvasWrapper.addClass('lazyloaded');}});};})(jQuery);(function(context,$,i18n){'use strict';$(document).ready(function(){PrimaryMenu();});function PrimaryMenu(){var that={};that.init=function(){that.registerEventsHandlers();$('.menu-item-has-children > a, .menu-item-g1-mega > a').append('<span class="g1-link-toggle"></span>');return that;};that.registerEventsHandlers=function(){that.handleMenuItemClick();that.handleMenuItemFocusOut();};that.handleMenuItemFocusOut=function(){$('body').on('click',function(e){if($(e.target).parents('.mtm-drop-expanded').length===0){if($(e.target).parents('.g1-menu-h').length){that.collapseAllOpenedSubmenus();}}});};that.handleMenuItemClick=function(){$('.g1-primary-nav, .g1-secondary-nav').on('click','.menu-item > a',function(e){var $menu=$(this).parents('.g1-primary-nav');if($menu.length===0){$menu=$(this).parents('.g1-secondary-nav');}
var isSimpleList=$menu.is('#g1-canvas-primary-nav')||$menu.is('#g1-canvas-secondary-nav');if(g1.isTouchDevice()||isSimpleList){that.handleMenuTouchEvent($(this),e);}});};that.handleMenuTouchEvent=function($link,event){var $li=$link.parent('li');that.collapseAllOpenedSubmenus($li);if($li.hasClass('menu-item-has-children')){event.preventDefault();var $helper=$li.find('ul.sub-menu:first > li.g1-menu-item-helper');if($helper.length===0){var href=$link.attr('href');if(href&&href.length){var anchor=i18n.go_to+' <span class="mtm-item-helper-title">'+$link.html()+'</span>';$helper=$('<li class="menu-item g1-menu-item-helper"><a class="mtm-link" href="'+href+'"><span class="mtm-link-text"><span class="mtm-link-title">'+anchor+'</span></span></a></li>');$li.find('ul.sub-menu:first').prepend($helper);}}
if(!$li.is('.mtm-drop-expanded')){$li.find('.mtm-drop-expanded .g1-menu-item-helper').remove();$li.addClass('mtm-drop-expanded');}else{$li.find('.mtm-drop-expanded').removeClass('mtm-drop-expanded');$li.removeClass('mtm-drop-expanded');}}};that.collapseAllOpenedSubmenus=function($currentItem){if($currentItem){var $currentMenu=$currentItem.parents('nav');var $topLevelLi=$currentItem.parents('li.menu-item');if($topLevelLi.length===0){$currentMenu.find('.mtm-drop-expanded').not($currentItem).removeClass('mtm-drop-expanded');}else{$topLevelLi.siblings('li').find('.mtm-drop-expanded').removeClass('mtm-drop-expanded');}
$('nav').not($currentMenu).find('.mtm-drop-expanded').removeClass('mtm-drop-expanded');}else{$('.mtm-drop-expanded').removeClass('mtm-drop-expanded');}};return that.init();}})(window,jQuery,g1.config.i18n.menu);(function(){var lastTime=0;var vendors=['ms','moz','webkit','o'];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'];window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame'];}
if(!window.requestAnimationFrame){window.requestAnimationFrame=function(callback){var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall);},timeToCall);lastTime=currTime+timeToCall;return id;};}
if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(id){clearTimeout(id);};}}());(function($){'use strict';g1.popup=function(){var
HTMLBase=$('html'),Popup=$('.g1-popup-newsletter'),PopupCookie=g1.readCookie('g1_popup_disabled'),PopupCloser=$('.g1-popup-base, .g1-popup-closer');if(PopupCookie){HTMLBase.addClass('exit-intent-disabled');}
if(Popup.length<=0){return;}
$(document).on('mouseleave',function(e){if(e.clientY<10&&!HTMLBase.hasClass('exit-intent-disabled')&&!HTMLBase.hasClass('g1-slideup-visible')){HTMLBase.addClass('g1-popup-ready');setTimeout(function(){HTMLBase.addClass('g1-popup-visible').addClass('exit-intent-disabled');},50);}});PopupCloser.on('click',function(e){e.preventDefault();HTMLBase.removeClass('g1-popup-visible');g1.createCookie('g1_popup_disabled',1,24*60*60*1000);});}
g1.slideup=function(){var
HTMLBase=$('html'),Slideup=$('.g1-slideup-newsletter'),SlideupCloser=$('.g1-slideup-newsletter-closer'),SlideupCookie=g1.readCookie('g1_slideup_disabled'),ScrollPositon=$(document).scrollTop(),ScrollTarget=$('.single-post article .entry-content'),ScrollTargetOffset=ScrollTarget.offset(),ScrollTargetHeight=ScrollTarget.height(),ShowOn=50;SlideupCloser.on('click',function(e){e.preventDefault();HTMLBase.removeClass('g1-slideup-visible').addClass('slideup-intent-disabled');g1.createCookie('g1_slideup_disabled',1,24*60*60*1000);});if(SlideupCookie){HTMLBase.addClass('slideup-intent-disabled');}
if(Slideup.length<=0){return;}
if(ScrollTarget.length<=0){return;}
$(window).on('scroll',function(){ScrollPositon=$(document).scrollTop();ScrollTargetOffset=ScrollTarget.offset();ScrollTargetHeight=ScrollTarget.height();if(((ScrollPositon-ScrollTargetOffset.top)/(ScrollTargetHeight)).toFixed(6)*100>=ShowOn&&!HTMLBase.hasClass('slideup-intent-disabled')&&!HTMLBase.hasClass('g1-popup-visible')){HTMLBase.addClass('g1-slideup-visible');}});}})(jQuery);(function($){'use strict';$(document).ready(function(){$('.wp-social-login-provider-list').on('click',function(){if($(this).hasClass('wp-social-login-provider-list-active')){return;}
$('.snax-wpsl-gdpr-consent').addClass('snax-wpsl-gdpr-consent-blink');setTimeout(function(){$('.snax-wpsl-gdpr-consent').removeClass('snax-wpsl-gdpr-consent-blink');},2000);});$('.snax-wpsl-gdpr-consent input').on('click',function(){var enabled=$(this).is(':checked');if(enabled){$('.wp-social-login-provider-list').addClass('wp-social-login-provider-list-active');}else{$('.wp-social-login-provider-list').removeClass('wp-social-login-provider-list-active');}});});})(jQuery);(function($){'use strict';g1.updatePostViews=function(nonce,postId){$.ajax({'type':'POST','url':g1.config.ajax_url,'data':{'action':'update_views_ajax','wpp_id':postId,'token':nonce}});};$('.bimber-count-view').on('click',function(){var postId;var $body=$('body');if($body.is('.single-format-link')){var res=$body.attr('class').match(/postid-(\d+)/);if(res){postId=res[1];}}else{var $article=$(this).parents('article.format-link');if($article.length>0){postId=$article.attr('class').match(/post\-(\d+)/)[1];}}
if(postId){$.ajax({'type':'POST','url':g1.config.ajax_url,'data':{'action':'update_views_ajax','wpp_id':postId,'token':g1.config.wpp.token}});}});})(jQuery);(function($){'use strict';g1.flickity=function($context){$context=$context||$('body');var
FlickitySpots=$context.find('.adace-shop-the-post-wrap.carousel-wrap .woocommerce .products, .g1-products-widget-carousel .product_list_widget');FlickitySpots.each(function(){if($(this).hasClass('.flickity-enabled')){return;}
var
ThisFlickityItems=$(this).children(),ThisFlickityItemsWidth=ThisFlickityItems.outerWidth()*ThisFlickityItems.length,ThisFlickityArgs={cellAlign:'left',wrapAround:true,prevNextButtons:true,pageDots:false,groupCells:true,rightToLeft:g1.isRTL(),imagesLoaded:true};if(ThisFlickityItemsWidth<=$(this).outerWidth()){ThisFlickityArgs.cellAlign='center';ThisFlickityArgs.wrapAround=false;}else{var ThisRequiredNumber=Math.round($(this).outerWidth()/ThisFlickityItems.outerWidth())*ThisFlickityItems.length;while(ThisFlickityItems.length<ThisRequiredNumber){$(this).append(ThisFlickityItems.clone(true));ThisFlickityItems=$(this).children();}}
$(this).flickity(ThisFlickityArgs);});};$('body').on('g1NewContentLoaded',function(e,$newContent){g1.flickity($newContent);});})(jQuery);(function($){'use strict';$(document).ready(function(){var selectors=['#wpadminbar','.g1-iframe-bar','.g1-sticky-top-wrapper'];var applyOffset=function(){var topOffset=0;for(var i=0;i<selectors.length;i++){var $elem=$(selectors[i]);if($elem.length>0&&$elem.is(':visible')){topOffset+=$elem.outerHeight();}}
var cssRule='html.g1-off-inside.g1-off-global-desktop .g1-canvas {top:'+topOffset+'px;'
$('#g1-canvas-js-css').remove();$('head').append('<style id="g1-canvas-js-css">'+cssRule+'</style>');$('html.g1-off-inside .g1-canvas').removeClass('g1-canvas-no-js').addClass('g1-canvas-js');};$('body').on('g1PageHeightChanged',function(e){applyOffset();});$('html.g1-off-inside .g1-canvas.g1-canvas-no-js').each(function(){applyOffset();});});})(jQuery);(function($){'use strict';$(document).ready(function(){g1.uiHelpers();if(g1.config.timeago==='on'){g1.dateToTimeago();}
g1.loadMoreButton();g1.infiniteScroll();g1.stickyPosition();g1.droppableElements();g1.canvas();g1.snax();g1.mediaAce();g1.flickity();g1.popup();g1.slideup();g1.stickySidebar();});})(jQuery);
(function(root,factory){if(typeof define==='function'&&define.amd){define([],factory);}else if(typeof exports==='object'){module.exports=factory();}else{root.SuperGif=factory();}}(this,function(){var bitsToNum=function(ba){return ba.reduce(function(s,n){return s*2+n;},0);};var byteToBitArr=function(bite){var a=[];for(var i=7;i>=0;i--){a.push(!!(bite&(1<<i)));}
return a;};var Stream=function(data){this.data=data;this.len=this.data.length;this.pos=0;this.readByte=function(){if(this.pos>=this.data.length){throw new Error('Attempted to read past end of stream.');}
if(data instanceof Uint8Array)
return data[this.pos++];else
return data.charCodeAt(this.pos++)&0xFF;};this.readBytes=function(n){var bytes=[];for(var i=0;i<n;i++){bytes.push(this.readByte());}
return bytes;};this.read=function(n){var s='';for(var i=0;i<n;i++){s+=String.fromCharCode(this.readByte());}
return s;};this.readUnsigned=function(){var a=this.readBytes(2);return(a[1]<<8)+a[0];};};var lzwDecode=function(minCodeSize,data){var pos=0;var readCode=function(size){var code=0;for(var i=0;i<size;i++){if(data.charCodeAt(pos>>3)&(1<<(pos&7))){code|=1<<i;}
pos++;}
return code;};var output=[];var clearCode=1<<minCodeSize;var eoiCode=clearCode+1;var codeSize=minCodeSize+1;var dict=[];var clear=function(){dict=[];codeSize=minCodeSize+1;for(var i=0;i<clearCode;i++){dict[i]=[i];}
dict[clearCode]=[];dict[eoiCode]=null;};var code;var last;while(true){last=code;code=readCode(codeSize);if(code===clearCode){clear();continue;}
if(code===eoiCode)break;if(code<dict.length){if(last!==clearCode){dict.push(dict[last].concat(dict[code][0]));}}
else{if(code!==dict.length)throw new Error('Invalid LZW code.');dict.push(dict[last].concat(dict[last][0]));}
output.push.apply(output,dict[code]);if(dict.length===(1<<codeSize)&&codeSize<12){codeSize++;}}
return output;};var parseGIF=function(st,handler){handler||(handler={});var parseCT=function(entries){var ct=[];for(var i=0;i<entries;i++){ct.push(st.readBytes(3));}
return ct;};var readSubBlocks=function(){var size,data;data='';do{size=st.readByte();data+=st.read(size);}while(size!==0);return data;};var parseHeader=function(){var hdr={};hdr.sig=st.read(3);hdr.ver=st.read(3);if(hdr.sig!=='GIF')throw new Error('Not a GIF file.');hdr.width=st.readUnsigned();hdr.height=st.readUnsigned();var bits=byteToBitArr(st.readByte());hdr.gctFlag=bits.shift();hdr.colorRes=bitsToNum(bits.splice(0,3));hdr.sorted=bits.shift();hdr.gctSize=bitsToNum(bits.splice(0,3));hdr.bgColor=st.readByte();hdr.pixelAspectRatio=st.readByte();if(hdr.gctFlag){hdr.gct=parseCT(1<<(hdr.gctSize+1));}
handler.hdr&&handler.hdr(hdr);};var parseExt=function(block){var parseGCExt=function(block){var blockSize=st.readByte();var bits=byteToBitArr(st.readByte());block.reserved=bits.splice(0,3);block.disposalMethod=bitsToNum(bits.splice(0,3));block.userInput=bits.shift();block.transparencyGiven=bits.shift();block.delayTime=st.readUnsigned();block.transparencyIndex=st.readByte();block.terminator=st.readByte();handler.gce&&handler.gce(block);};var parseComExt=function(block){block.comment=readSubBlocks();handler.com&&handler.com(block);};var parsePTExt=function(block){var blockSize=st.readByte();block.ptHeader=st.readBytes(12);block.ptData=readSubBlocks();handler.pte&&handler.pte(block);};var parseAppExt=function(block){var parseNetscapeExt=function(block){var blockSize=st.readByte();block.unknown=st.readByte();block.iterations=st.readUnsigned();block.terminator=st.readByte();handler.app&&handler.app.NETSCAPE&&handler.app.NETSCAPE(block);};var parseUnknownAppExt=function(block){block.appData=readSubBlocks();handler.app&&handler.app[block.identifier]&&handler.app[block.identifier](block);};var blockSize=st.readByte();block.identifier=st.read(8);block.authCode=st.read(3);switch(block.identifier){case'NETSCAPE':parseNetscapeExt(block);break;default:parseUnknownAppExt(block);break;}};var parseUnknownExt=function(block){block.data=readSubBlocks();handler.unknown&&handler.unknown(block);};block.label=st.readByte();switch(block.label){case 0xF9:block.extType='gce';parseGCExt(block);break;case 0xFE:block.extType='com';parseComExt(block);break;case 0x01:block.extType='pte';parsePTExt(block);break;case 0xFF:block.extType='app';parseAppExt(block);break;default:block.extType='unknown';parseUnknownExt(block);break;}};var parseImg=function(img){var deinterlace=function(pixels,width){var newPixels=new Array(pixels.length);var rows=pixels.length/width;var cpRow=function(toRow,fromRow){var fromPixels=pixels.slice(fromRow*width,(fromRow+1)*width);newPixels.splice.apply(newPixels,[toRow*width,width].concat(fromPixels));};var offsets=[0,4,2,1];var steps=[8,8,4,2];var fromRow=0;for(var pass=0;pass<4;pass++){for(var toRow=offsets[pass];toRow<rows;toRow+=steps[pass]){cpRow(toRow,fromRow)
fromRow++;}}
return newPixels;};img.leftPos=st.readUnsigned();img.topPos=st.readUnsigned();img.width=st.readUnsigned();img.height=st.readUnsigned();var bits=byteToBitArr(st.readByte());img.lctFlag=bits.shift();img.interlaced=bits.shift();img.sorted=bits.shift();img.reserved=bits.splice(0,2);img.lctSize=bitsToNum(bits.splice(0,3));if(img.lctFlag){img.lct=parseCT(1<<(img.lctSize+1));}
img.lzwMinCodeSize=st.readByte();var lzwData=readSubBlocks();img.pixels=lzwDecode(img.lzwMinCodeSize,lzwData);if(img.interlaced){img.pixels=deinterlace(img.pixels,img.width);}
handler.img&&handler.img(img);};var parseBlock=function(){var block={};block.sentinel=st.readByte();switch(String.fromCharCode(block.sentinel)){case'!':block.type='ext';parseExt(block);break;case',':block.type='img';parseImg(block);break;case';':block.type='eof';handler.eof&&handler.eof(block);break;default:throw new Error('Unknown block: 0x'+block.sentinel.toString(16));}
if(block.type!=='eof')setTimeout(parseBlock,0);};var parse=function(){parseHeader();setTimeout(parseBlock,0);};parse();};var SuperGif=function(opts){var options={vp_l:0,vp_t:0,vp_w:null,vp_h:null,c_w:null,c_h:null};for(var i in opts){options[i]=opts[i]}
if(options.vp_w&&options.vp_h)options.is_vp=true;var stream;var hdr;var loadError=null;var loading=false;var transparency=null;var delay=null;var disposalMethod=null;var disposalRestoreFromIdx=0;var lastDisposalMethod=null;var frame=null;var lastImg=null;var playing=true;var forward=true;var ctx_scaled=false;var frames=[];var frameOffsets=[];var gif=options.gif;if(typeof options.auto_play=='undefined')
options.auto_play=(!gif.getAttribute('rel:auto_play')||gif.getAttribute('rel:auto_play')=='1');var onEndListener=(options.hasOwnProperty('on_end')?options.on_end:null);var loopDelay=(options.hasOwnProperty('loop_delay')?options.loop_delay:0);var overrideLoopMode=(options.hasOwnProperty('loop_mode')?options.loop_mode:'auto');var drawWhileLoading=(options.hasOwnProperty('draw_while_loading')?options.draw_while_loading:true);var showProgressBar=drawWhileLoading?(options.hasOwnProperty('show_progress_bar')?options.show_progress_bar:true):false;var clear=function(){transparency=null;delay=null;lastDisposalMethod=disposalMethod;disposalMethod=null;frame=null;};var doParse=function(){try{parseGIF(stream,handler);}
catch(err){doLoadError('parse');}};var doText=function(text){toolbar.innerHTML=text;toolbar.style.visibility='visible';};var setSizes=function(w,h){canvas.width=w*get_canvas_scale();canvas.height=h*get_canvas_scale();toolbar.style.minWidth=(w*get_canvas_scale())+'px';tmpCanvas.width=w;tmpCanvas.height=h;tmpCanvas.style.width=w+'px';tmpCanvas.style.height=h+'px';tmpCanvas.getContext('2d').setTransform(1,0,0,1,0,0);};var setFrameOffset=function(frame,offset){if(!frameOffsets[frame]){frameOffsets[frame]=offset;return;}
if(typeof offset.x!=='undefined'){frameOffsets[frame].x=offset.x;}
if(typeof offset.y!=='undefined'){frameOffsets[frame].y=offset.y;}};var doShowProgress=function(pos,length,draw){if(draw&&showProgressBar){var height=25;var left,mid,top,width;if(options.is_vp){if(!ctx_scaled){top=(options.vp_t+options.vp_h-height);height=height;left=options.vp_l;mid=left+(pos/length)*options.vp_w;width=canvas.width;}else{top=(options.vp_t+options.vp_h-height)/get_canvas_scale();height=height/get_canvas_scale();left=(options.vp_l/get_canvas_scale());mid=left+(pos/length)*(options.vp_w/get_canvas_scale());width=canvas.width/get_canvas_scale();}
if(false){if(!ctx_scaled){var l=options.vp_l,t=options.vp_t;var w=options.vp_w,h=options.vp_h;}else{var l=options.vp_l/get_canvas_scale(),t=options.vp_t/get_canvas_scale();var w=options.vp_w/get_canvas_scale(),h=options.vp_h/get_canvas_scale();}
ctx.rect(l,t,w,h);ctx.stroke();}}
else{top=(canvas.height-height)/(ctx_scaled?get_canvas_scale():1);mid=((pos/length)*canvas.width)/(ctx_scaled?get_canvas_scale():1);width=canvas.width/(ctx_scaled?get_canvas_scale():1);height/=ctx_scaled?get_canvas_scale():1;}
ctx.fillStyle='rgba(255,255,255,0.4)';ctx.fillRect(mid,top,width-mid,height);ctx.fillStyle='rgba(255,0,22,.8)';ctx.fillRect(0,top,mid,height);}};var doLoadError=function(originOfError){var drawError=function(){ctx.fillStyle='black';ctx.fillRect(0,0,options.c_w?options.c_w:hdr.width,options.c_h?options.c_h:hdr.height);ctx.strokeStyle='`red`';ctx.lineWidth=3;ctx.moveTo(0,0);ctx.lineTo(options.c_w?options.c_w:hdr.width,options.c_h?options.c_h:hdr.height);ctx.moveTo(0,options.c_h?options.c_h:hdr.height);ctx.lineTo(options.c_w?options.c_w:hdr.width,0);ctx.stroke();};loadError=originOfError;hdr={width:gif.width,height:gif.height};frames=[];drawError();};var doHdr=function(_hdr){hdr=_hdr;setSizes(hdr.width,hdr.height)};var doGCE=function(gce){pushFrame();clear();transparency=gce.transparencyGiven?gce.transparencyIndex:null;delay=gce.delayTime;disposalMethod=gce.disposalMethod;};var pushFrame=function(){if(!frame)return;frames.push({data:frame.getImageData(0,0,hdr.width,hdr.height),delay:delay});frameOffsets.push({x:0,y:0});};var doImg=function(img){if(!frame)frame=tmpCanvas.getContext('2d');var currIdx=frames.length;var ct=img.lctFlag?img.lct:hdr.gct;if(currIdx>0){if(lastDisposalMethod===3){frame.putImageData(frames[disposalRestoreFromIdx].data,0,0);}else{disposalRestoreFromIdx=currIdx-1;}
if(lastDisposalMethod===2){frame.clearRect(lastImg.leftPos,lastImg.topPos,lastImg.width,lastImg.height);}}
var imgData=frame.getImageData(img.leftPos,img.topPos,img.width,img.height);var cdd=imgData.data;img.pixels.forEach(function(pixel,i){if(pixel!==transparency){cdd[i*4+0]=ct[pixel][0];cdd[i*4+1]=ct[pixel][1];cdd[i*4+2]=ct[pixel][2];cdd[i*4+3]=255;}});imgData.data.set(cdd);frame.putImageData(imgData,img.leftPos,img.topPos);if(!ctx_scaled){ctx.scale(get_canvas_scale(),get_canvas_scale());ctx_scaled=true;}
if(drawWhileLoading)
ctx.drawImage(tmpCanvas,0,0);lastImg=img;};var player=(function(){var i=-1;var iterationCount=0;var showingInfo=false;var pinned=false;var getNextFrameNo=function(){var delta=(forward?1:-1);return(i+delta+frames.length)%frames.length;};var stepFrame=function(amount){i=i+amount;putFrame();};var completeLoop=function(){if(onEndListener!==null)
onEndListener(gif);iterationCount++;};var step=(function(){var stepping=false;var doStep=function(){stepping=playing;if(!stepping)return;stepFrame(1);var delay=frames[i].delay*10;if(!delay)delay=100;var nextFrameNo=getNextFrameNo();if(nextFrameNo===0){delay+=loopDelay;setTimeout(completeLoop,delay-1);}
if((overrideLoopMode!==false||nextFrameNo!==0||iterationCount<0))
setTimeout(doStep,delay);};return function(){if(!stepping)setTimeout(doStep,0);};}());var putFrame=function(){var offset;i=parseInt(i,10);if(i>frames.length-1){i=0;}
if(i<0){i=0;}
offset=frameOffsets[i];tmpCanvas.getContext("2d").putImageData(frames[i].data,offset.x,offset.y);ctx.globalCompositeOperation="copy";ctx.drawImage(tmpCanvas,0,0);};var play=function(){playing=true;step();};var pause=function(){playing=false;};return{init:function(){if(loadError)return;if(!(options.c_w&&options.c_h)){ctx.scale(get_canvas_scale(),get_canvas_scale());}
if(options.auto_play){step();}
else{i=0;putFrame();}},step:step,play:play,pause:pause,playing:playing,move_relative:stepFrame,current_frame:function(){return i;},length:function(){return frames.length},move_to:function(frame_idx){i=frame_idx;putFrame();}}}());var doDecodeProgress=function(draw){doShowProgress(stream.pos,stream.data.length,draw);};var doNothing=function(){};var withProgress=function(fn,draw){return function(block){fn(block);doDecodeProgress(draw);};};var handler={hdr:withProgress(doHdr),gce:withProgress(doGCE),com:withProgress(doNothing),app:{NETSCAPE:withProgress(doNothing)},img:withProgress(doImg,true),eof:function(block){pushFrame();doDecodeProgress(false);if(!(options.c_w&&options.c_h)){canvas.width=hdr.width*get_canvas_scale();canvas.height=hdr.height*get_canvas_scale();}
player.init();loading=false;if(load_callback){load_callback(gif);}}};var init=function(){var parent=gif.parentNode;var div=document.createElement('div');canvas=document.createElement('canvas');ctx=canvas.getContext('2d');toolbar=document.createElement('div');tmpCanvas=document.createElement('canvas');div.width=canvas.width=gif.width;div.height=canvas.height=gif.height;toolbar.style.minWidth=gif.width+'px';div.className='jsgif';toolbar.className='jsgif_toolbar';div.appendChild(canvas);div.appendChild(toolbar);parent.insertBefore(div,gif);parent.removeChild(gif);if(options.c_w&&options.c_h)setSizes(options.c_w,options.c_h);initialized=true;};var get_canvas_scale=function(){var scale;if(options.max_width&&hdr&&hdr.width>options.max_width){scale=options.max_width/hdr.width;}
else{scale=1;}
return scale;}
var canvas,ctx,toolbar,tmpCanvas;var initialized=false;var load_callback=false;var load_setup=function(callback){if(loading)return false;if(callback)load_callback=callback;else load_callback=false;loading=true;frames=[];clear();disposalRestoreFromIdx=0;lastDisposalMethod=null;frame=null;lastImg=null;return true;}
return{play:player.play,pause:player.pause,move_relative:player.move_relative,move_to:player.move_to,get_playing:function(){return player.playing},get_canvas:function(){return canvas},get_canvas_scale:function(){return get_canvas_scale()},get_loading:function(){return loading},get_auto_play:function(){return options.auto_play},get_length:function(){return player.length()},get_current_frame:function(){return player.current_frame()},load_url:function(src,callback){if(!load_setup(callback))return;var h=new XMLHttpRequest();h.overrideMimeType('text/plain; charset=x-user-defined');h.onloadstart=function(){if(!initialized)init();};h.onload=function(e){stream=new Stream(h.responseText);setTimeout(doParse,0);};h.onprogress=function(e){if(e.lengthComputable)doShowProgress(e.loaded,e.total,true);};h.onerror=function(){doLoadError('xhr');};h.open('GET',src,true);h.send();},load:function(callback){this.load_url(gif.getAttribute('rel:animated_src')||gif.src,callback);},load_raw:function(arr,callback){if(!load_setup(callback))return;if(!initialized)init();stream=new Stream(arr);setTimeout(doParse,0);},set_frame_offset:setFrameOffset};};return SuperGif;}));
(function($){'use strict';var isEnabled=g1.config.use_gif_player;g1.gifPlayer=function($scope){if(!isEnabled){return;}
if(!$scope){$scope=$('body');}
if(typeof XMLHttpRequest.prototype.overrideMimeType==='undefined'){return;}
g1.gifPlayerIncludeSelectors=['.entry-content img.aligncenter[src$=".gif"]','.entry-content .aligncenter img[src$=".gif"]','img.g1-enable-gif-player','.entry-featured-media-main img[src$=".gif"]','.entry-tpl-stream .entry-featured-media img[src$=".gif"]','.entry-tpl-grid-l .entry-featured-media img[src$=".gif"]'];g1.gifPlayerExcludeSelectors=['.ajax-loader','.g1-disable-gif-player','.wp-block-image.g1-disable-gif-player img[src$=".gif"]'];$(g1.gifPlayerIncludeSelectors.join(','),$scope).not(g1.gifPlayerExcludeSelectors.join(',')).each(function(){var $img=$(this);var imgClasses=$img.attr('class');var imgSrc=$img.attr('src');var gifObj=new SuperGif({gif:this,auto_play:0});var $gitIndicator=$('<span class="g1-indicator-gif g1-loading">');gifObj.load(function(){var frames=gifObj.get_length();var $canvasWrapper=$(gifObj.get_canvas()).parent();if(frames>1){gifObj.isPlaying=false;var playRef=gifObj.play;var pauseRef=gifObj.pause;var playGif=function(){playRef();gifObj.isPlaying=true;$gitIndicator.addClass('g1-indicator-gif-playing');};var pauseGif=function(){pauseRef();gifObj.isPlaying=false;$gitIndicator.removeClass('g1-indicator-gif-playing');};gifObj.play=playGif;gifObj.pause=pauseGif;$canvasWrapper.on('click',function(e){e.preventDefault();if(gifObj.isPlaying){pauseGif();}else{playGif();}});$gitIndicator.toggleClass('g1-loading g1-loaded');$(document).trigger('bimberGifPlayerLoaded',[$canvasWrapper]);}else{$gitIndicator.remove();}});var $canvasWrapper=$(gifObj.get_canvas()).parent();$canvasWrapper.addClass(imgClasses+' g1-enable-share-links').attr('data-img-src',imgSrc).append($gitIndicator).data('gifPlayer',gifObj);});};$('body').on('g1NewContentLoaded',function(e,$newContent){g1.gifPlayer($newContent);});})(jQuery);(function($){'use strict';var selectors={'iframe':'iframe','mp4':'.mejs-video','gif':'.jsgif','html5Video':'.snax-native-video','embedly':'.embedly-card iframe','maceYT':'.mace-youtube'};g1.mediaPlayers={};g1.getMediaPlayer=function(element){var player=$(element).data('g1MediaPlayer');if(player){g1.log('Returning a player ('+player.getType()+') assigned to the element.');return player;}
var $iframe=$(selectors.iframe,element);if($iframe.length>0){var iframesrc=false;if($iframe.attr('data-src')){iframesrc=$iframe.attr('data-src');}else{iframesrc=$iframe.attr('src');}
if(iframesrc){if(iframesrc.indexOf('youtu')>0){player=g1.mediaPlayers.youtube($iframe);$(element).data('g1MediaPlayer',player);return player;}
if(iframesrc.indexOf('vimeo')>0){player=g1.mediaPlayers.vimeo($iframe);$(element).data('g1MediaPlayer',player);return player;}
if(iframesrc.indexOf('dailymotion')>0){player=g1.mediaPlayers.dailymotion($iframe);$(element).data('g1MediaPlayer',player);return player;}
if(iframesrc.indexOf('gfycat')>0){player=g1.mediaPlayers.gfycat($iframe);$(element).data('g1MediaPlayer',player);return player;}}
return false;}
var $mp4=$(selectors.mp4,element);if($mp4.length>0){var playerId=$mp4.attr('id');if(playerId&&mejs&&typeof mejs.players!=='undefined'){if(typeof mejs.players[playerId]!=='undefined'){var mejsPlayer=mejs.players[playerId];player=g1.mediaPlayers.mp4(mejsPlayer);$(element).data('g1MediaPlayer',player);return player;}}
return false;}
var $gif=$(selectors.gif,element);if($gif.length>0){var gifPlayer=$gif.data('gifPlayer');if(gifPlayer){player=g1.mediaPlayers.gif(gifPlayer);$(element).data('g1MediaPlayer',player);return player;}
return false;}
var $maceYT=$(selectors.maceYT,element);var $html5=$(selectors.html5Video,element);if($html5.length>0){player=g1.mediaPlayers.html5video($html5[0]);$(element).data('g1MediaPlayer',player);return player;}
if(typeof embedly!=='undefined'){var $embedly=$(selectors.embedly,element);if($embedly.length>0){embedly('player',function(embedlyPlayer){if($embedly[0]===$(embedlyPlayer.frame.elem)[0]){player=g1.mediaPlayers.embedly(embedlyPlayer);$(element).data('g1MediaPlayer',player);return player;}else{player.pause();}});return false;}else{embedly('player',function(player){player.pause();});}}
if($maceYT.length>0){$maceYT.find('.mace-play-button').trigger('click');$maceYT.on('maceIframeLoaded',function(e,$iframe){player=g1.getMediaPlayer($maceYT);$(element).data('g1MediaPlayer',player);});return false;}};})(jQuery);(function($){'use strict';g1.mediaPlayers.youtube=function($iframe){let obj={};let isPlaying=false;function init(){g1.log('YouTube player object initialized');$iframe.on('load',function(){$iframe[0].contentWindow.postMessage(JSON.stringify({'event':'command','func':'mute','args':''}),'*');});let iframesrc='';let separator='?';if($iframe.attr('data-src')){iframesrc=$iframe.attr('data-src');}else{iframesrc=$iframe.attr('src');}
if(iframesrc.indexOf('?')>0){separator='&';}
$iframe.attr('src',iframesrc+separator+'autoplay=1&enablejsapi=1&loop=1');return obj;}
obj.getType=function(){return'YouTube';};obj.play=function(){$iframe[0].contentWindow.postMessage(JSON.stringify({'event':'command','func':'playVideo','args':''}),'*');isPlaying=true;};obj.pause=function(){$iframe[0].contentWindow.postMessage(JSON.stringify({'event':'command','func':'pauseVideo','args':''}),'*');isPlaying=false;};obj.isPlaying=function(){return isPlaying;};return init();};})(jQuery);(function($){'use strict';g1.mediaPlayers.vimeo=function($iframe){let obj={};let isPlaying=false;function init(){g1.log('Vimeo player object initialized');$iframe.on('load',function(){$iframe[0].contentWindow.postMessage(JSON.stringify({method:'setVolume',value:0}),'*');});let iframesrc='';let separator='?';if($iframe.attr('data-src')){iframesrc=$iframe.attr('data-src');}else{iframesrc=$iframe.attr('src');}
if(iframesrc.indexOf('?')>0){separator='&';}
$iframe.attr('src',iframesrc+separator+'autoplay=1&autopause=0');return obj;}
obj.getType=function(){return'Vimeo';};obj.play=function(){$iframe[0].contentWindow.postMessage(JSON.stringify({method:'play'}),'*');isPlaying=true;};obj.pause=function(){$iframe[0].contentWindow.postMessage(JSON.stringify({method:'pause'}),'*');isPlaying=false;};obj.isPlaying=function(){return isPlaying;};return init();};})(jQuery);(function($){'use strict';g1.mediaPlayers.dailymotion=function($iframe){let obj={};let isPlaying=false;function init(){g1.log('DailyMotion player object initialized');let iframesrc='';let separator='?';if($iframe.attr('data-src')){iframesrc=$iframe.attr('data-src');}else{iframesrc=$iframe.attr('src');}
if(iframesrc.indexOf('?')>0){separator='&';}
$iframe.attr('src',iframesrc+separator+'autoplay=1&api=postMessage&mute=1');return obj;}
obj.getType=function(){return'DailyMotion';};obj.play=function(){$iframe[0].contentWindow.postMessage('play','*');isPlaying=true;};obj.pause=function(){$iframe[0].contentWindow.postMessage('pause','*');isPlaying=false;};obj.isPlaying=function(){return isPlaying;};return init();};})(jQuery);(function($){'use strict';g1.mediaPlayers.gfycat=function($iframe){let obj={};let isPlaying=false;function init(){g1.log('Gfycat player object initialized');return obj;}
obj.getType=function(){return'Gfycat';};obj.play=function(){$iframe[0].contentWindow.postMessage('play','*');isPlaying=true;};obj.pause=function(){$iframe[0].contentWindow.postMessage('pause','*');isPlaying=false;};obj.isPlaying=function(){return isPlaying;};return init();};})(jQuery);(function($){'use strict';g1.mediaPlayers.mp4=function(mejsPlayer){let obj={};let isPlaying=false;function init(){g1.log('MP4 player initialized');mejsPlayer.setMuted(true);mejsPlayer.media.addEventListener('ended',function(){mejsPlayer.play();},false);return obj;}
obj.getType=function(){return'MP4';};obj.play=function(){mejsPlayer.play();isPlaying=true;};obj.pause=function(){mejsPlayer.pause();isPlaying=false;};obj.isPlaying=function(){return isPlaying;};return init();};})(jQuery);(function($){'use strict';g1.mediaPlayers.gif=function(gifPlayer){let obj={};function init(){g1.log('GIF player initialized');return obj;}
obj.getType=function(){return'GIF';};obj.play=function(){gifPlayer.play();};obj.pause=function(){gifPlayer.pause();};obj.isPlaying=function(){return gifPlayer.isPlaying;};return init();};})(jQuery);(function($){'use strict';g1.mediaPlayers.html5video=function(video){let obj={};let isPlaying=false;function init(){g1.log('HTML5 Video player initialized');return obj;}
obj.getType=function(){return'HTML5 Video';};obj.play=function(){video.play();isPlaying=true;};obj.pause=function(){video.pause();isPlaying=false;};obj.isPlaying=function(){return isPlaying;};return init();};})(jQuery);(function($){'use strict';g1.mediaPlayers.embedly=function(embedlyPlayer){let obj={};let isPlaying=false;function init(){g1.log('Embedly player initialized');embedlyPlayer.mute();return obj;}
obj.getType=function(){return'Embedly';};obj.play=function(){embedlyPlayer.play();isPlaying=true;};obj.pause=function(){embedlyPlayer.pause();isPlaying=false;};obj.isPlaying=function(){return isPlaying;};return init();};})(jQuery);(function($){'use strict';var selectors={'postMedia':'.archive-body-stream .entry-tpl-stream .entry-featured-media:not(.entry-media-nsfw-embed)'};g1.isAutoPlayEnabled=g1.config.auto_play_videos&&!g1.isTouchDevice();var players={};g1.autoPlayVideo=function(){if(!g1.isAutoPlayEnabled){return;}
var pauseAllVideos=function(){g1.log('Pausing all videos');for(var i in players){players[i].pause();}};var play=function(element){var postId=$(element).parents('article').attr('id');g1.log('Trying to play media...');var player=g1.getMediaPlayer(element);if(!player){g1.log('Media player not defined for the element');return;}
pauseAllVideos();player.play();g1.log(player.getType()+' played');if(!players[postId]){players[postId]=player;}};var pause=function(element){g1.log('Trying to pause media...');var player=g1.getMediaPlayer(element);if(!player){g1.log('Media player not defined for the element');return;}
player.pause();g1.log(player.getType()+' paused');};var bindEvents=function(){var scrollEvents=0;var allowPlaying=false;$(document).scroll(function(){scrollEvents++;if(scrollEvents>5){allowPlaying=true;}});$(selectors.postMedia).waypoint(function(direction){if('down'===direction){if(allowPlaying){g1.log(['>>> ENTER post (direction: DOWN)',this.element]);play(this.element);}}},{offset:'bottom-in-view'});$(selectors.postMedia).waypoint(function(direction){if('up'===direction){if(allowPlaying){g1.log(['>>> ENTER post (direction: UP)',this.element]);play(this.element);}}},{offset:'0'});$(selectors.postMedia).waypoint(function(direction){if('down'===direction){g1.log(['>>> EXIT post (direction: DOWN)',this.element]);pause(this.element);}},{offset:function(){return-Math.round(this.element.clientHeight/2);}});$(selectors.postMedia).waypoint(function(direction){if('up'===direction){g1.log(['>>> EXIT post (direction: UP)',this.element]);pause(this.element);}},{offset:function(){var viewportHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return viewportHeight-Math.round(this.element.clientHeight/2);}});$(selectors.postMedia).on('bimber:play',function(){g1.log(['>>> PLAY ',$(this).get(0)]);play($(this).get(0));});$(selectors.postMedia).on('bimber:pause',function(){g1.log(['>>> PAUSE ',$(this).get(0)]);pause($(this).get(0));});};bindEvents();};})(jQuery);(function($){'use strict';$(document).ready(function(){g1.gifPlayer();g1.autoPlayVideo();});})(jQuery);
/*! jQuery UI - v1.13.2 - 2022-07-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(x){"use strict";var t,e,i,n,W,C,o,s,r,l,a,h,u;function E(t,e,i){return[parseFloat(t[0])*(a.test(t[0])?e/100:1),parseFloat(t[1])*(a.test(t[1])?i/100:1)]}function L(t,e){return parseInt(x.css(t,e),10)||0}function N(t){return null!=t&&t===t.window}x.ui=x.ui||{},x.ui.version="1.13.2",
/*!
 * jQuery UI :data 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.extend(x.expr.pseudos,{data:x.expr.createPseudo?x.expr.createPseudo(function(e){return function(t){return!!x.data(t,e)}}):function(t,e,i){return!!x.data(t,i[3])}}),
/*!
 * jQuery UI Disable Selection 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),
/*!
 * jQuery UI Focusable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.ui.focusable=function(t,e){var i,n,o,s=t.nodeName.toLowerCase();return"area"===s?(o=(i=t.parentNode).name,!(!t.href||!o||"map"!==i.nodeName.toLowerCase())&&(0<(i=x("img[usemap='#"+o+"']")).length&&i.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(s)?(n=!t.disabled)&&(o=x(t).closest("fieldset")[0])&&(n=!o.disabled):n="a"===s&&t.href||e,n&&x(t).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)t=t.parent(),e=t.css("visibility");return"visible"===e}(x(t)))},x.extend(x.expr.pseudos,{focusable:function(t){return x.ui.focusable(t,null!=x.attr(t,"tabindex"))}}),x.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):x(this[0].form)},
/*!
 * jQuery UI Form Reset Mixin 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.ui.formResetMixin={_formResetHandler:function(){var e=x(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");x.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){var t;this.form=this.element._form(),this.form.length&&((t=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t))},_unbindFormResetHandler:function(){var t;this.form.length&&((t=this.form.data("ui-form-reset-instances")).splice(x.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},x.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),
/*!
 * jQuery UI Support for jQuery core 1.8.x and newer 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */
x.expr.pseudos||(x.expr.pseudos=x.expr[":"]),x.uniqueSort||(x.uniqueSort=x.unique),x.escapeSelector||(e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,i=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},x.escapeSelector=function(t){return(t+"").replace(e,i)}),x.fn.even&&x.fn.odd||x.fn.extend({even:function(){return this.filter(function(t){return t%2==0})},odd:function(){return this.filter(function(t){return t%2==1})}}),
/*!
 * jQuery UI Keycode 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},
/*!
 * jQuery UI Labels 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.fn.labels=function(){var t,e,i;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(e=this.eq(0).parents("label"),(t=this.attr("id"))&&(i=(i=this.eq(0).parents().last()).add((i.length?i:this).siblings()),t="label[for='"+x.escapeSelector(t)+"']",e=e.add(i.find(t).addBack(t))),this.pushStack(e)):this.pushStack([])},x.ui.plugin={add:function(t,e,i){var n,o=x.ui[t].prototype;for(n in i)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([e,i[n]])},call:function(t,e,i,n){var o,s=t.plugins[e];if(s&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)t.options[s[o][0]]&&s[o][1].apply(t.element,i)}},
/*!
 * jQuery UI Position 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
W=Math.max,C=Math.abs,o=/left|center|right/,s=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,a=/%$/,h=x.fn.position,x.position={scrollbarWidth:function(){var t,e,i;return void 0!==n?n:(i=(e=x("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>")).children()[0],x("body").append(e),t=i.offsetWidth,e.css("overflow","scroll"),t===(i=i.offsetWidth)&&(i=e[0].clientWidth),e.remove(),n=t-i)},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),e="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?x.position.scrollbarWidth():0,height:e?x.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=x(t||window),i=N(e[0]),n=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:n,offset:!i&&!n?x(t).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},x.fn.position=function(f){var c,d,p,g,m,v,y,w,b,_,t,e;return f&&f.of?(v="string"==typeof(f=x.extend({},f)).of?x(document).find(f.of):x(f.of),y=x.position.getWithinInfo(f.within),w=x.position.getScrollInfo(y),b=(f.collision||"flip").split(" "),_={},e=9===(e=(t=v)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:N(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()},v[0].preventDefault&&(f.at="left top"),d=e.width,p=e.height,m=x.extend({},g=e.offset),x.each(["my","at"],function(){var t,e,i=(f[this]||"").split(" ");(i=1===i.length?o.test(i[0])?i.concat(["center"]):s.test(i[0])?["center"].concat(i):["center","center"]:i)[0]=o.test(i[0])?i[0]:"center",i[1]=s.test(i[1])?i[1]:"center",t=r.exec(i[0]),e=r.exec(i[1]),_[this]=[t?t[0]:0,e?e[0]:0],f[this]=[l.exec(i[0])[0],l.exec(i[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===f.at[0]?m.left+=d:"center"===f.at[0]&&(m.left+=d/2),"bottom"===f.at[1]?m.top+=p:"center"===f.at[1]&&(m.top+=p/2),c=E(_.at,d,p),m.left+=c[0],m.top+=c[1],this.each(function(){var i,t,r=x(this),l=r.outerWidth(),a=r.outerHeight(),e=L(this,"marginLeft"),n=L(this,"marginTop"),o=l+e+L(this,"marginRight")+w.width,s=a+n+L(this,"marginBottom")+w.height,h=x.extend({},m),u=E(_.my,r.outerWidth(),r.outerHeight());"right"===f.my[0]?h.left-=l:"center"===f.my[0]&&(h.left-=l/2),"bottom"===f.my[1]?h.top-=a:"center"===f.my[1]&&(h.top-=a/2),h.left+=u[0],h.top+=u[1],i={marginLeft:e,marginTop:n},x.each(["left","top"],function(t,e){x.ui.position[b[t]]&&x.ui.position[b[t]][e](h,{targetWidth:d,targetHeight:p,elemWidth:l,elemHeight:a,collisionPosition:i,collisionWidth:o,collisionHeight:s,offset:[c[0]+u[0],c[1]+u[1]],my:f.my,at:f.at,within:y,elem:r})}),f.using&&(t=function(t){var e=g.left-h.left,i=e+d-l,n=g.top-h.top,o=n+p-a,s={target:{element:v,left:g.left,top:g.top,width:d,height:p},element:{element:r,left:h.left,top:h.top,width:l,height:a},horizontal:i<0?"left":0<e?"right":"center",vertical:o<0?"top":0<n?"bottom":"middle"};d<l&&C(e+i)<d&&(s.horizontal="center"),p<a&&C(n+o)<p&&(s.vertical="middle"),W(C(e),C(i))>W(C(n),C(o))?s.important="horizontal":s.important="vertical",f.using.call(this,t,s)}),r.offset(x.extend(h,{using:t}))})):h.apply(this,arguments)},x.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,n=n.width,s=t.left-e.collisionPosition.marginLeft,r=o-s,l=s+e.collisionWidth-n-o;e.collisionWidth>n?0<r&&l<=0?(i=t.left+r+e.collisionWidth-n-o,t.left+=r-i):t.left=!(0<l&&r<=0)&&l<r?o+n-e.collisionWidth:o:0<r?t.left+=r:0<l?t.left-=l:t.left=W(t.left-s,t.left)},top:function(t,e){var i,n=e.within,n=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,s=t.top-e.collisionPosition.marginTop,r=n-s,l=s+e.collisionHeight-o-n;e.collisionHeight>o?0<r&&l<=0?(i=t.top+r+e.collisionHeight-o-n,t.top+=r-i):t.top=!(0<l&&r<=0)&&l<r?n+o-e.collisionHeight:n:0<r?t.top+=r:0<l?t.top-=l:t.top=W(t.top-s,t.top)}},flip:{left:function(t,e){var i=e.within,n=i.offset.left+i.scrollLeft,o=i.width,i=i.isWindow?i.scrollLeft:i.offset.left,s=t.left-e.collisionPosition.marginLeft,r=s-i,s=s+e.collisionWidth-o-i,l="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,a="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,h=-2*e.offset[0];r<0?((o=t.left+l+a+h+e.collisionWidth-o-n)<0||o<C(r))&&(t.left+=l+a+h):0<s&&(0<(n=t.left-e.collisionPosition.marginLeft+l+a+h-i)||C(n)<s)&&(t.left+=l+a+h)},top:function(t,e){var i=e.within,n=i.offset.top+i.scrollTop,o=i.height,i=i.isWindow?i.scrollTop:i.offset.top,s=t.top-e.collisionPosition.marginTop,r=s-i,s=s+e.collisionHeight-o-i,l="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,a="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,h=-2*e.offset[1];r<0?((o=t.top+l+a+h+e.collisionHeight-o-n)<0||o<C(r))&&(t.top+=l+a+h):0<s&&(0<(n=t.top-e.collisionPosition.marginTop+l+a+h-i)||C(n)<s)&&(t.top+=l+a+h)}},flipfit:{left:function(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}},x.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch(t){i=e.body}return i=(i=i||e.body).nodeName?i:e.body},x.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&x(t).trigger("blur")},
/*!
 * jQuery UI Scroll Parent 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.fn.scrollParent=function(t){var e=this.css("position"),i="absolute"===e,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,t=this.parents().filter(function(){var t=x(this);return(!i||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&t.length?t:x(this[0].ownerDocument||document)},
/*!
 * jQuery UI Tabbable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.extend(x.expr.pseudos,{tabbable:function(t){var e=x.attr(t,"tabindex"),i=null!=e;return(!i||0<=e)&&x.ui.focusable(t,i)}}),
/*!
 * jQuery UI Unique ID 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.fn.extend({uniqueId:(u=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&x(this).removeAttr("id")})}});
/*!
 * jQuery UI Widget 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
var f,c=0,d=Array.prototype.hasOwnProperty,p=Array.prototype.slice;x.cleanData=(f=x.cleanData,function(t){for(var e,i,n=0;null!=(i=t[n]);n++)(e=x._data(i,"events"))&&e.remove&&x(i).triggerHandler("remove");f(t)}),x.widget=function(t,i,e){var n,o,s,r={},l=t.split(".")[0],a=l+"-"+(t=t.split(".")[1]);return e||(e=i,i=x.Widget),Array.isArray(e)&&(e=x.extend.apply(null,[{}].concat(e))),x.expr.pseudos[a.toLowerCase()]=function(t){return!!x.data(t,a)},x[l]=x[l]||{},n=x[l][t],o=x[l][t]=function(t,e){if(!this||!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},x.extend(o,n,{version:e.version,_proto:x.extend({},e),_childConstructors:[]}),(s=new i).options=x.widget.extend({},s.options),x.each(e,function(e,n){function o(){return i.prototype[e].apply(this,arguments)}function s(t){return i.prototype[e].apply(this,t)}r[e]="function"!=typeof n?n:function(){var t,e=this._super,i=this._superApply;return this._super=o,this._superApply=s,t=n.apply(this,arguments),this._super=e,this._superApply=i,t}}),o.prototype=x.widget.extend(s,{widgetEventPrefix:n&&s.widgetEventPrefix||t},r,{constructor:o,namespace:l,widgetName:t,widgetFullName:a}),n?(x.each(n._childConstructors,function(t,e){var i=e.prototype;x.widget(i.namespace+"."+i.widgetName,o,e._proto)}),delete n._childConstructors):i._childConstructors.push(o),x.widget.bridge(t,o),o},x.widget.extend=function(t){for(var e,i,n=p.call(arguments,1),o=0,s=n.length;o<s;o++)for(e in n[o])i=n[o][e],d.call(n[o],e)&&void 0!==i&&(x.isPlainObject(i)?t[e]=x.isPlainObject(t[e])?x.widget.extend({},t[e],i):x.widget.extend({},i):t[e]=i);return t},x.widget.bridge=function(s,e){var r=e.prototype.widgetFullName||s;x.fn[s]=function(i){var t="string"==typeof i,n=p.call(arguments,1),o=this;return t?this.length||"instance"!==i?this.each(function(){var t,e=x.data(this,r);return"instance"===i?(o=e,!1):e?"function"!=typeof e[i]||"_"===i.charAt(0)?x.error("no such method '"+i+"' for "+s+" widget instance"):(t=e[i].apply(e,n))!==e&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:x.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+i+"'")}):o=void 0:(n.length&&(i=x.widget.extend.apply(null,[i].concat(n))),this.each(function(){var t=x.data(this,r);t?(t.option(i||{}),t._init&&t._init()):x.data(this,r,new e(i,this))})),o}},x.Widget=function(){},x.Widget._childConstructors=[],x.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=x(e||this.defaultElement||this)[0],this.element=x(e),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=x(),this.hoverable=x(),this.focusable=x(),this.classesElementLookup={},e!==this&&(x.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=x(e.style?e.ownerDocument:e.document||e),this.window=x(this.document[0].defaultView||this.document[0].parentWindow)),this.options=x.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:x.noop,_create:x.noop,_init:x.noop,destroy:function(){var i=this;this._destroy(),x.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:x.noop,widget:function(){return this.element},option:function(t,e){var i,n,o,s=t;if(0===arguments.length)return x.widget.extend({},this.options);if("string"==typeof t)if(s={},t=(i=t.split(".")).shift(),i.length){for(n=s[t]=x.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)n[i[o]]=n[i[o]]||{},n=n[i[o]];if(t=i.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=e}return this._setOptions(s),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,i,n;for(e in t)n=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&n&&n.length&&(i=x(n.get()),this._removeClass(n,e),i.addClass(this._classes({element:i,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(o){var s=[],r=this;function t(t,e){for(var i,n=0;n<t.length;n++)i=r.classesElementLookup[t[n]]||x(),i=o.add?(function(){var i=[];o.element.each(function(t,e){x.map(r.classesElementLookup,function(t){return t}).some(function(t){return t.is(e)})||i.push(e)}),r._on(x(i),{remove:"_untrackClassesElement"})}(),x(x.uniqueSort(i.get().concat(o.element.get())))):x(i.not(o.element).get()),r.classesElementLookup[t[n]]=i,s.push(t[n]),e&&o.classes[t[n]]&&s.push(o.classes[t[n]])}return(o=x.extend({element:this.element,classes:this.options.classes||{}},o)).keys&&t(o.keys.match(/\S+/g)||[],!0),o.extra&&t(o.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(i){var n=this;x.each(n.classesElementLookup,function(t,e){-1!==x.inArray(i.target,e)&&(n.classesElementLookup[t]=x(e.not(i.target).get()))}),this._off(x(i.target))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){var o="string"==typeof t||null===t,e={extra:o?e:i,keys:o?t:e,element:o?this.element:t,add:n="boolean"==typeof n?n:i};return e.element.toggleClass(this._classes(e),n),this},_on:function(o,s,t){var r,l=this;"boolean"!=typeof o&&(t=s,s=o,o=!1),t?(s=r=x(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,r=this.widget()),x.each(t,function(t,e){function i(){if(o||!0!==l.options.disabled&&!x(this).hasClass("ui-state-disabled"))return("string"==typeof e?l[e]:e).apply(l,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||x.guid++);var t=t.match(/^([\w:-]*)\s*(.*)$/),n=t[1]+l.eventNamespace,t=t[2];t?r.on(n,t,i):s.on(n,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e),this.bindings=x(this.bindings.not(t).get()),this.focusable=x(this.focusable.not(t).get()),this.hoverable=x(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(x(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(x(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(x(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(x(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var n,o,s=this.options[t];if(i=i||{},(e=x.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(n in o)n in e||(e[n]=o[n]);return this.element.trigger(e,i),!("function"==typeof s&&!1===s.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},x.each({show:"fadeIn",hide:"fadeOut"},function(s,r){x.Widget.prototype["_"+s]=function(e,t,i){var n,o=(t="string"==typeof t?{effect:t}:t)?!0!==t&&"number"!=typeof t&&t.effect||r:s;"number"==typeof(t=t||{})?t={duration:t}:!0===t&&(t={}),n=!x.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),n&&x.effects&&x.effects.effect[o]?e[s](t):o!==s&&e[o]?e[o](t.duration,t.easing,i):e.queue(function(t){x(this)[s](),i&&i.call(e[0]),t()})}})});
/*!
 * jQuery UI Menu 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery)}(function(a){"use strict";return a.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault(),this._activateItem(e)},"click .ui-menu-item":function(e){var t=a(e.target),i=a(a.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),t.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this._menuItems().first();t||this.focus(e,i)},blur:function(e){this._delay(function(){a.contains(this.element[0],a.ui.safeActiveElement(this.document[0]))||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e,!0),this.mouseHandled=!1}})},_activateItem:function(e){var t,i;this.previousFilter||e.clientX===this.lastMousePosition.x&&e.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:e.clientX,y:e.clientY},t=a(e.target).closest(".ui-menu-item"),i=a(e.currentTarget),t[0]!==i[0]||i.is(".ui-state-active")||(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i)))},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=a(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var t,i,s,n=!0;switch(e.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(e);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case a.ui.keyCode.HOME:this._move("first","first",e);break;case a.ui.keyCode.END:this._move("last","last",e);break;case a.ui.keyCode.UP:this.previous(e);break;case a.ui.keyCode.DOWN:this.next(e);break;case a.ui.keyCode.LEFT:this.collapse(e);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(e);break;case a.ui.keyCode.ESCAPE:this.collapse(e);break;default:t=this.previousFilter||"",s=n=!1,i=96<=e.keyCode&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),i===t?s=!0:i=t+i,t=this._filterMenuItems(i),(t=s&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(i=String.fromCharCode(e.keyCode),t=this._filterMenuItems(i)),t.length?(this.focus(e,t),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}n&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,t,s=this,n=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),e=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=a(this),t=e.prev(),i=a("<span>").data("ui-menu-submenu-caret",!0);s._addClass(i,"ui-menu-icon","ui-icon "+n),t.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",t.attr("id"))}),this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front"),(e=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=a(this);s._isDivider(e)&&s._addClass(e,"ui-menu-divider","ui-widget-content")}),t=(i=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(t,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){var i;"icons"===e&&(i=this.element.find(".ui-menu-icon"),this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),i=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,i,s;this._hasScroll()&&(t=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,t=e.offset().top-this.activeMenu.offset().top-t-i,i=this.activeMenu.scrollTop(),s=this.activeMenu.height(),e=e.outerHeight(),t<0?this.activeMenu.scrollTop(i+t):s<t+e&&this.activeMenu.scrollTop(i+t-s+e))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var e=i?this.element:a(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this._removeClass(e.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=e},i?0:this.delay)},_close:function(e){(e=e||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!a(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this._menuItems(this.active.children(".ui-menu")).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(e){return(e||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(e,t,i){var s;(s=this.active?"first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").last():this.active[e+"All"](".ui-menu-item").first():s)&&s.length&&this.active||(s=this._menuItems(this.activeMenu)[t]()),this.focus(i,s)},nextPage:function(e){var t,i,s;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.innerHeight(),0===a.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(t=a(this)).offset().top-i-s<0}),this.focus(e,t)):this.focus(e,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,i,s;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.innerHeight(),0===a.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=a(this)).offset().top-i+s}),this.focus(e,t)):this.focus(e,this._menuItems(this.activeMenu).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||a(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)},_filterMenuItems:function(e){var e=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),t=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return t.test(String.prototype.trim.call(a(this).children(".ui-menu-item-wrapper").text()))})}})});
/*!
 * jQuery UI Autocomplete 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./menu","./core"],e):e(jQuery)}(function(o){"use strict";return o.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var i,s,n,e=this.element[0].nodeName.toLowerCase(),t="textarea"===e,e="input"===e;this.isMultiLine=t||!e&&this._isContentEditable(this.element),this.valueMethod=this.element[t||e?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))s=n=i=!0;else{s=n=i=!1;var t=o.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:i=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:i=!0,this._move("nextPage",e);break;case t.UP:i=!0,this._keyEvent("previous",e);break;case t.DOWN:i=!0,this._keyEvent("next",e);break;case t.ENTER:this.menu.active&&(i=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:s=!0,this._searchTimeout(e)}}},keypress:function(e){if(i)i=!1,this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault();else if(!s){var t=o.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){n?(n=!1,e.preventDefault()):this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=o("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault()},menufocus:function(e,t){var i,s;this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){o(e.target).trigger(e.originalEvent)})):(s=t.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:s})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value),(i=t.item.attr("aria-label")||s.value)&&String.prototype.trim.call(i).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(o("<div>").text(i))},100)))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==o.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=o("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var t=this.menu.element[0];return e.target===this.element[0]||e.target===t||o.contains(t,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e=(e=(e=e&&(e.jquery||e.nodeType?o(e):this.document.find(e).eq(0)))&&e[0]?e:this.element.closest(".ui-front, dialog")).length?e:this.document[0].body},_initSource:function(){var i,s,n=this;Array.isArray(this.options.source)?(i=this.options.source,this.source=function(e,t){t(o.ui.autocomplete.filter(i,e.term))}):"string"==typeof this.options.source?(s=this.options.source,this.source=function(e,t){n.xhr&&n.xhr.abort(),n.xhr=o.ajax({url:s,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(s){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),t=this.menu.element.is(":visible"),i=s.altKey||s.ctrlKey||s.metaKey||s.shiftKey;e&&(t||i)||(this.selectedItem=null,this.search(null,s))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e=e&&this._normalize(e),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:o.map(e,function(e){return"string"==typeof e?{label:e,value:e}:o.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(o.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,e){var s=this;o.each(e,function(e,t){s._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return o("<li>").append(o("<div>").text(t.label)).appendTo(e)},_move:function(e,t){this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur()):this.menu[e](t):this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){var t;return!!e.length&&("inherit"===(t=e.prop("contentEditable"))?this._isContentEditable(e.parent()):"true"===t)}}),o.extend(o.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var i=new RegExp(o.ui.autocomplete.escapeRegex(t),"i");return o.grep(e,function(e){return i.test(e.label||e.value||e)})}}),o.widget("ui.autocomplete",o.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(o("<div>").text(t))},100))}}),o.ui.autocomplete});
(function($){'use strict';var selectors={'wrapper':'div[role=search]','form':'form.g1-searchform-ajax','input':'form.g1-searchform-ajax input.search-field','results':'.g1-searches-ajax','seeAll':'.bimber-see-all-results'};g1.ajaxSearch=function(){if(!$.fn.autocomplete){return;}
var minLength=2;$(selectors.input).each(function(){var $input=$(this);var $form=$input.parents(selectors.form);var $wrapper=$input.parents(selectors.wrapper);$input.autocomplete({'appendTo':$form,'delay':500,'minLength':minLength,'source':function(request){var xhr=$.ajax({'type':'GET','url':g1.config.ajax_url,'dataType':'json','data':{'action':'bimber_search','bimber_term':request.term}});xhr.done(function(res){if(res.status==='success'){$wrapper.find(selectors.results).html(res.html);}});}});$input.on('keyup search',function(){if($(this).val().length<minLength){$wrapper.find(selectors.results).html('');}});$wrapper.on('click',selectors.seeAll,function(e){e.preventDefault();$form.submit();});});};$(document).ready(function(){g1.ajaxSearch();});})(jQuery);
(function($){'use strict';g1.customShareButtons=function(){openCustomSharesInNewWindow();};function openCustomSharesInNewWindow(){$('.mashicon-pinterest, .mashicon-google').click(function(e){var winWidth=750;var winHeight=550;var winTop=(screen.height/2)-(winHeight/2);var winLeft=(screen.width/2)-(winWidth/2);var url=$(this).attr('href');if('#'===url){url=$(this).attr('data-mashsb-url');}
window.open(url,'sharer','top='+winTop+',left='+winLeft+',toolbar=0,status=0,width='+winWidth+',height='+winHeight);e.preventDefault();});}
$('body').on('g1NewContentLoaded',function(){if(typeof lashare_fb=="undefined"&&typeof mashsb!=='undefined'){$('.mashicon-facebook').click(function(mashfb){var winWidth=520;var winHeight=550;var winTop=(screen.height/2)-(winHeight/2);var winLeft=(screen.width/2)-(winWidth/2);var url=$(this).attr('href');window.open(url,'sharer','top='+winTop+',left='+winLeft+',toolbar=0,status=0,width='+winWidth+',height='+winHeight);mashfb.preventDefault(mashfb);return false;});}
if(typeof mashsb!=='undefined'){$('.mashicon-twitter').click(function(e){var winWidth=520;var winHeight=350;var winTop=(screen.height/2)-(winHeight/2);var winLeft=(screen.width/2)-(winWidth/2);var url=$(this).attr('href');if(mashsb.twitter_popup==='1'){window.open(url,'sharer','top='+winTop+',left='+winLeft+',toolbar=0,status=0,width='+winWidth+',height='+winHeight);}
e.preventDefault();return false;});}});})(jQuery);(function($){'use strict';g1.customizeShareButtons=function(){overrideOnOffSwitch();subscribeViaMailbox();};function overrideOnOffSwitch(){var $onoffswitch=$('.onoffswitch');var $onoffswitch2=$('.onoffswitch2');$onoffswitch.off('click');$onoffswitch2.off('click');$onoffswitch.on('click',function(){var $container=$(this).parents('.mashsb-container');$('.onoffswitch',$container).hide();$('.secondary-shares',$container).show();$('.onoffswitch2',$container).show();});$onoffswitch2.on('click',function(){var $container=$(this).parents('.mashsb-container');$('.onoffswitch',$container).show();$('.secondary-shares',$container).hide();});}
function subscribeViaMailbox(){if(typeof mashsb!=='undefined'&&mashsb.subscribe==='content'){return;}
if(typeof mashsb!=='undefined'&&mashsb.subscribe_url!==''){return;}
$('a.mashicon-subscribe').each(function(){var $link=$(this);if($link.attr('href')==='#'){$link.off('click');var postTitle=$('head > title').text();var postUrl=location.href;var subject=g1.config.i18n.newsletter.subscribe_mail_subject_tpl.replace('%subject%',postTitle);var body=postTitle+'%0A%0A'+postUrl;var mailTo='mailto:?subject={subject}&body={body}';mailTo=mailTo.replace('{subject}',subject);mailTo=mailTo.replace('{body}',body);$link.attr('href',mailTo);}});}})(jQuery);(function($){'use strict';g1.shareBarTopOffsetSelectors=['#wpadminbar'];g1.shareBar=function(){var $shareBar=g1.activateShareBar();$('body').on('g1PageHeightChanged',function(){if($shareBar!==false){g1.updateShareBarPosition($shareBar);}});enquire.register('screen and ( min-width: 801px )',{match:function(){if($shareBar!==false){g1.updateShareBarPosition($shareBar);}},unmatch:function(){if($shareBar!==false){g1.updateShareBarPosition($shareBar);}}});};g1.activateShareBar=function(){var $shareBar=$('.g1-sharebar');var $shareButtons=$('.mashsb-main:first');if($shareBar.length===0||$shareButtons.length===0){return false;}
var $shareBarInner=$shareBar.find('.g1-sharebar-inner');if(!$shareBar.is('.g1-sharebar-loaded')){var $clonedShareButtons=$shareButtons.clone(true);if(typeof mashsb!=='undefined'&&mashsb.animate_shares==='1'&&$clonedShareButtons.find('.mashsbcount').length){$clonedShareButtons.find('.mashsbcount').text(mashsb.shares);}
$shareBarInner.append($clonedShareButtons);$shareBar.addClass('g1-sharebar-loaded');g1.updateShareBarPosition($shareBar);}
new Waypoint({element:$('body'),handler:function(direction){if(direction==='down'){$shareBar.addClass('g1-sharebar-on');$shareBar.removeClass('g1-sharebar-off');}else{$shareBar.removeClass('g1-sharebar-on');$shareBar.addClass('g1-sharebar-off');}},offset:function(){return-100;}});return $shareBar;};g1.updateShareBarPosition=function($shareBar){var shareBarWidth=parseInt($shareBar.outerWidth(),10);var cssMediaQueryBreakpoint=800;if(shareBarWidth<=cssMediaQueryBreakpoint){$shareBar.css('top','');}else{var top=0;for(var i=0;i<g1.shareBarTopOffsetSelectors.length;i++){var $element=$(g1.shareBarTopOffsetSelectors[i]);if($element.length>0&&$element.is(':visible')){top+=parseInt($element.outerHeight(),10);}}
$shareBar.css('top',top+'px');}};})(jQuery);(function($){'use strict';g1.loadNextPostConfig={'offset':'500%'};var selectors={'button':'.bimber-load-next-post','urlWaypoint':'.bimber-url-waypoint','elementButton':'.g1-auto-load-button'};g1.loadNextPost=function(){var mainUrl=window.location.href;var autoLoadLimit=g1.config.auto_load_limit;var loadedPosts=0;var loadNextEvent=function(e){e.preventDefault();if(autoLoadLimit>0&&loadedPosts>=autoLoadLimit){$(this).remove();return;}
var $button=$(this);var template='classic';if($('#secondary').length===0){template='row';}
$button.css('position','relative');$button.addClass('g1-collection-more-loading');var postUrl=$('a',this).attr('href');var gaPostUrl=$('a',this).attr('data-bimber-analytics-href');var url=postUrl+'?bimber_auto_load_next_post_template='+template;$('a',this).remove();var xhr=$.get(url);loadedPosts+=1;xhr.done(function(data){var $html=$($.parseHTML(data,document,true));var $content=$html.find('#content');var title=$($content.find('.entry-title')[0]).text();$content.find('#secondary').remove();var $insta=$('script[src="//platform.instagram.com/en_US/embeds.js"]');var mejsLoaded=typeof window.wp!=='undefined'&&typeof window.wp.mediaelement!=='undefined';if(!mejsLoaded){var matches=data.match(/<script(.|\n)*?<\/script>/g);var mejsCode='';matches.forEach(function(match){if(match.indexOf('mejs')>0||match.indexOf('mediaelement')>0){match=match.replace('<script','<script async');mejsCode+=match;}});matches=data.match(/<link(.|\n)*?\/>/g);matches.forEach(function(match){if(match.indexOf('mejs')>0||match.indexOf('mediaelement')>0){mejsCode+=match;}});$button.after(mejsCode);}
$button.before('<div class="g1-divider"></div>');$('body').trigger('g1BeforeNewContentReady',[$content]);var $scope=$($content.html()).insertAfter($button);if($insta.length>0){window.instgrm.Embeds.process();}
$button.remove();$('body').trigger('g1NewContentLoaded',[$scope]);if(typeof window.wp!=='undefined'&&typeof window.wp.mediaelement!=='undefined'){window.wp.mediaelement.initialize();}
if(typeof ga!=='undefined'&&typeof ga.getAll!=='undefined'){ga('create',ga.getAll()[0].get('trackingId'),'auto');ga('set',{location:gaPostUrl,title:title});ga('send','pageview');}
var $nonce=$html.find('#bimber-wpp-nonce');if($nonce.length>0){var nonce=$nonce.attr('data-bimber-wpp-nonce');var postId=$nonce.attr('data-bimber-wpp-id');g1.updatePostViews(nonce,postId);}
bindEvents();});xhr.always(function(){$button.removeClass('g1-collection-more-loading');});};var bindEvents=function(){$(selectors.button).click(loadNextEvent);$(selectors.elementButton).click(function(){window.history.replaceState({},'',mainUrl);});$(selectors.button).waypoint(function(direction){if('down'===direction){$(selectors.button).trigger('click');}},{offset:g1.loadNextPostConfig.offset});$(selectors.urlWaypoint).waypoint(function(direction){var $waypoint=$(this.element);if('up'===direction){var $waypointUp=$waypoint.parent('article').prev('.bimber-url-waypoint');if($waypointUp.length>0){$waypoint=$waypointUp;}}
var url=$waypoint.attr('data-bimber-post-url');var title=$waypoint.attr('data-bimber-post-title');var currentUrl=window.location.href;if(url!==currentUrl){var $article=$waypoint.next('article');var $mashShare=$('.mashsb-container',$article);var $shareBar=$('.g1-sharebar .g1-sharebar-inner');if($mashShare.length>0&&$.trim($shareBar.html())){$shareBar.html($mashShare[0].outerHTML);}
var $essbShare=$('.essb_topbar_inner',$article);var $essbBar=$('.essb_topbar_inner');if($essbShare.length>0&&$.trim($essbBar.html())){$essbBar.html($essbShare[0].outerHTML);}
g1.customizeShareButtons();window.history.replaceState({},'',url);document.title=title;}});};bindEvents();};})(jQuery);(function($){'use strict';var selectors={'wrapper':'.g1-comments','tabs':'.g1-tab-items > li','tab':'.g1-tab-item','currentTab':'.g1-tab-item-current','commentType':'.g1-comment-type'};var classes={'currentTab':'g1-tab-item-current','currentType':'g1-tab-pane-current','type':'g1-tab-pane','loading':'g1-loading','loaded':'g1-loaded'};var $wrapper;g1.comments=function(){$wrapper=$(selectors.wrapper);if($wrapper.length===0){return;}
if($wrapper.find('.cace-comments').length>0){return;}
g1.facebookComments();g1.disqusComments();initTabs();};var initTabs=function(){var $tabs=$wrapper.find(selectors.tabs);var currentType=$tabs.filter(selectors.currentTab).attr('data-bimber-type');if(!currentType){var types=g1.config.comment_types;if(types&&types.length>0){currentType=types[0];}else{currentType='wp';}}
$wrapper.find(selectors.commentType).each(function(){var $type=$(this);$type.addClass(classes.type);});if('dsq'===currentType){setTimeout(function(){selectTab(currentType);},1000);}else{selectTab(currentType);}
$tabs.on('click',function(){var type=$(this).attr('data-bimber-type');selectTab(type);});};var selectTab=function(type){var $tab=$wrapper.find(selectors.tab+'-'+type);var $type=$wrapper.find(selectors.commentType+'-'+type);if('fb'===type){if(!$type.hasClass(classes.loaded)){$type.addClass(classes.loading);}}
$wrapper.find(selectors.commentType).removeClass(classes.currentType);$type.addClass(classes.currentType);$type.trigger('loadComments');$wrapper.find(selectors.tabs).removeClass(classes.currentTab);$tab.addClass(classes.currentTab);};})(jQuery);(function($){'use strict';var selectors={'wrapper':'.g1-comment-type-fb','counter':'.g1-comment-count','list':'.g1-comment-list','tab':'.g1-comments .g1-tab-item-fb'};var classes={'loading':'g1-loading','loaded':'g1-loaded'};var $wrapper;var loaded=false;g1.facebookComments=function(){$wrapper=$(selectors.wrapper);if(!$wrapper.is('.g1-on-demand')){loaded=true;}
if($wrapper.length>0){init();return $wrapper;}else{return false;}};var init=function(){var origFbAsyncInit=window.fbAsyncInit;window.fbAsyncInit=function(){if(typeof FB==='undefined'){return;}
FB.Event.subscribe('xfbml.render',function(){$wrapper.removeClass(classes.loading);$wrapper.addClass(classes.loaded);var $counter=$wrapper.find(selectors.counter);var url=$counter.find('.fb_comments_count').attr('data-bimber-graph-api-url');FB.api('/'+url,'GET',{'fields':'engagement'},function(response){if(response.engagement){var count=response.engagement.comment_plugin_count;$('.fb_comments_count').html(count);}});var realCount=parseInt($counter.find('.fb_comments_count').text(),10);var postCount=parseInt($counter.attr('data-bimber-fb-comment-count'),10);if(realCount!==postCount){save(realCount);}});FB.Event.subscribe('comment.create',function(){changeCommentsNumber(1);});FB.Event.subscribe('comment.remove',function(){changeCommentsNumber(-1);});if(typeof origFbAsyncInit==='function'){origFbAsyncInit();}};$wrapper.on('loadComments',function(){if(loaded){return;}
$wrapper.addClass(classes.loading);loadComments(function(html){g1.resetFacebookSDK();$wrapper.find(selectors.list).html(html);$wrapper.removeClass(classes.loading);});});};var changeCommentsNumber=function(diff){var $counter=$wrapper.find(selectors.counter);var postCount=parseInt($counter.attr('data-bimber-fb-comment-count'),10);postCount+=diff;$wrapper.find('.fb_comments_count').text(postCount);$counter.attr('data-bimber-fb-comment-count',postCount);var $postCommentCount=$wrapper.parents('#content').find('.entry-comments-link strong');var postCommentCount=parseInt($postCommentCount.text(),10);$postCommentCount.text(postCommentCount+diff);var $fbCount=$(selectors.tab).find('a > span');if($fbCount.length>0){var fbCount=parseInt($fbCount.text(),10);$fbCount.text(fbCount+diff);}
save(postCount);};var save=function(newCount){var postId=$wrapper.find(selectors.counter).attr('data-bimber-post-id');var nonce=$wrapper.find(selectors.counter).attr('data-bimber-nonce');$.ajax({'type':'POST','url':g1.config.ajax_url,'dataType':'json','data':{'action':'bimber_update_fb_comment_count','post_id':postId,'security':nonce,'count':newCount}});};var loadComments=function(callback){var postId=$wrapper.find(selectors.counter).attr('data-bimber-post-id');var xhr=$.ajax({'type':'GET','url':g1.config.ajax_url,'data':{'action':'bimber_load_fbcommentbox','post_id':postId}});xhr.done(function(res){callback(res);loaded=true;});};})(jQuery);(function($){'use strict';var selectors={'wrapper':'.g1-comment-type-dsq','counter':'.g1-comment-count','list':'.g1-comment-list','tab':'.g1-comments .g1-tab-item-dsq'};var classes={'loading':'g1-loading'};var $wrapper;var loaded=false;g1.disqusComments=function(){$wrapper=$(selectors.wrapper);if($wrapper.length>0){init();return $wrapper;}else{return false;}};var init=function(){var origDsqConfig=window.disqus_config;window.disqus_config=function(){if(typeof origDsqConfig==='function'){origDsqConfig();$wrapper.removeClass(classes.loading);loaded=true;}
var $counter=$wrapper.find(selectors.counter);var realCount=parseInt($counter.find('.disqus-comment-count').text(),10);var postCount=parseInt($counter.attr('data-bimber-dsq-comment-count'),10);if(realCount!==postCount){save(realCount);}
this.callbacks.onNewComment=[function(){changeCommentsNumber(1);}];};$wrapper.on('loadComments',function(){if(loaded){return;}
$wrapper.addClass(classes.loading);loadComments();});};var changeCommentsNumber=function(diff){var $counter=$wrapper.find(selectors.counter);var postCount=parseInt($counter.attr('data-bimber-dsq-comment-count'),10);postCount+=diff;$wrapper.find('.disqus-comment-count').text(postCount);$counter.attr('data-bimber-dsq-comment-count',postCount);var $postCommentCount=$wrapper.parents('#content').find('.entry-comments-link strong');var postCommentCount=parseInt($postCommentCount.text(),10);$postCommentCount.text(postCommentCount+diff);var $dsqCount=$(selectors.tab).find('a > span');if($dsqCount.length>0){var dsqCount=parseInt($dsqCount.text(),10);$dsqCount.text(dsqCount+diff);}
save(postCount);};var save=function(newCount){var postId=$wrapper.find(selectors.counter).attr('data-bimber-post-id');var nonce=$wrapper.find(selectors.counter).attr('data-bimber-nonce');$.ajax({'type':'POST','url':g1.config.ajax_url,'dataType':'json','data':{'action':'bimber_dsq_update_comment_count','post_id':postId,'security':nonce,'count':newCount}});};var loadComments=function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='https://'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);};})(jQuery);(function($){'use strict';$(document).ready(function(){g1.customShareButtons();g1.customizeShareButtons();if(g1.config.sharebar==='on'){g1.shareBar();}
g1.comments();g1.loadNextPost();});})(jQuery);
(function($){"use strict";$(document).ready(function(){});$(window).load(function(){});})(jQuery);
(function($){'use strict';g1.skinSwitcher=function(){if(typeof g1SwitchSkin==='undefined'){return;}
$('.g1-drop-the-skin').each(function(){var $this=$(this);var $skinItemId=$('meta[name="g1:skin-item-id"]');var skinItemId=$skinItemId.length>0?$skinItemId.attr('content'):'g1_skin';if(localStorage.getItem(skinItemId)){if($this.is('.g1-drop-the-skin-light')){$this.removeClass('g1-drop-nojs g1-drop-the-skin-light').addClass('g1-drop-the-skin-dark');}else{$this.removeClass('g1-drop-nojs g1-drop-the-skin-dark').addClass('g1-drop-the-skin-light');}}else{$this.removeClass('g1-drop-nojs');}});$('body').on('click','.g1-drop-the-skin',function(){var $this=$(this);$this.addClass('g1-drop-the-skin-anim');if($this.is('.g1-drop-the-skin-light')){$this.removeClass('g1-drop-the-skin-light').addClass('g1-drop-the-skin-dark');g1SwitchSkin('dark');}else{$this.removeClass('g1-drop-the-skin-dark').addClass('g1-drop-the-skin-light');g1SwitchSkin('light');}});};$(document).ready(function(){g1.skinSwitcher();});})(jQuery);
/*!
 * Flickity PACKAGED v2.2.1
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2019 Metafizzy
 */
!function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";var i=Array.prototype.slice,n=t.console,d=void 0===n?function(){}:function(t){n.error(t)};function s(h,s,c){(c=c||e||t.jQuery)&&(s.prototype.option||(s.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),c.fn[h]=function(t){return"string"==typeof t?function(t,o,r){var a,l="$()."+h+'("'+o+'")';return t.each(function(t,e){var i=c.data(e,h);if(i){var n=i[o];if(n&&"_"!=o.charAt(0)){var s=n.apply(i,r);a=void 0===a?s:a}else d(l+" is not a valid method")}else d(h+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==a?a:t}(this,t,i.call(arguments,1)):(function(t,n){t.each(function(t,e){var i=c.data(e,h);i?(i.option(n),i._init()):(i=new s(e,n),c.data(e,h,i))})}(this,t),this)},o(c))}function o(t){!t||t&&t.bridget||(t.bridget=s)}return o(e||t.jQuery),s}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var o=i[s];n&&n[o]&&(this.off(t,o),delete n[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function m(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var i="undefined"==typeof console?function(){}:function(t){console.error(t)},y=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],b=y.length;function E(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var S,C=!1;function x(t){if(function(){if(!C){C=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var e=document.body||document.documentElement;e.appendChild(t);var i=E(t);S=200==Math.round(m(i.width)),x.isBoxSizeOuter=S,e.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=E(t);if("none"==e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<b;e++){t[y[e]]=0}return t}();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var n=i.isBorderBox="border-box"==e.boxSizing,s=0;s<b;s++){var o=y[s],r=e[o],a=parseFloat(r);i[o]=isNaN(a)?0:a}var l=i.paddingLeft+i.paddingRight,h=i.paddingTop+i.paddingBottom,c=i.marginLeft+i.marginRight,d=i.marginTop+i.marginBottom,u=i.borderLeftWidth+i.borderRightWidth,f=i.borderTopWidth+i.borderBottomWidth,p=n&&S,g=m(e.width);!1!==g&&(i.width=g+(p?0:l+u));var v=m(e.height);return!1!==v&&(i.height=v+(p?0:h+f)),i.innerWidth=i.width-(l+u),i.innerHeight=i.height-(h+f),i.outerWidth=i.width+c,i.outerHeight=i.height+d,i}}return x}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(h,o){var c={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice;c.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},c.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},c.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,o(t,e))return t},c.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},c.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.filterFindElements=function(t,n){t=c.makeArray(t);var s=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){o(t,n)&&s.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)s.push(e[i])}else s.push(t)}),s},c.debounceMethod=function(t,e,n){n=n||100;var s=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];clearTimeout(t);var e=arguments,i=this;this[o]=setTimeout(function(){s.apply(i,e),delete i[o]},n)}},c.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},c.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var d=h.console;return c.htmlInit=function(a,l){c.docReady(function(){var t=c.toDashed(l),s="data-"+t,e=document.querySelectorAll("["+s+"]"),i=document.querySelectorAll(".js-"+t),n=c.makeArray(e).concat(c.makeArray(i)),o=s+"-options",r=h.jQuery;n.forEach(function(e){var t,i=e.getAttribute(s)||e.getAttribute(o);try{t=i&&JSON.parse(i)}catch(t){return void(d&&d.error("Error parsing "+s+" on "+e.className+": "+t))}var n=new a(e,t);r&&r.data(e,l,n)})})},c}),function(e,i){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("get-size")):(e.Flickity=e.Flickity||{},e.Flickity.Cell=i(e,e.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0},n.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]=""},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},n.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.Flickity=t.Flickity||{},t.Flickity.Slide=e())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach(function(t){t.select()})},e.unselect=function(){this.cells.forEach(function(t){t.unselect()})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t}),function(e,i){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("fizzy-ui-utils")):(e.Flickity=e.Flickity||{},e.Flickity.animatePrototype=i(e,e.fizzyUIUtils))}(window,function(t,e){var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame(function(){e.animate()})}},positionSlider:function(){var t=this.x;this.options.wrapAround&&1<this.cells.length&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var n=0;n<t.length;n++){var s=t[n],o=0<e?i:0;s.wrapShift(o),e-=s.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x-this.velocity;this.applyForce(t)}},applySelectedAttraction:function(){if(!(this.isDraggable&&this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(t)}}};return i}),function(r,a){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(t,e,i,n,s,o){return a(r,t,e,i,n,s,o)});else if("object"==typeof module&&module.exports)module.exports=a(r,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var t=r.Flickity;r.Flickity=a(r,r.EvEmitter,r.getSize,r.fizzyUIUtils,t.Cell,t.Slide,t.animatePrototype)}}(window,function(n,t,e,a,i,r,s){var l=n.jQuery,o=n.getComputedStyle,h=n.console;function c(t,e){for(t=a.makeArray(t);t.length;)e.appendChild(t.shift())}var d=0,u={};function f(t,e){var i=a.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var n=u[this.element.flickityGUID];return n.option(e),n}l&&(this.$element=l(this.element)),this.options=a.extend({},this.constructor.defaults),this.option(e),this._create()}else h&&h.error("Bad element for Flickity: "+(i||t))}f.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},f.createMethods=[];var p=f.prototype;a.extend(p,t.prototype),p._create=function(){var t=this.guid=++d;for(var e in this.element.flickityGUID=t,(u[t]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&n.addEventListener("resize",this),this.options.on){var i=this.options.on[e];this.on(e,i)}f.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},p.option=function(t){a.extend(this.options,t)},p.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),c(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},p._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},p._filterFindCellElements=function(t){return a.filterFindElements(t,this.options.cellSelector)},p.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},p._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new i(t,this)},this)},p.getLastCell=function(){return this.cells[this.cells.length-1]},p.getLastSlide=function(){return this.slides[this.slides.length-1]},p.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},p._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(0<t){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,s=t;s<n;s++){var o=this.cells[s];o.setPosition(e),e+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},p._sizeCells=function(t){t.forEach(function(t){t.getSize()})},p.updateSlides=function(){if(this.slides=[],this.cells.length){var n=new r(this);this.slides.push(n);var s="left"==this.originSide?"marginRight":"marginLeft",o=this._getCanCellFit();this.cells.forEach(function(t,e){if(n.cells.length){var i=n.outerWidth-n.firstMargin+(t.size.outerWidth-t.size[s]);o.call(this,e,i)||(n.updateTarget(),n=new r(this),this.slides.push(n)),n.addCell(t)}else n.addCell(t)},this),n.updateTarget(),this.updateSelectedSlide()}},p._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},p._init=p.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},p.getSize=function(){this.size=e(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var g={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return p.setCellAlign=function(){var t=g[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},p.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},p._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},p._getGapCells=function(t,e,i){for(var n=[];0<t;){var s=this.cells[e];if(!s)break;n.push(s),e+=i,t-=s.size.outerWidth}return n},p._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],s=n<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],r=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){s?t.target=n*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,r))},this)}},p.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),l&&this.$element){var s=t+=this.options.namespaceJQueryEvents?".flickity":"";if(e){var o=l.Event(e);o.type=t,s=o}this.$element.trigger(s,i)}},p.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=a.modulo(t,this.slides.length)),this.slides[t])){var n=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=n&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},p._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&1<e))return t;var i=a.modulo(t,e),n=Math.abs(i-this.selectedIndex),s=Math.abs(i+e-this.selectedIndex),o=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&s<n?t+=e:!this.isDragSelect&&o<n&&(t-=e),t<0?this.x-=this.slideableWidth:e<=t&&(this.x+=this.slideableWidth)},p.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},p.next=function(t,e){this.select(this.selectedIndex+1,t,e)},p.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),(this.selectedSlide=t).select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},p.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},p.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t)if(this.queryCell(t))return void this.selectCell(t,!1,!0);var e=0;t&&this.slides[t]&&(e=t),this.select(e,!1,!0)}},p.selectCell=function(t,e,i){var n=this.queryCell(t);if(n){var s=this.getCellSlideIndex(n);this.select(s,e,i)}},p.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){if(-1!=this.slides[e].cells.indexOf(t))return e}},p.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},p.getCells=function(t){t=a.makeArray(t);var i=[];return t.forEach(function(t){var e=this.getCell(t);e&&i.push(e)},this),i},p.getCellElements=function(){return this.cells.map(function(t){return t.element})},p.getParentCell=function(t){var e=this.getCell(t);return e||(t=a.getParent(t,".flickity-slider > *"),this.getCell(t))},p.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(i<=1+2*t)return this.getCellElements();for(var n=[],s=e-t;s<=e+t;s++){var o=this.options.wrapAround?a.modulo(s,i):s,r=this.slides[o];r&&(n=n.concat(r.getCellElements()))}return n},p.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#\.]?[\d\/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},p.uiChange=function(){this.emitEvent("uiChange")},p.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},p.onresize=function(){this.watchCSS(),this.resize()},a.debounceMethod(f,"onresize",150),p.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=a.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},p.watchCSS=function(){this.options.watchCSS&&(-1!=o(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},p.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=f.keyboardHandlers[t.keyCode];i&&i.call(this)}},f.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},p.focus=function(){var t=n.pageYOffset;this.element.focus({preventScroll:!0}),n.pageYOffset!=t&&n.scrollTo(n.pageXOffset,t)},p.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){t.destroy()}),this.element.removeChild(this.viewport),c(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},p.destroy=function(){this.deactivate(),n.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),l&&this.$element&&l.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete u[this.guid]},a.extend(p,s),f.data=function(t){var e=(t=a.getQueryElement(t))&&t.flickityGUID;return e&&u[e]},a.htmlInit(f,"flickity"),l&&l.bridget&&l.bridget("flickity",f),f.setJQuery=function(t){l=t},f.Cell=i,f.Slide=r,f}),function(e,i){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.Unipointer=i(e,e.EvEmitter)}(window,function(s,t){function e(){}var i=e.prototype=Object.create(t.prototype);i.bindStartEvent=function(t){this._bindStartEvent(t,!0)},i.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},i._bindStartEvent=function(t,e){var i=(e=void 0===e||e)?"addEventListener":"removeEventListener",n="mousedown";s.PointerEvent?n="pointerdown":"ontouchstart"in s&&(n="touchstart"),t[i](n,this)},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},i.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},i.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},i.onpointerdown=function(t){this._pointerDown(t,t)},i._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},i.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(t){if(t){var e=n[t.type];e.forEach(function(t){s.addEventListener(t,this)},this),this._boundPointerEvents=e}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){s.removeEventListener(t,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(t){this._pointerMove(t,t)},i.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},i.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},i._pointerMove=function(t,e){this.pointerMove(t,e)},i.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},i.onmouseup=function(t){this._pointerUp(t,t)},i.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},i.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},i._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},i._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},i._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},i.pointerDone=function(){},i.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},i.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},i._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},i.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},e.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},e}),function(e,i){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("unipointer")):e.Unidragger=i(e,e.Unipointer)}(window,function(o,t){function e(){}var i=e.prototype=Object.create(t.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(t){for(var e=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",n=0;n<this.handles.length;n++){var s=this.handles[n];this._bindStartEvent(s,t),s[e]("click",this),o.PointerEvent&&(s.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer=e,t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var s={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},r={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(t){var e=s[t.target.nodeName],i=r[t.target.type],n=!e||i;return n||this._pointerReset(),n},i.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},i.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},i._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},i.hasDragStarted=function(t){return 3<Math.abs(t.x)||3<Math.abs(t.y)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},i._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},i._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},i.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},i._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},i.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},i._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},i.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},i.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},i._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},e.getPointerPoint=t.getPointerPoint,e}),function(n,s){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(t,e,i){return s(n,t,e,i)}):"object"==typeof module&&module.exports?module.exports=s(n,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):n.Flickity=s(n,n.Flickity,n.Unidragger,n.fizzyUIUtils)}(window,function(i,t,e,a){a.extend(t.defaults,{draggable:">1",dragThreshold:3}),t.createMethods.push("_createDrag");var n=t.prototype;a.extend(n,e.prototype),n._touchActionValue="pan-y";var s="createTouch"in document,o=!1;n._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),s&&!o&&(i.addEventListener("touchmove",function(){}),o=!0)},n.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},n.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},n.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},n.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},n.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},n._uiChangeDrag=function(){delete this.isFreeScrolling},n.pointerDown=function(t,e){this.isDraggable?this.okayPointerDown(t)&&(this._pointerDownPreventDefault(t),this.pointerDownFocus(t),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=l(),i.addEventListener("scroll",this),this._pointerDownDefault(t,e)):this._pointerDownDefault(t,e)},n._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var r={INPUT:!0,TEXTAREA:!0,SELECT:!0};function l(){return{x:i.pageXOffset,y:i.pageYOffset}}return n.pointerDownFocus=function(t){r[t.target.nodeName]||this.focus()},n._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=r[t.target.nodeName];e||i||n||t.preventDefault()},n.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},n.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},n.pointerDone=function(){i.removeEventListener("scroll",this),delete this.pointerDownScroll},n.dragStart=function(t,e){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),i.removeEventListener("scroll",this),this.dispatchEvent("dragStart",t,[e]))},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},n.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x=i.x%this.slideableWidth);var s=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);s=o<s?.5*(s+o):s;var r=Math.min(-this.getLastSlide().target,this.dragStartPosition);s=s<r?.5*(s+r):s}this.dragX=s,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},n.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},n.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1);return i.distance<n.distance?i.index:n.index},n._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,s=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};o(e,s)&&(n+=i,s=e,null!==(e=this.getSlideDistance(-t,n)));)e=Math.abs(e);return{distance:s,index:n-i}},n.getSlideDistance=function(t,e){var i=this.slides.length,n=this.options.wrapAround&&1<i,s=n?a.modulo(e,i):e,o=this.slides[s];if(!o)return null;var r=n?this.slideableWidth*Math.floor(e/i):0;return t-(o.target+r)},n.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return 0<t&&0<e?1:t<0&&e<0?-1:0},n.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,s=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,s])},n.onscroll=function(){var t=l(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(3<Math.abs(e)||3<Math.abs(i))&&this._pointerDone()},t}),function(n,s){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(t,e,i){return s(n,t,e,i)}):"object"==typeof module&&module.exports?module.exports=s(n,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):s(n,n.Flickity,n.Unipointer,n.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";var s="http://www.w3.org/2000/svg";function o(t,e){this.direction=t,this.parent=e,this._create()}(o.prototype=Object.create(i.prototype))._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var t=document.createElementNS(s,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(s,"path"),i=function(t){return"string"!=typeof t?"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z":t}(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},o.prototype.handleEvent=n.handleEvent,o.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&1<t.length)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e;this[this.parent.selectedIndex==i?"disable":"enable"]()}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var r=e.prototype;return r._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},r.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},r.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=o,e}),function(n,s){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(t,e,i){return s(n,t,e,i)}):"object"==typeof module&&module.exports?module.exports=s(n,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):s(n,n.Flickity,n.Unipointer,n.fizzyUIUtils)}(window,function(t,e,i,n){function s(t){this.parent=t,this._create()}(s.prototype=Object.create(i.prototype))._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},s.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;0<t?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,s=n+t,o=n;o<s;o++){var r=document.createElement("li");r.className="dot",r.setAttribute("aria-label","Page dot "+(o+1)),e.appendChild(r),i.push(r)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},s.prototype.onTap=s.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},s.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=s,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=s,e}),function(t,n){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(t,e,i){return n(t,e,i)}):"object"==typeof module&&module.exports?module.exports=n(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):n(t.EvEmitter,t.fizzyUIUtils,t.Flickity)}(window,function(t,e,i){function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}(n.prototype=Object.create(t.prototype)).play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var s=i.prototype;return s._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},s.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},s.playPlayer=function(){this.player.play()},s.stopPlayer=function(){this.player.stop()},s.pausePlayer=function(){this.player.pause()},s.unpausePlayer=function(){this.player.unpause()},s.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},s.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},s.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}),function(i,n){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./flickity"),require("fizzy-ui-utils")):n(i,i.Flickity,i.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype;return i.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var n=this.cells.length;e=void 0===e?n:e;var s=function(t){var e=document.createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element)}),e}(i),o=e==n;if(o)this.slider.appendChild(s);else{var r=this.cells[e].element;this.slider.insertBefore(s,r)}if(0===e)this.cells=i.concat(this.cells);else if(o)this.cells=this.cells.concat(i);else{var a=this.cells.splice(e,n-e);this.cells=this.cells.concat(i).concat(a)}this._sizeCells(i),this.cellChange(e,!0)}},i.append=function(t){this.insert(t,this.cells.length)},i.prepend=function(t){this.insert(t,0)},i.remove=function(t){var e=this.getCells(t);if(e&&e.length){var i=this.cells.length-1;e.forEach(function(t){t.remove();var e=this.cells.indexOf(t);i=Math.min(e,i),n.removeFrom(this.cells,t)},this),this.cellChange(i,!0)}},i.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},i.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}),function(i,n){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./flickity"),require("fizzy-ui-utils")):n(i,i.Flickity,i.fizzyUIUtils)}(window,function(t,e,o){"use strict";e.createMethods.push("_createLazyload");var i=e.prototype;function s(t,e){this.img=t,this.flickity=e,this.load()}return i._createLazyload=function(){this.on("select",this.lazyLoad)},i.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),n=[];i.forEach(function(t){var e=function(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),i=t.getAttribute("data-flickity-lazyload-src"),n=t.getAttribute("data-flickity-lazyload-srcset");if(e||i||n)return[t]}var s=t.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return o.makeArray(s)}(t);n=n.concat(e)}),n.forEach(function(t){new s(t,this)},this)}},s.prototype.handleEvent=o.handleEvent,s.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},s.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},s.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},s.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(t){return t}),function(t,e){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t.Flickity,t.fizzyUIUtils)}(window,function(n,s){n.createMethods.push("_createAsNavFor");var t=n.prototype;return t._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t=this.options.asNavFor;if(t){var e=this;setTimeout(function(){e.setNavCompanion(t)})}},t.setNavCompanion=function(t){t=s.getQueryElement(t);var e=n.data(t);if(e&&e!=this){this.navCompanion=e;var i=this;this.onNavCompanionSelect=function(){i.navCompanionSelect()},e.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},t.navCompanionSelect=function(t){var e=this.navCompanion&&this.navCompanion.selectedCells;if(e){var i=e[0],n=this.navCompanion.cells.indexOf(i),s=n+e.length-1,o=Math.floor(function(t,e,i){return(e-t)*i+t}(n,s,this.navCompanion.cellAlign));if(this.selectCell(o,!1,t),this.removeNavSelectedElements(),!(o>=this.cells.length)){var r=this.cells.slice(n,1+s);this.navSelectedElements=r.map(function(t){return t.element}),this.changeNavSelectedClass("add")}}},t.changeNavSelectedClass=function(e){this.navSelectedElements.forEach(function(t){t.classList[e]("is-nav-selected")})},t.activateAsNavFor=function(){this.navCompanionSelect(!0)},t.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},t.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.selectCell(n)},t.deactivateAsNavFor=function(){this.removeNavSelectedElements()},t.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},n}),function(e,i){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){var s=e.jQuery,o=e.console;function r(t,e){for(var i in e)t[i]=e[i];return t}var a=Array.prototype.slice;function l(t,e,i){if(!(this instanceof l))return new l(t,e,i);var n=t;"string"==typeof t&&(n=document.querySelectorAll(t)),n?(this.elements=function(t){return Array.isArray(t)?t:"object"==typeof t&&"number"==typeof t.length?a.call(t):[t]}(n),this.options=r({},this.options),"function"==typeof e?i=e:r(this.options,e),i&&this.on("always",i),this.getImages(),s&&(this.jqDeferred=new s.Deferred),setTimeout(this.check.bind(this))):o.error("Bad element for imagesLoaded "+(n||t))}(l.prototype=Object.create(t.prototype)).options={},l.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},l.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&h[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var r=o[n];this.addElementBackgroundImages(r)}}}};var h={1:!0,9:!0,11:!0};function i(t){this.img=t}function n(t,e){this.url=t,this.element=e,this.img=new Image}return l.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[2];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}},l.prototype.addImage=function(t){var e=new i(t);this.images.push(e)},l.prototype.addBackground=function(t,e){var i=new n(t,e);this.images.push(i)},l.prototype.check=function(){var n=this;function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},l.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&o&&o.log("progress: "+i,t,e)},l.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},(i.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},l.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((s=t).fn.imagesLoaded=function(t,e){return new l(this,t,e).jqDeferred.promise(s(this))})},l.makeJQueryPlugin(),l}),function(i,n){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("flickity"),require("imagesloaded")):i.Flickity=n(i,i.Flickity,i.imagesLoaded)}(window,function(t,e,i){"use strict";e.createMethods.push("_createImagesLoaded");var n=e.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){if(this.options.imagesLoaded){var n=this;i(this.slider).on("progress",function(t,e){var i=n.getParentCell(e.img);n.cellSizeChange(i&&i.element),n.options.freeScroll||n.positionSliderAtSelected()})}},e});
(function($){'use strict';g1.backToTop=function(){var $scrollToTop=$('.g1-back-to-top');toggleVisibility($scrollToTop);$scrollToTop.on('click',function(e){e.preventDefault();var multipier=200;var durationRange={min:200,max:1000};var winHeight=$(window).height();var docHeight=$(document).height();var proportion=Math.floor(docHeight/winHeight);var duration=proportion*multipier;if(duration<durationRange.min){duration=durationRange.min;}
if(duration>durationRange.max){duration=durationRange.max;}
$('html, body').animate({scrollTop:0},duration);});$(window).scroll(function(){window.requestAnimationFrame(function(){toggleVisibility($scrollToTop);});});};function toggleVisibility($scrollToTop){if($(window).scrollTop()>240){$scrollToTop.addClass('g1-back-to-top-on').removeClass('g1-back-to-top-off');}else{$scrollToTop.addClass('g1-back-to-top-off').removeClass('g1-back-to-top-on');}}
$(document).ready(function(){g1.backToTop();});})(jQuery);